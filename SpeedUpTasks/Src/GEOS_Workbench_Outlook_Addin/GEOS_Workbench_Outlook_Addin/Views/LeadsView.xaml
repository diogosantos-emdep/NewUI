<UserControl x:Class="Emdep.Geos.Modules.Crm.Views.LeadsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
             xmlns:ViewModels="clr-namespace:Emdep.Geos.Modules.Crm.ViewModels"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm" 
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core" 
             xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions"
             xmlns:dxci="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
             xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
             xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters" 
             xmlns:dxpg="http://schemas.devexpress.com/winfx/2008/xaml/pivotgrid"
             xmlns:local="clr-namespace:Emdep.Geos.Modules.Crm.Views"
             xmlns:dxp="http://schemas.devexpress.com/winfx/2008/xaml/printing" 
             xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity" 
             xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
             xmlns:Behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
             xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
             xmlns:Interactive="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
             xmlns:gif="http://wpfanimatedgif.codeplex.com"
             xmlns:dxprg="http://schemas.devexpress.com/winfx/2008/xaml/propertygrid"
             xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
             xmlns:dxnav="http://schemas.devexpress.com/winfx/2008/xaml/navigation"
             xmlns:dxwuin="http://schemas.devexpress.com/winfx/2008/xaml/windowsui/navigation" 
             mc:Ignorable="d"
             Height="Auto" Width="Auto"
             xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations" 
             Style="{DynamicResource UserControlStyle}" >

    <dxmvvm:Interaction.Behaviors>
        <dx:DXMessageBoxService />
        <dxmvvm:SaveFileDialogService Title="Save Excel Report"/>
        <UIHelper:TimeLineCustomGridService Grid="{Binding ElementName=grid}"/>
    </dxmvvm:Interaction.Behaviors>
    <UserControl.Resources>

        <Style x:Key="HideButtonStyle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Border BorderThickness="0" Background="{TemplateBinding Background}">
                            <Grid>
                                <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                   Source="/Emdep.Geos.Modules.Warehouse;component/Assets/Images/ArrowRight.png"
                                   Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter Inverse=True}}"/>
                                <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                   Source="/Emdep.Geos.Modules.Warehouse;component/Assets/Images/ArrowLeft.png"
                                   Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter}}"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="LeftPanelTileItemStyle" TargetType="{x:Type dxnav:TileBarItem}">
            <Setter Property="Foreground" Value="{Binding ForeColor,Converter={UIConverter:ForegroundColorConverter}}"/>
            <Setter Property="BorderBrush" Value="#FFD6D6D6"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="{Binding BackColor}"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Stretch"/>
            <Setter Property="Height" Value="{Binding Height}"/>
            <Setter Property="Width" Value="{Binding Width}"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="SelectionPadding" Value="0" />
            <Setter Property="ContentTemplate" >
                <Setter.Value >
                    <DataTemplate >
                        <StackPanel Orientation="Vertical" HorizontalAlignment="Left" Width="195" Height="75"  >
                            <Label Content="{Binding EntitiesCount,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" HorizontalContentAlignment="Right"   Margin="0,-5,8,0" VerticalContentAlignment="Top" FontSize="36" Visibility="{Binding EntitiesCountVisibility}"></Label>
                            <Label Content="{Binding Caption, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalContentAlignment="Left" Margin="6,0,0,3" VerticalAlignment="Bottom" FontSize="15" ></Label>
                        </StackPanel>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="BorderThickness" Value="5"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource TileBarItemColorStyle}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!--<Style TargetType="dxnav:TileBarItem">
            <Setter Property="dxmvvm:Interaction.BehaviorsTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <ContentControl>
                            <UIHelper:SaveBeforeActionBehavior SaveCommand="{Binding SaveActionCommand}"/>
                        </ContentControl>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>-->
        <Style x:Key="ApplyForeColorTextBlock" 
                TargetType="TextBlock">
            <Setter Property="UIHelper:AutoForeGroundExtension.AutoForeGround" Value="True" />
        </Style>

        <Style  x:Key="BarButtonItem" TargetType="{x:Type dxb:BarButtonItemLinkControl}">
            <Setter Property="Height" Value="50"/>
            <Setter Property="Width" Value="50"/>
        </Style>

        <Style TargetType="dxe:ErrorControl">
            <Setter Property="Visibility" Value="Collapsed"/>
        </Style>

        <ControlTemplate x:Key="popupContentTemplate">
            <dxg:GridControl x:Name="PART_GridControl" AutoExpandAllGroups="True">
                <dxg:GridControl.Columns>
                    <dxg:GridColumn FieldName="Name" Header="Name" />
                    <dxg:GridColumn FieldName="CarOEM.Name" Header="OEM" />
                    <dxg:GridColumn FieldName="CreationDate" Header="Creation Date"/>
                </dxg:GridControl.Columns>
                <dxg:GridControl.View>
                    <dxg:TableView
                        Name="View"
                        ShowGroupedColumns="True"
                        AutoWidth="True"
                        ShowIndicator="False"
                        AllowPerPixelScrolling="True"
                        ScrollAnimationDuration="0" 
                        ShowAutoFilterRow="True"
                        ShowTotalSummary="False"
                        IsSynchronizedWithCurrentItem="False"
                        SearchPanelHorizontalAlignment="Stretch"
                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly">
                    </dxg:TableView>
                </dxg:GridControl.View>
            </dxg:GridControl>
        </ControlTemplate>

        <UIHelper:MultipleCellEditHelper x:Key="multipleCellEditHelper"/>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>

        <Style x:Key="PrintColumnHeaderStyle" TargetType="dxe:TextEdit"  BasedOn="{StaticResource {dxgt:TableViewThemeKey ResourceKey=DefaultPrintCellStyle}}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=Column.DataContext.IsVertical}" Value="True">
                    <Setter Property="dxp:ExportSettings.TargetType" Value="Image"/>
                    <Setter Property="Height" Value="150"/>
                    <Setter Property="DisplayTemplate">
                        <Setter.Value>
                            <ControlTemplate>
                                <dxe:TextEdit Name="PART_Editor" HorizontalAlignment="Left" Text="{Binding Path=Column.DataContext.FieldName}" IsPrintingMode="True" >
                                    <dxe:TextEdit.LayoutTransform >
                                        <RotateTransform Angle="-90"/>
                                    </dxe:TextEdit.LayoutTransform>
                                </dxe:TextEdit>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="ColumnStyle" TargetType="dxg:GridColumn">
            <Setter Property="FilterPopupMode" Value="CheckedList"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=IsVertical}" Value="True">
                    <Setter Property="HeaderTemplate">
                        <Setter.Value>
                            <DataTemplate>
                                <ContentControl Content="{Binding}">
                                    <ContentControl.LayoutTransform>
                                        <RotateTransform Angle="-90"/>
                                    </ContentControl.LayoutTransform>
                                </ContentControl>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="FilterEditorHeaderTemplate">
                        <Setter.Value>
                            <DataTemplate>
                                <ContentControl Content="{Binding}">
                                    <ContentControl.LayoutTransform>
                                        <RotateTransform Angle="0"/>
                                    </ContentControl.LayoutTransform>
                                </ContentControl>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <!--<Style x:Key="FilterEditorHeaderTemplateKey" TargetType="dxg:GridColumn">
            <Setter Property="FilterEditorHeaderTemplate" Value="s"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=IsVertical}" Value="True">
                    <Setter Property="FilterEditorHeaderTemplate">
                        <Setter.Value>
                            <DataTemplate>
                                <ContentControl Content="{Binding}">
                                    <ContentControl.LayoutTransform>
                                        <RotateTransform Angle="0"/>
                                    </ContentControl.LayoutTransform>
                                </ContentControl>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>-->

        <Style TargetType="dxg:GridColumnHeader">
            <Setter Property="Height" Value="100"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=(dxg:ColumnBase.HeaderPresenterType)}" Value="ColumnChooser">
                    <Setter Property="Height" Value="30"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <DataTemplate x:Key="StatusColumnTemplate">
            <ContentControl>
                <dxg:GridColumn Header="{Binding HeaderText}" FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" MinWidth="125" AllowMoving="True" Visible="True" 
                                 ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <Border Background="{Binding Data.HtmlColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <TextBlock Text="{Binding Data.Status}" Foreground="Black" />
                            </Border>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="CloseDateColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" FixedWidth="{Binding FixedWidth}" Visible="True" MinWidth="80" AllowMoving="True" AllowEditing="{Binding AllowEditing}" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:GridColumn.CellTemplate>

                        <DataTemplate>
                            <Border x:Name="CloseDateBorder" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <dxe:DateEdit Name="PART_Editor" Mask="dd/MM/yyyy" ShowClearButton="False" IsTextEditable="False"
                                              MaskUseAsDisplayFormat="True" ShowError="False" ShowErrorToolTip="False" InvalidValueBehavior="AllowLeaveEditor"
                                              MinValue="{Binding Data.OfferCloseDateMinValue,ValidatesOnDataErrors=False}">

                                    <dxe:DateEdit.Style>
                                        <Style TargetType="{x:Type dxe:DateEdit}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Value="True">
                                                            <Condition.Binding>
                                                                <MultiBinding Converter="{UIConverter:DateCellColorConverter}">
                                                                    <Binding Path="RowData.Row.OfferCloseDate" />
                                                                    <Binding Path="RowData.Row.OfferStatusid" />
                                                                </MultiBinding>
                                                            </Condition.Binding>
                                                        </Condition>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Foreground" Value="Red" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </dxe:DateEdit.Style>
                                </dxe:DateEdit>
                            </Border>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>

                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="RFQDateColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" FixedWidth="{Binding FixedWidth}" Visible="False" MinWidth="80" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <Border x:Name="RFQDateBorder" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <TextBlock x:Name="RFQDateText" Text="{Binding Data.RFQReceptionDate,StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" ></TextBlock>
                            </Border>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="QuoteSentDateColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" FixedWidth="{Binding FixedWidth}" Visible="False" MinWidth="80" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <Border x:Name="QuoteSentDateBorder" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <TextBlock x:Name="QuoteSentDateText" Text="{Binding Data.QuoteSentDate,StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" ></TextBlock>
                            </Border>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="AmountColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" MinWidth="150" AllowMoving="True" AllowEditing="{Binding AllowEditing }" Visible="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings DisplayFormat="c"/>
                    </dxg:GridColumn.EditSettings>
                    <dxg:GridColumn.PrintCellStyle>
                        <Style TargetType="dxe:TextEdit" BasedOn="{StaticResource {dxgt:TableViewThemeKey ResourceKey=DefaultPrintCellStyle}}">
                            <Style.Setters>
                                <Setter Property="dxp:ExportSettings.TargetType" Value="Text" />
                                <Setter Property="dxp:TextExportSettings.Text" Value="{Binding Path=Value,StringFormat='{}{0:C}', ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture} }"  />
                                <Setter Property="dxp:TextExportSettings.HorizontalAlignment" Value="Right"></Setter>
                            </Style.Setters>
                        </Style>
                    </dxg:GridColumn.PrintCellStyle>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="IsCheckedColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" MinWidth="150" AllowMoving="True" AllowEditing="{Binding AllowEditing }" Visible="{Binding Visible}"  ShowInColumnChooser="False" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:CheckEdit EditValue="{Binding Data.IsChecked,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" IsThreeState="True" />
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="TextColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding  Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="{Binding Visible}" AllowMoving="False" >
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Path=Value}" HorizontalAlignment="Right" Margin="0,0,5,0"></TextBlock>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                    <dxg:GridColumn.PrintCellStyle>
                        <Style TargetType="dxe:TextEdit" BasedOn="{StaticResource {dxgt:TableViewThemeKey ResourceKey=DefaultPrintCellStyle}}">
                            <Style.Setters>
                                <Setter Property="dxp:ExportSettings.TargetType" Value="Text" />
                                <Setter Property="dxp:TextExportSettings.HorizontalAlignment" Value="Right"></Setter>
                            </Style.Setters>
                        </Style>
                    </dxg:GridColumn.PrintCellStyle>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="RotateHeaderTemplate" >
            <ContentControl Content="{Binding IsVertical}">
                <ContentControl.LayoutTransform>
                    <RotateTransform Angle="-90" />
                </ContentControl.LayoutTransform>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="turnedHeaderTemplate">
            <TextBlock Text="{Binding}">
                <TextBlock.LayoutTransform>
                    <TransformGroup>
                        <RotateTransform Angle="180"/>
                    </TransformGroup>
                </TextBlock.LayoutTransform>
            </TextBlock>
        </DataTemplate>

        <UIHelper:ColumnTemplateSelector x:Key="ColumnTemplateSelector"/>

        <Style  TargetType="dxg:GridCellContentPresenter" x:Key="11"
                xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
                BasedOn="{StaticResource {dxgt:GridRowThemeKey ResourceKey=CellStyle}}">
            <Setter Property="Background" Value="Green" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding RowData.IsSelected}" Value="True">
                    <Setter Property="Background" Value="DeepPink" />
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="{x:Type TextBlock}" x:Key="WrappingStyle">
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>

        <Style x:Key="SelectionStateCellStyle" TargetType="dxg:LightweightCellEditor" BasedOn="{StaticResource ResourceKey={dxgt:GridRowThemeKey ResourceKey=LightweightCellStyle,IsThemeIndependent=True}}">
            <Style.Triggers>
                <Trigger Property="SelectionState" Value="Selected">
                    <Setter Property="Background" Value="Red"/>
                </Trigger>
                <Trigger Property="SelectionState" Value="Focused">
                    <Setter Property="Background" Value="Green"/>
                    <Setter Property="TextBlock.Foreground" Value="Pink"/>
                </Trigger>
                <Trigger Property="SelectionState" Value="FocusedAndSelected">
                    <Setter Property="Background" Value="Gray"/>
                    <Setter Property="TextBlock.Foreground" Value="Black"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <DataTemplate x:Key="FieldValueTemplate">
            <ContentPresenter Content="{Binding}" Width="100">
                <ContentPresenter.Resources>
                    <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource WrappingStyle}"/>
                </ContentPresenter.Resources>
                <ContentPresenter.LayoutTransform>
                    <RotateTransform CenterX="0.5" CenterY="0.5" Angle="90" />
                </ContentPresenter.LayoutTransform>
            </ContentPresenter>
        </DataTemplate >

        <DataTemplate x:Key="FieldValueTemplate1">
            <TextBlock  Text="{Binding Path=Value}"  TextWrapping="Wrap" TextAlignment="Center"   ></TextBlock>
        </DataTemplate>

        <DataTemplate x:Key="DefaultCellTemplate">
            <TextBlock Text="{Binding Path=Value}" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="5"/>
        </DataTemplate>

        <DataTemplate x:Key="NormalCellTemplate">
            <TextBlock Text="{Binding Path=Value}" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="5"/>
        </DataTemplate>

        <DataTemplate x:Key="DefaultColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding  Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="True"  AllowMoving="True" ShowInColumnChooser="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="OfferCodeColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}"  Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding  Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="True"  AllowMoving="True" ShowInColumnChooser="True"
                                CellStyle="{DynamicResource FocusedHyperlinkCellStyle}" ReadOnly="False">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Margin="5,0,0,0" VerticalAlignment="Center">
                                    <Hyperlink x:Name="hyperlink"
                                               TargetName="_blank"
                                               Command="{Binding DataContext.CommandGridDoubleClick,RelativeSource={RelativeSource AncestorType=dxg:GridControl}}" 
                                               CommandParameter="{Binding ElementName=LeadsTableView}">
                                        <InlineUIContainer>
                                            <TextBlock Text="{Binding RowData.Row.Code}" />
                                        </InlineUIContainer>
                                    </Hyperlink>
                                </TextBlock>
                            <DataTemplate.Triggers>
                                <Trigger Property="dxg:DataViewBase.IsFocusedCell" Value="True">
                                    <Setter TargetName="hyperlink" Property="Foreground" Value="{DynamicResource ColorMain}"/>
                                </Trigger>
                            </DataTemplate.Triggers>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="HiddenColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="True" Width="{Binding  Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="{Binding Visible}"  AllowMoving="False" ShowInColumnChooser="False" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" />
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="SleepDaysColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}" Width="{Binding  Width}" FixedWidth="{Binding FixedWidth}" Fixed="Right" AllowEditing="False" AllowAutoFilter="False"  Visible="{Binding Visible}"  AllowMoving="false" ShowInColumnChooser="False" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <Border VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <TextBlock Text="{Binding Data.SleepDays}" HorizontalAlignment="Center"  >
                                    <TextBlock.Style>
                                        <Style>
                                            <Style.Triggers>
                                                <DataTrigger Value="True" Binding="{Binding Data.SleepDays,Converter={UIConverter:MonthDaysToBooleanConverter}}">
                                                    <Setter Property="TextBlock.Foreground" Value="{DynamicResource SleepDaysRedColor}"/>
                                                    <Setter Property="TextBlock.FontWeight" Value="Bold"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </Border>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="FixedColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}" Fixed="Right"   AllowBestFit="True" Width="{Binding  Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="{Binding Visible}"  AllowMoving="false" ShowInColumnChooser="False" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" />
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="OthersFieldsColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="True" Width="{Binding  Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="False" MinWidth="120" AllowMoving="True"  ShowInColumnChooser="True"
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <!--ComboColumnTemplate is created for Description column -->

        <DataTemplate x:Key="DescriptionColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding  Width}" AllowEditing="{Binding AllowEditing}" AllowAutoFilter="False"  Visible="True" MinWidth="200" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="ArrayColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=FieldName}" Tag="{Binding}"  Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"  AllowBestFit="true" Width="{Binding  Width}" HorizontalHeaderContentAlignment="Center"  Visible="{Binding Visible}" AllowMoving="False" ShowInColumnChooser="False" AllowSorting="False" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" BestFitArea="All">
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings Mask="D" MaskType="Numeric" HorizontalContentAlignment="Left" MaskUseAsDisplayFormat="true" ValidateOnTextInput="True" ValidateOnEnterKeyPressed="True" AllowNullInput="False">
                        </dxe:TextEditSettings>
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="PercentTextColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=FieldName}"  Tag="{Binding}"  Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}" AllowEditing="{Binding AllowEditing}"  FixedWidth="{Binding FixedWidth}"  AllowBestFit="true" Width="{Binding  Width}" HorizontalHeaderContentAlignment="Center"  Visible="True" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:GridColumn.DisplayTemplate>
                        <ControlTemplate>
                            <TextBlock Text="{Binding Data.OfferConfidentialLevel, StringFormat={}{0}%}"/>
                        </ControlTemplate>
                    </dxg:GridColumn.DisplayTemplate>
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:ComboBoxEdit Name="PART_Editor" ItemsSource="{Binding DataContext.ConfidentialLevelList,RelativeSource={RelativeSource AncestorType=UserControl}}"
                                              HorizontalAlignment="Stretch" 
                                              ApplyItemTemplateToSelectedItem="True" Mask="P0" MaskType="Numeric" HorizontalContentAlignment="Left" MaskUseAsDisplayFormat="true" >
                                <dxe:ComboBoxEdit.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding StringFormat={}{0}%}"/>
                                    </DataTemplate>
                                </dxe:ComboBoxEdit.ItemTemplate>
                            </dxe:ComboBoxEdit>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="SourceColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=FieldName}"  Tag="{Binding}"  Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}" AllowEditing="{Binding AllowEditing}"  FixedWidth="{Binding FixedWidth}"  AllowBestFit="true" Width="{Binding  Width}" HorizontalHeaderContentAlignment="Center"  Visible="False" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:GridColumn.EditSettings>
                        <dxe:ComboBoxEditSettings />
                    </dxg:GridColumn.EditSettings>
                    <dxg:GridColumn.DisplayTemplate>
                        <ControlTemplate>
                            <TextBlock Text="{Binding Data.Source}" Margin="8,0,0,0"></TextBlock>
                        </ControlTemplate>
                    </dxg:GridColumn.DisplayTemplate>
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:ComboBoxEdit Name="PART_Editor" 
                                              ItemsSource="{Binding Path=DataContext.LeadSourceList, Mode=TwoWay, RelativeSource={RelativeSource FindAncestor, AncestorType=UserControl}}"
                                              HorizontalAlignment="Stretch" DisplayMember="Value"  
                                              ValueMember="Value" 
                                              ApplyItemTemplateToSelectedItem="true">
                                <dxe:ComboBoxEdit.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel>
                                            <Rectangle Width="15" Height="15" Margin="3" Fill="{Binding HtmlColor}" />
                                            <TextBlock Text="{Binding Value}" Margin="5,0,0,0" Padding="3" />
                                        </DockPanel>
                                    </DataTemplate>
                                </dxe:ComboBoxEdit.ItemTemplate>
                                <dxe:ComboBoxEdit.ItemContainerStyle>
                                    <Style TargetType="dxe:ComboBoxEditItem">
                                        <Setter Property="IsEnabled" Value="{Binding InUse}" />
                                    </Style>
                                </dxe:ComboBoxEdit.ItemContainerStyle>
                            </dxe:ComboBoxEdit>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="BusinessUnitColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=FieldName}"  Tag="{Binding}"  Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}" AllowEditing="{Binding AllowEditing}"  FixedWidth="{Binding FixedWidth}"  AllowBestFit="true" Width="{Binding  Width}" HorizontalHeaderContentAlignment="Center"  Visible="False" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:GridColumn.DisplayTemplate>
                        <ControlTemplate>
                            <TextBlock Text="{Binding Data.BusinessUnit}"></TextBlock>
                        </ControlTemplate>
                    </dxg:GridColumn.DisplayTemplate>
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:ComboBoxEdit Name="PART_Editor" ItemsSource="{Binding DataContext.BusinessUnitList,RelativeSource={RelativeSource AncestorType=UserControl}}"
                                              HorizontalAlignment="Stretch"  DisplayMember="Value" ValueMember="Value">

                                <dxe:ComboBoxEdit.ItemContainerStyle>
                                    <Style TargetType="dxe:ComboBoxEditItem">
                                        <Setter Property="IsEnabled" Value="{Binding InUse}" />
                                    </Style>
                                </dxe:ComboBoxEdit.ItemContainerStyle>
                            </dxe:ComboBoxEdit>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="ProjectColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=FieldName}"  Tag="{Binding}"  
                                Header="{Binding HeaderText}" 
                                AllowCellMerge="{Binding AllowCellMerge}" 
                                AllowEditing="{Binding AllowEditing}"  
                                FixedWidth="{Binding FixedWidth}"  AllowBestFit="true"
                                Width="{Binding  Width}" HorizontalHeaderContentAlignment="Center"
                                Visible="False" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:GridColumn.DisplayTemplate>
                        <ControlTemplate>
                            <TextBlock Text="{Binding Data.Project}"></TextBlock>
                        </ControlTemplate>
                    </dxg:GridColumn.DisplayTemplate>
                    <dxg:GridColumn.EditSettings>
                        <dxg:LookUpEditSettings Name="projectTypeLookUp" 
                                                IsTextEditable="False"
                                                PopupMinWidth="300"
                                                AutoPopulateColumns="False"
                                                PopupContentTemplate="{StaticResource popupContentTemplate}"
                                                ItemsSource="{Binding DataContext.GeosProjectsList,RelativeSource={RelativeSource AncestorType=UserControl},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                DisplayMember="Name" ValueMember="Name" NullValueButtonPlacement="Popup"/>
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="OEMColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=FieldName}" Tag="{Binding}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}" AllowEditing="{Binding AllowEditing}"  FixedWidth="{Binding FixedWidth}"  AllowBestFit="true" Width="{Binding  Width}" HorizontalHeaderContentAlignment="Center"  Visible="False" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:GridColumn.DisplayTemplate>
                        <ControlTemplate>
                            <TextBlock Text="{Binding Data.OEM}"></TextBlock>
                        </ControlTemplate>
                    </dxg:GridColumn.DisplayTemplate>
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:ComboBoxEdit Name="PART_Editor" ItemsSource="{Binding DataContext.CaroemsList,RelativeSource={RelativeSource AncestorType=UserControl}}"
                                              HorizontalAlignment="Stretch" DisplayMember="Name" ValueMember="Name">
                            </dxe:ComboBoxEdit>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="RFQColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding  Width}" AllowEditing="false" AllowAutoFilter="False"  Visible="False" MinWidth="200" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="SalesOwnerColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" MinWidth="150" AllowMoving="True" Visible="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:GridColumn.DisplayTemplate>
                        <ControlTemplate>
                            <TextBlock x:Name="SalesOwnerText"  Text="{Binding Data.SalesOwner}"></TextBlock>
                            <ControlTemplate.Triggers >
                                <DataTrigger Binding="{Binding Data.IsSaleOwnerNull}" Value="True">
                                    <Setter Property="TextBlock.FontWeight" Value="Bold"/>
                                    <Setter Property="Foreground" Value="#FFF90808" TargetName="SalesOwnerText"/>
                                </DataTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </dxg:GridColumn.DisplayTemplate>

                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:ComboBoxEdit Name="PART_Editor" ItemsSource="{Binding DataContext.SalesOwnerList,RelativeSource={RelativeSource AncestorType=UserControl}}"
                                              HorizontalAlignment="Stretch" DisplayMember="SalesOwner" ValueMember="SalesOwner">
                                <dxe:ComboBoxEdit.ItemContainerStyle>
                                    <Style TargetType="dxe:ComboBoxEditItem">
                                        <Setter Property="IsEnabled" Value="{Binding IsSiteResponsibleExist}" />
                                    </Style>
                                </dxe:ComboBoxEdit.ItemContainerStyle>
                            </dxe:ComboBoxEdit>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>


        <!--<DataTemplate x:Key="SalesOwnerColumnTemplate">
            <ContentControl>
                <dxg:GridColumn  FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" MinWidth="150" AllowMoving="True" Visible="True" 
                                 ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <Border x:Name="CloseDateBorder" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <TextBlock x:Name="SalesOwnerText" Text="{Binding Data.SalesOwner}" ></TextBlock>
                            </Border>
                            <DataTemplate.Triggers >

                                <DataTrigger Binding="{Binding Data.IsSaleOwnerNull}" Value="True">
                                    <Setter Property="TextBlock.FontWeight" Value="Bold"/>
                                    <Setter Property="Foreground" Value="#FFF90808" TargetName="SalesOwnerText"/>
                                </DataTrigger>
                            </DataTemplate.Triggers>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>-->

        <DataTemplate x:Key="Category1ColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding  Width}" AllowEditing="false" AllowAutoFilter="False"  Visible="False" MinWidth="200" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="Category2ColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding  Width}" AllowEditing="false" AllowAutoFilter="False"  Visible="False" MinWidth="200" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <!--[skale][20/11/2019][GEOS2-1806]- Add new field "Offer Owner" and "Offered To" in Opportunities-->

        <DataTemplate x:Key="OfferOwnerColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding  Width}" AllowEditing="false" AllowAutoFilter="False"  Visible="False" MinWidth="200" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="OfferedToColumnTemplate">
            <ContentControl>
                <dxg:GridColumn  Name="OfferTo" ColumnFilterMode="DisplayText"  FilterPopupMode="CheckedList"   Visible="False" FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}" FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding  Width}" AllowEditing="false" AllowAutoFilter="False"   MinWidth="200" AllowMoving="True"   ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:GridColumn.PrintCellStyle>
                        <Style TargetType="dxe:BaseEdit" BasedOn="{StaticResource {dxgt:TableViewThemeKey ResourceKey=DefaultPrintCellStyle}}">
                            <Setter Property="dxp:ExportSettings.TargetType" Value="Panel" />
                            <Setter Property="DisplayTemplate">
                                <Setter.Value>
                                    <ControlTemplate TargetType="dxe:BaseEdit">
                                        <dxe:TextEdit 
                                                 Text="{Binding RowData.Row.OfferedTo}"
                                                 TextWrapping="Wrap"
                                                 IsPrintingMode="True" />
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </dxg:GridColumn.PrintCellStyle>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <UIHelper:CellTemplateSelector x:Key="myTemplateSelector"/>

        <DataTemplate x:Key="SummaryTemplate">
            <ContentControl>
                <dxg:GridSummaryItem FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}"
                                     SummaryType="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).Type, RelativeSource={RelativeSource Self}}"
                                     DisplayFormat= "{Binding Path=(dxci:DependencyObjectExtensions.DataContext).DisplayFormat, RelativeSource={RelativeSource Self}}" />
            </ContentControl>
        </DataTemplate>

    </UserControl.Resources>

    <Grid x:Name="LeadGrid">

        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="{Binding GridRowHeight}"/>
            <RowDefinition Height="50*"/>
        </Grid.RowDefinitions>

        <Grid  DockPanel.Dock="Top"  Grid.Row="0" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
            </Grid.ColumnDefinitions>

            <TextBlock Text="{DynamicResource LeadsViewTextHeader}"  Grid.Column="0" Style="{DynamicResource TextBlock30Style}" FontWeight="Bold"  />
            <Image gif:ImageBehavior.RepeatBehavior="Forever" gif:ImageBehavior.AnimatedSource="/Emdep.Geos.Modules.Crm;component/Assets/Images/animatedWarning.gif" Visibility="{Binding IsShowFailedPlantWarning,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,Converter={StaticResource BoolToVis}}" Grid.Column="1" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5,2,5,0" Height="30" Width="30">
                <Image.ToolTip>
                    <TextBlock Text="{Binding WarningFailedPlants}"/>
                </Image.ToolTip>
            </Image>

            <DockPanel Grid.Column="2" Grid.Row="0" Grid.ColumnSpan="2" HorizontalAlignment="Stretch" Margin="0" Height="45">
                <Grid HorizontalAlignment="Right" Width="Auto" Height="30" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="75*"/>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="25"/>

                        <ColumnDefinition Width="70*"/>
                        <ColumnDefinition Width="50*"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="50*"/>

                        <ColumnDefinition Width="25"/>
                        <ColumnDefinition Width="80*"/>
                        <ColumnDefinition Width="80*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Plant Owner -->
                    <DockPanel Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=CmbPlantOwnerUsers}" >
                        <Image Style="{DynamicResource PlantOwnerImageStyle}" Width="24" Height="24" Margin="7,0,3,0" />
                        <TextBlock Text="{DynamicResource CommonPlantOwner}"  FontWeight="Bold" Margin="5,2,5,0" />
                    </DockPanel>

                    <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}" Grid.Column="1" 
                                      Visibility="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=CmbPlantOwnerUsers}"
                                      ItemsSource="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=PlantOwnerUsersList}" Margin="5,0,5,0"
                                      DisplayMember="ShortName"
                                      EditValue="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=SelectedPlantOwnerUsersList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <dxe:ComboBoxEdit.StyleSettings>
                            <dxe:CheckedComboBoxStyleSettings />
                        </dxe:ComboBoxEdit.StyleSettings>
                        <dxmvvm:Interaction.Triggers>
                            <dxmvvm:EventToCommand EventName="PopupClosed"
                                                   Command="{Binding DataContext.SalesOwnerPopupClosedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                                   PassEventArgsToCommand="True"/>
                        </dxmvvm:Interaction.Triggers>
                    </dxe:ComboBoxEdit>

                    <!-- Sales Owner -->
                    <DockPanel Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=CmbSalesOwnerUsers}" >
                        <Image Style="{DynamicResource OwnerGroupImageStyle}" Width="24" Height="24" Margin="7,0,3,0" />
                        <TextBlock Text="{DynamicResource CommonSalesOwner}"  FontWeight="Bold" Margin="5,2,5,0" />
                    </DockPanel>

                    <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}" Grid.Column="1"
                                      Visibility="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=CmbSalesOwnerUsers}"
                                      ItemsSource="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=SalesOwnerUsersList}" Margin="5,0,0,0"
                                      DisplayMember="User.FullName"
                                      EditValue="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=SelectedSalesOwnerUsersList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <dxe:ComboBoxEdit.StyleSettings>
                            <dxe:CheckedComboBoxStyleSettings />
                        </dxe:ComboBoxEdit.StyleSettings>
                        <dxmvvm:Interaction.Triggers>
                            <dxmvvm:EventToCommand EventName="PopupClosed"
                                                   Command="{Binding DataContext.SalesOwnerPopupClosedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                                   PassEventArgsToCommand="True"/>
                        </dxmvvm:Interaction.Triggers>
                    </dxe:ComboBoxEdit>

                    <!-- Period -->
                    <DockPanel Grid.Column="3" HorizontalAlignment="Center" VerticalAlignment="Center" >
                        <Image Style="{DynamicResource CalendarImageStyle}" Width="16" Height="16" Margin="7,0,3,0" />
                        <TextBlock Text="{DynamicResource AnnualSalesPerformanceViewPeriod}"  FontWeight="Bold" Margin="5,0,0,0" />
                    </DockPanel>
                    <TextBlock Text="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=SelectedyearStarDate, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="4" Margin="3,0,0,0"/>
                    <TextBlock Text=" - " HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="5" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=SelectedyearEndDate, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Column="6"/>

                    <!-- Remaining -->
                    <DockPanel Grid.Column="8" HorizontalAlignment="Center" VerticalAlignment="Center" >
                        <Image Style="{DynamicResource WatchImageStyle}" Width="16" Height="16" Margin="3,0,3,0" />
                        <TextBlock Text="{DynamicResource AnnualSalesPerformanceViewRemaining}" FontWeight="Bold" Margin="5,0,0,0" />
                    </DockPanel>
                    <DockPanel Grid.Column="9" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5,0,0,0" >
                        <TextBlock Text="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=RemainingDays}"  />
                        <TextBlock Text="{DynamicResource AnnualSalesPerformanceViewDays}" Margin="3,0,5,0" />
                    </DockPanel>
                </Grid>
            </DockPanel>

            <Button Content=" " Height="40" Width="40"  HorizontalAlignment="Right" Grid.Column="4" Margin="0,0,5,0" 
                        Command="{Binding ViewHideRangeControlCommand}">
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonView}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Image Grid.Column="0" Height="24" Width="24" Margin="-10" >
                                <Image.Style>
                                    <Style TargetType="{x:Type Image}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.IsViewRangeControl,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button} ,BindsDirectlyToSource=True}"  Value="True">
                                                <Setter Property="Source" Value="{DynamicResource ViewButtonImageStyle}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding DataContext.IsViewRangeControl,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button},BindsDirectlyToSource=True}" Value="False">
                                                <Setter Property="Source" Value="{DynamicResource NoViewButtonImageStyle}" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Image.Style>
                            </Image>
                        </Grid>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <Button  HorizontalAlignment="Right" Grid.Column="5" Height="40" Width="40" Margin="0,0,5,0"
                     Command="{Binding CommandNewLeadClick}" CommandParameter="{Binding ElementName=grid}"
                     IsEnabled="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionEnabled}">
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource LeadsAddViewHeader}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Image Style="{DynamicResource AddButtonImageStyle}" Grid.Column="1" Height="24" Width="24" HorizontalAlignment="Right" Margin="-10" />
                        </Grid>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <Button Content=" " Height="40" Width="40" Grid.Column="6" Command="{Binding RefreshLeadViewCommand}" CommandParameter="{Binding ElementName=LeadsTableView}" HorizontalAlignment="Right" Margin="0,0,5,0">
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonRefresh}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Image Style="{ DynamicResource RefreshButtonImageStyle}" Grid.Column="0" Height="24" Width="24" Margin="-10"/>
                        </Grid>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <Button Content=" " Height="40" Width="40"  HorizontalAlignment="Right" Grid.Column="7" Margin="0,0,5,0"
                    Command="{Binding PrintButtonCommand}" CommandParameter="{Binding ElementName=LeadsTableView}" >
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonPrint}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Image Style="{ DynamicResource PrinterButtonImageStyle}" Grid.Column="0" Height="24" Width="24" Margin="-10"/>
                        </Grid>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <Button Content=" " Height="40" Width="40"  HorizontalAlignment="Right" Grid.Column="8" Margin="0,0,5,0"
                    Command="{Binding ExportButtonCommand}" CommandParameter="{Binding ElementName=LeadsTableView}" >
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonExportToExcel}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Image Style="{ DynamicResource ExcelExportButtonImageStyle}" Grid.Column="0" Height="24" Width="24" Margin="-10"/>
                        </Grid>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <Button Content=" " Height="40" Width="40" Grid.Column="9" Command="{Binding UpdateMultipleRowsLeadViewCommand}" CommandParameter="{Binding ElementName=LeadsTableView}" HorizontalAlignment="Right" Margin="0,0,5,0" 
                    IsEnabled="{Binding Path=(UIHelper:MultipleCellEditHelper.IsValueChanged), ElementName=LeadsTableView}">
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonSave}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Image Style="{ DynamicResource SaveButtonImageStyle}" Grid.Column="0" Height="24" Width="24" Margin="-10"/>
                        </Grid>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
        </Grid>

        <dxe:RangeControl x:Name="rangeControl" Grid.Row="1" Height="100" HorizontalAlignment="Stretch" VerticalAlignment="Top" Margin="0" DockPanel.Dock="Top" 
                          RangeStart="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=SelectedyearStarDate}"
                          RangeEnd="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=SelectedyearEndDate}"
                          SelectionRangeStart="{Binding StartSelectionDate,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" SelectionRangeEnd="{Binding FinishSelectionDate,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
            <dxe:CalendarClient Style="{DynamicResource CalendarClientStyle}">
                <dxe:CalendarClient.IntervalFactories>
                    <dxe:YearIntervalFactory/>
                    <dxe:QuarterIntervalFactory/>
                    <UIHelper:MonthIntervalFactoryEx />
                    <UIHelper:DayIntervalFactoryEx/>
                </dxe:CalendarClient.IntervalFactories>
            </dxe:CalendarClient>
        </dxe:RangeControl>

        <DockPanel Grid.Row="2" >
            <dxwui:NavigationFrame   x:Name="Navigatedframe" AnimationType="None">
                <dxmvvm:Interaction.Behaviors>
                    <dxwuin:FrameNavigationService/>
                </dxmvvm:Interaction.Behaviors>
            </dxwui:NavigationFrame>

            <UIHelper:DpiResizingPanel DockPanel.Dock="Left">
                <dxnav:TileBar x:Name="tileBar" DockPanel.Dock="Left" HorizontalAlignment="Left"   VerticalAlignment="Stretch" Margin="-20 0 0 0"
                               Orientation="Vertical"
                               ItemSpacing="5"
                               SelectedItem="{Binding SelectedTileBarItem,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                               ItemsSource="{Binding FilterStatusListOfTile ,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                               ItemContainerStyle="{StaticResource LeftPanelTileItemStyle}"     
                               Visibility="{Binding ElementName=expandButton, Path=IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter}}" >
                    <dxmvvm:Interaction.Behaviors>
                        <dxmvvm:EventToCommand Command="{Binding CommandFilterStatusTileClick}"  EventName="SelectionChanged" PassEventArgsToCommand="True"/>
                        <dxmvvm:EventToCommand Command="{Binding CommandTileBarClickDoubleClick}"  EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=LeadsTableView}"/>
                    </dxmvvm:Interaction.Behaviors>
                </dxnav:TileBar>
            </UIHelper:DpiResizingPanel>

            <ToggleButton x:Name="expandButton" DockPanel.Dock="Left" Style="{StaticResource HideButtonStyle}" IsChecked="False" VerticalAlignment="Center"/>

            <dxg:GridControl x:Name="grid" DockPanel.Dock="Top" Grid.Row="2" Height="Auto" 
                        ItemsSource="{Binding Dttable,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  FocusManager.IsFocusScope="True"
                        SelectedItem="{Binding SelectedObject, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                        ColumnsSource="{Binding Columns,UpdateSourceTrigger=PropertyChanged}" 
                        AutoGenerateColumns="None" ScrollViewer.HorizontalScrollBarVisibility="Visible"
                        ColumnGeneratorStyle="{StaticResource ColumnStyle}"
                        ColumnGeneratorTemplateSelector="{StaticResource ColumnTemplateSelector}"
                        TotalSummarySource="{Binding TotalSummary}"
                        TotalSummaryGeneratorTemplate="{StaticResource SummaryTemplate}"
                        FilterString="{Binding MyFilterString,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                        SelectionMode="Cell" 
                        IsFilterEnabled="{Binding IsFilterEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"   ImplyNullLikeEmptyStringWhenFiltering="True" >
                <dxg:GridControl.TotalSummary>
                    <dxg:GridSummaryItem FieldName="Amount" SummaryType="Sum"  DisplayFormat=" {0:C}"   />
                    <dxg:GridSummaryItem x:Name="summary" FieldName="Code" SummaryType="Count" DisplayFormat="Total Count: {0}"   Alignment="Left"/>
                </dxg:GridControl.TotalSummary>
                <dxg:GridControl.GroupSummary>
                    <dxg:GridSummaryItem FieldName="Amount" SummaryType="Sum"  DisplayFormat=" {0:C}"   />
                    <dxg:GridSummaryItem x:Name="GroupSummary" FieldName="Code" SummaryType="Count" DisplayFormat="Total Count: {0}"   Alignment="Left"/>
                </dxg:GridControl.GroupSummary>
                <dxg:GridControl.View>
                    <UIHelper:TableViewEx x:Name="LeadsTableView" ShowSearchPanelMode="Always"
                                           NavigationStyle="Cell"
                                           ShowFixedTotalSummary="False"
                                           ShowTotalSummary="True"
                                           ShowHorizontalLines="True"
                                           AllowPerPixelScrolling="True"
                                           AllowEditing="True"
                                           AllowGrouping="True" ShowGroupPanel="False" 
                                           ShowColumnHeaders="True" ShowVerticalLines="True" 
                                           ShowIndicator="True" AutoWidth="True" 
                                           HorizontalScrollbarVisibility="Auto" 
                                           VerticalScrollbarVisibility="Auto"
                                           HorizontalContentAlignment="Center"
                                           ShowAutoFilterRow="False"
                                           RowMinHeight="20"
                                           AllowSorting="True" 
                                           AllowScrollHeaders="False"
                                           AllowColumnMoving="True"
                                           AutoMoveRowFocus="False"
                                           AllowScrollAnimation="True" 
                                           AllowBestFit="True" AllowResizing="True"
                                           AllowConditionalFormattingMenu="True"
                                           PrintColumnHeaderStyle="{StaticResource PrintColumnHeaderStyle}" 
                                           IsColumnChooserVisible="{Binding  IsTimelineColumnChooserVisible ,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                           UIHelper:MultipleCellEditHelper.IsEnabled="True"
                                           ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                           SearchPanelHorizontalAlignment="Stretch"
                                           FocusedRow="{Binding SelectedObject, Mode=TwoWay}"  
                                           BestFitArea="TotalSummary"
                                           UseLegacyFilterEditor="True">

                        <!-- FocusedRow="{Binding SelectedObject, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"-->
                        <dxmvvm:Interaction.Behaviors>
                            <dxmvvm:EventToCommand EventName="ShowFilterPopup"
                                                   Command="{Binding CommandShowFilterPopupClick}"
                                                   PassEventArgsToCommand="True"/>
                            <dxmvvm:EventToCommand Command="{Binding CommandIsKeyboardFocusWithinChanged}" EventName="IsKeyboardFocusWithinChanged" PassEventArgsToCommand="True"/>
                            <dxmvvm:EventToCommand Command="{Binding TableView_ShownEditorCommand}" EventName="ShownEditor" PassEventArgsToCommand="True" />
                            <dxmvvm:EventToCommand Command="{Binding FilterEditorCreatedCommand}" EventName="FilterEditorCreated" PassEventArgsToCommand="True" />
                        </dxmvvm:Interaction.Behaviors>

                        <Interactive:Interaction.Triggers>
                            <Interactive:EventTrigger  EventName="Loaded">
                                <Behaviors:InvokeDelegateCommandAction Command="{Binding CustomCellAppearanceCommand}" 
                              CommandParameter="{Binding RelativeSource={RelativeSource Self}, Path=InvokeParameter}" />
                            </Interactive:EventTrigger>
                        </Interactive:Interaction.Triggers>

                        <UIHelper:TableViewEx.Resources>
                            <DataTemplate x:Key="PageHeader">
                                <Grid Width="{Binding UsablePageWidth}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="130" />
                                    </Grid.ColumnDefinitions>
                                    <dxe:TextEdit Text=" " Width="{Binding UsablePageWidth}" Grid.ColumnSpan="3" IsPrintingMode="True" Background="#333E5E"   HorizontalAlignment="Stretch" 
                                                  VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold" Height="50" />
                                    <dxe:TextEdit Text="Leads/Offers Report" IsPrintingMode="True"     HorizontalAlignment="Stretch" 
                                                  VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold"/>
                                    <Image Source="/Emdep.Geos.Modules.Crm;component/Assets/Images/GeosReportLogo.png" Height="50" Width="80"  dxp:ExportSettings.TargetType="Image" Grid.Column="2" />
                                </Grid>
                            </DataTemplate>

                            <DataTemplate x:Key="PageFooter">
                                <dxe:TextEdit HorizontalContentAlignment="Center" 
                                              Width="{Binding Path=UsablePageWidth, Mode=OneWay}" 
                                              dxp:ExportSettings.TargetType="PageNumber" 
                                              dxp:PageNumberExportSettings.Kind="NumberOfTotal" 
                                              dxp:PageNumberExportSettings.Format="Page {0} of {1}" >
                                </dxe:TextEdit>
                            </DataTemplate>
                        </UIHelper:TableViewEx.Resources>

                    </UIHelper:TableViewEx>
                </dxg:GridControl.View>
            </dxg:GridControl>
        </DockPanel>
    </Grid>
</UserControl>
