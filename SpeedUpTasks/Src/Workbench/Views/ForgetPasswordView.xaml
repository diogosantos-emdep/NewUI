<UserControl 
                x:Class="Workbench.Views.ForgetPasswordView"
                xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol" 
                xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
                xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                xmlns:dxwuin="http://schemas.devexpress.com/winfx/2008/xaml/windowsui/navigation"
                xmlns:dxc="http://schemas.devexpress.com/winfx/2008/xaml/core"
                xmlns:Helpers="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"  
                xmlns:gif="http://wpfanimatedgif.codeplex.com"
                mc:Ignorable="d" 
                d:DesignHeight="350" d:DesignWidth="300"  
                KeyboardNavigation.TabNavigation="Cycle"
                Style="{DynamicResource UserControlBackgroundStyle}">
    
    <!--<UserControl.Resources>
        <ResourceDictionary Source="/GeosWorkbench;component/Resources/language.xaml" />
    </UserControl.Resources>-->

    <Grid Height="370" Width="310" Background="Transparent" VerticalAlignment="Center"  HorizontalAlignment="Center" >
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="60"/>
            <RowDefinition Height="10"/>
        </Grid.RowDefinitions>
        <Label Content="{DynamicResource ForgetPasswordViewForgotYourPassword}"
               Style="{DynamicResource LabelTitleStyle}"
               Width="310" 
               Grid.Row="0"
               VerticalAlignment="Bottom"
               IsTabStop="False">
        </Label>
        <Label Content="{DynamicResource ForgetPasswordViewEmailIdORUserName}"
              Style="{DynamicResource LabelStyle}"
               Grid.Row="2"
               VerticalAlignment="Bottom"
               IsTabStop="False">
        </Label>
        <dxe:TextEdit 
                       Text="{Binding UsrEmailOrUserName}" 
                       Grid.Row="4" SelectionStart="0" 
                       Style="{DynamicResource TextEditStyle}" 
                       NullText="{DynamicResource ForgetPasswordViewEnteryourEmailIdorUsername}"
                       HorizontalAlignment="Left"  Width="300" DisplayFormatString="       "
                       Height="26" VerticalAlignment="Top" TabIndex="0" Focusable="True">

            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="LostFocus" 
                Command="{Binding ForgotPasswordUserNameCommand}" 
                PassEventArgsToCommand="True">
                </dxmvvm:EventToCommand>
            </dxmvvm:Interaction.Behaviors>

            <dxe:TextEdit.EditValue>
                <Binding Path ="UsrEmailOrUserName" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Helpers:CustomRequiredFieldValidation ValidationMessage="{StaticResource ForgetPasswordViewEmailIdORUserName}" ValidationStep="UpdatedValue" />
                    </Binding.ValidationRules>
                </Binding>
            </dxe:TextEdit.EditValue>
        </dxe:TextEdit>

        <DockPanel  Grid.Row="5" HorizontalAlignment="Stretch">
            <Image Cursor="Hand"
               Source="/GeosWorkbench;component/Assets/Images/Cross.png"
               Stretch="None"
               Margin="0" Width="20"
               VerticalAlignment="Center"
               HorizontalAlignment="Left"
               Visibility="{Binding SendMailErrorVisibility}" >
                <Image.ToolTip>
                    <StackPanel  Width="400"  >
                        <TextBlock Grid.Row="7" 
                               TextWrapping="Wrap"
                               TextAlignment="Left"
                               Width="400"
                               Style="{DynamicResource TextBlockForgetPassword}"
                               Text="{DynamicResource ForgetPasswordViewMailSendFailed}">
                        </TextBlock>
                    </StackPanel>
                </Image.ToolTip>
            </Image>
            <Label Content="{Binding UserNameError}" FontStyle="Italic"  VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#ff471a" Style="{DynamicResource LabelStyle}"></Label>
        </DockPanel>

        <Button   Cursor="Hand" 
                  Grid.Row="6" 
                  VerticalAlignment="Top" 
                  HorizontalAlignment="Left"
                  Command="{Binding ForgotPasswordsendMailButtonCommand}" TabIndex="1"
                  Style="{DynamicResource ButtonForeground}">
            <Button.Template>
                <ControlTemplate TargetType="Button">
                    <TextBlock TextDecorations="Underline"
                               Text="{DynamicResource ForgetPasswordViewSendMail}" 
                               Style="{DynamicResource TextBlockStyle}">
                <ContentPresenter />
                    </TextBlock>
                </ControlTemplate>
            </Button.Template>
        </Button>
        <Image gif:ImageBehavior.RepeatBehavior="Forever"
               gif:ImageBehavior.AnimatedSource="/GeosWorkbench;component/Assets/Images/Wait1.gif"
               Grid.Row="6"
               Margin="-70,0,30,10" VerticalAlignment="Bottom" HorizontalAlignment="Center"
               Visibility="{Binding SendMailWaitImageVisibility,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
        </Image>
        <Image Cursor="Hand" 
               Source="/GeosWorkbench;component/Assets/Images/Ok.png"
               Stretch="None"
               Grid.Row="6" 
               Margin="-70,0,30,10"
               VerticalAlignment="Bottom"
               HorizontalAlignment="Center"
               Visibility="{Binding SendMailMessageVisibility}" >
            <Image.ToolTip>
                <StackPanel  Width="400" >
                    <TextBlock Grid.Row="7"
                               TextWrapping="Wrap"
                               TextAlignment="Left"
                               Width="400"
                               Style="{DynamicResource TextBlockStyle}"
                               Text="{DynamicResource ForgetPasswordViewMailLine1}">                     
                    <LineBreak /></TextBlock>
                    <TextBlock>
        <Image  Source="{dxc:DXImage Image=Mail_16x16.png}"
                HorizontalAlignment="Left" 
                Height="15"
                Width="15">
       </Image> <Hyperlink Foreground="#2AB7FF"> goessat@emdep.com </Hyperlink>
                    </TextBlock>
                    <TextBlock Text="{DynamicResource ForgetPasswordViewMailLine4}"  Style="{DynamicResource TextBlockForgetPassword}" ></TextBlock>
                    <TextBlock>
                    <Image Source="/GeosWorkbench;component/Assets/Images/Skype.png" 
                           HorizontalAlignment="Left"
                           Height="10" 
                           Width="10"></Image> <Bold >geossat.emdep </Bold> <LineBreak/>
                    <Image Source="/GeosWorkbench;component/Assets/Images/Skype.png" 
                     HorizontalAlignment="Left"
                     Height="10"
                     Width="13"></Image><Bold>insat.emdep </Bold>
                    </TextBlock>
                </StackPanel>
            </Image.ToolTip>
        </Image>
        <!--<Image Cursor="Hand"
               Source="/GeosWorkbench;component/Assets/Images/Cross.png"
               Stretch="None"
               Grid.Row="6" 
               Margin="-70,0,30,10" 
               VerticalAlignment="Bottom"
               HorizontalAlignment="Center"
               Visibility="{Binding SendMailErrorVisibility}" >
            <Image.ToolTip>
                <StackPanel  Width="400"  >
                    <TextBlock Grid.Row="7" 
                               TextWrapping="Wrap"
                               TextAlignment="Left"
                               Width="400"
                               FontSize="13"
                               Text="{DynamicResource ForgetPasswordViewMailsendfailed}">                        
                    </TextBlock>
                </StackPanel>
            </Image.ToolTip>
        </Image>-->

        <Label Content="{DynamicResource ForgetPasswordViewEnterTheCodeWeEmailedYou}"
               Style="{DynamicResource LabelStyle}"
               Grid.Row="7"
               VerticalAlignment="Stretch"
               IsTabStop="False">
        </Label>
        <!--<TextBlock Text="{DynamicResource ForgetPasswordViewEnterTheCodeWeEmailedYou}"
                   Grid.Row="7" 
                   VerticalAlignment="Stretch"
                   TextWrapping="Wrap" Style="{DynamicResource TextBlockForgetPassword}" >
        </TextBlock>-->
        <dxe:TextEdit Grid.Row="9"
                      SelectionStart="0"
                      AcceptsReturn="False"
                      Text="{Binding TxtRecoveryPassword ,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                      HorizontalAlignment="Left" 
                      Width="300" 
                      VerticalAlignment="Top" 
                      Height="26" TabIndex="2" Style="{DynamicResource TextEditStyle}">
            <dxe:TextEdit.InputBindings>
                <KeyBinding Key="Enter"
                            Command="{Binding ForgotPasswordRecoveryPasswordtxtCommand }" 
                            CommandParameter="{Binding Path=Text, RelativeSource={RelativeSource AncestorType={x:Type dxe:TextEdit}}}" />
            </dxe:TextEdit.InputBindings>
        </dxe:TextEdit>
        <Button Content="{DynamicResource ForgetPasswordViewBack}"
                Grid.Row="10"
                Height="30" 
                Width="80"
                HorizontalAlignment="Left"
                VerticalAlignment="Bottom" 
                Command="{Binding ForgotPasswordBackButtonCommand }"
                TabIndex="4" Style="{DynamicResource ButtonStyle}">
        </Button>
        <Button Content="{DynamicResource ForgetPasswordViewNext}"
                Grid.Row="10" 
                Height="30" 
                Width="80" 
                HorizontalAlignment="Right" 
                VerticalAlignment="Bottom"
                Command="{Binding ForgotPasswordNextButtonCommand}"
                IsEnabled="{Binding IsForgotPasswordbtnNext , Mode=TwoWay}" 
                TabIndex="3" Style="{DynamicResource ButtonStyle}">
        </Button>
    </Grid>
</UserControl>