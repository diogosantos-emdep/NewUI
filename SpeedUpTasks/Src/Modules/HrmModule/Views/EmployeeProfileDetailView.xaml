<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Hrm.Views.EmployeeProfileDetailView"
                         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                         xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                         xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.Views"
                         xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"  
                         xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                         xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" 
                         xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
                         xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
                         xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
                         xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                         xmlns:sys="clr-namespace:System;assembly=mscorlib"
                         xmlns:HrmApplication="clr-namespace:Emdep.Geos.Modules.Hrm" 
                         xmlns:Coverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
                         xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations" 
                         xmlns:dxi="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
                         xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
                         xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
                         mc:Ignorable="d"
                         xmlns:Behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
                         xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
                         xmlns:Interactive="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
                         xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
                         xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
                         d:DesignHeight="300" d:DesignWidth="300"
                         Height="{Binding SystemParameters.PrimaryScreenHeight}" 
                         Width="{Binding SystemParameters.PrimaryScreenWidth}"
                         HorizontalAlignment="Stretch"
                         VerticalAlignment="Stretch"
                         HorizontalContentAlignment="Stretch"
                         VerticalContentAlignment="Stretch"
                         Template="{StaticResource Maximized_DXDialogWindow}"
                         Style="{DynamicResource WinUIDialogWindowStyle}">

    <!--Sprint-40 M040-26 New layout for employee profile-Edit Employee [ajakate]-->
    <!--add tooltip for delete add and show proper message for delete,changes in Exit Remarks,set focus and selectedItem changes==sdesai=sprint41-->

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding EditEmployeeViewCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>

    <dxwui:WinUIDialogWindow.TitleStyle>
        <Style TargetType="ContentControl">
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="5"/>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="5"/>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="5"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Text="{DynamicResource EmployeeDetails}" Style="{DynamicResource CustomTitleStyle}" FontWeight="Bold"/>

                            <Button Content=" " Height="40" Width="40" Grid.Column="2" Command="{Binding  DataContext.PrintEmployeeProfileCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                    HorizontalAlignment="Right" >
                                <Button.ToolTip>
                                    <TextBlock Text="Print Report"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{ DynamicResource PrinterButtonImageStyle}" Height="24" Width="24" HorizontalAlignment="Right" Margin="-10" />
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>

                            <!--[Sprint-66][05/07/2019][skale]-Print Employee Badge option-->
                            <Button Content=" " Height="40" Width="40" Grid.Column="4" Command="{Binding  DataContext.PrintEmployeeIdBadgeCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                    HorizontalAlignment="Right" >
                                <Button.ToolTip>
                                    <TextBlock Text="Print IdCard"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{ DynamicResource PrinterEmployeeIdBadgeButtonImageStyle}" Height="24" Width="24" HorizontalAlignment="Right" Margin="-10" />
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>

                        </Grid>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </dxwui:WinUIDialogWindow.TitleStyle>

    <dxwui:WinUIDialogWindow.Resources>

        <dxmvvm:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <Coverter:GroupboxBackroundColorConvertor x:Key="GroupboxBackroundColorConvertor" />
        <Coverter:ForegroundColorConverter x:Key="ForegroundColorConverter" />

        <Style x:Key="myGroupBoxStyle" TargetType="{x:Type dxlc:GroupBox}">
            <Setter Property="MaximizeElementVisibility" Value="Visible"/>
            <Setter Property="Width" Value="300"/>
            <Setter Property="Height" Value="140"/>
        </Style>

        <DataTemplate  x:Key="rowIndicatorContentTemplate">
            <Border x:Name="errorIndicatorBorder" Background="Transparent">
                <ContentControl Name="iconPresenter">
                    <Border />
                </ContentControl>
            </Border>
            <DataTemplate.Triggers>
                <DataTrigger Binding="{Binding Path=Row.EmployeeContactType.IdLookupValue ,Converter={Coverter:RowIndicatorContentTemplateConverter}}" Value="87">
                    <Setter Property="ContentTemplate" Value="{dxi:ThemeResource {dxgt:RowIndicatorThemeKey ResourceKey=FocusedIconTemplate, IsThemeIndependent=True}}" TargetName="iconPresenter" />
                    <Setter Property="ContentTemplate" TargetName="iconPresenter">
                        <Setter.Value>
                            <DataTemplate>
                                <Image  Source="{DynamicResource IndicatorImageSkype}" Width="22" Height="22"/>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
                <DataTrigger Binding="{Binding Path=Row.EmployeeContactType.IdLookupValue,Converter={Coverter:RowIndicatorContentTemplateConverter}}" Value="88">
                    <Setter Property="ContentTemplate" Value="{dxi:ThemeResource {dxgt:RowIndicatorThemeKey ResourceKey=FocusedIconTemplate,IsThemeIndependent=True}}" TargetName="iconPresenter" />
                    <Setter Property="ContentTemplate" TargetName="iconPresenter">
                        <Setter.Value>
                            <DataTemplate>
                                <Image  Source="{DynamicResource IndicatorImageEmail}" Width="22" Height="22"/>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
                <DataTrigger Binding="{Binding Path=Row.EmployeeContactType.IdLookupValue,Converter={Coverter:RowIndicatorContentTemplateConverter}}" Value="89">
                    <Setter Property="ContentTemplate" Value="{dxi:ThemeResource {dxgt:RowIndicatorThemeKey ResourceKey=FocusedIconTemplate,IsThemeIndependent=True}}" TargetName="iconPresenter" />
                    <Setter Property="ContentTemplate" TargetName="iconPresenter">
                        <Setter.Value>
                            <DataTemplate>
                                <Image  Source="{DynamicResource IndicatorImagePhone}" Width="22" Height="22"/>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
                <DataTrigger Binding="{Binding Path=Row.EmployeeContactType.IdLookupValue,Converter={Coverter:RowIndicatorContentTemplateConverter}}" Value="90">
                    <Setter Property="ContentTemplate" Value="{dxi:ThemeResource {dxgt:RowIndicatorThemeKey ResourceKey=FocusedIconTemplate,IsThemeIndependent=True}}" TargetName="iconPresenter" />
                    <Setter Property="ContentTemplate" TargetName="iconPresenter">
                        <Setter.Value>
                            <DataTemplate>
                                <Image  Source="{DynamicResource IndicatorImageMobile}" Width="22" Height="22"/>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>

        <DataTemplate x:Key="EmailTemplate" >
            <TextBlock x:Name="PART_Editor" Margin="5,0,0,0" VerticalAlignment="Center"  >
              <Hyperlink TargetName="_blank"
              Command="{Binding DataContext.HyperlinkForEmail,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
              CommandParameter="{Binding RowData.Row.EmployeeContactValue}"
              Style="{DynamicResource hyperlinkGridStyle}">
                   <InlineUIContainer>
                    <TextBlock Text="{Binding RowData.Row.EmployeeContactValue,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,Converter={Coverter:RowIndicatorContentTemplateConverter}}" Style="{DynamicResource HyperlinkTextBlock}" TextDecorations="Underline" />
                </InlineUIContainer>
               </Hyperlink>
            </TextBlock>
        </DataTemplate>

        <DataTemplate x:Key="SkypeTemplate">
            <TextBlock x:Name="PART_Editor"
                       Text="{Binding RowData.Row.EmployeeContactValue,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,Converter={Coverter:RowIndicatorContentTemplateConverter}}"
                       VerticalAlignment="Center"/>
        </DataTemplate>

        <DataTemplate x:Key="HomePhoneTemplate">
            <TextBlock x:Name="PART_Editor" 
                       Text="{Binding RowData.Row.EmployeeContactValue,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,Converter={Coverter:RowIndicatorContentTemplateConverter}}"
                       VerticalAlignment="Center"/>
        </DataTemplate>

        <DataTemplate x:Key="MobilePhoneTemplate">
            <TextBlock x:Name="PART_Editor"
                       Text="{Binding RowData.Row.EmployeeContactValue,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,Converter={Coverter:RowIndicatorContentTemplateConverter}}"
                       VerticalAlignment="Center"/>
        </DataTemplate>

        <UIHelper:DataGridCellTemplateSelector x:Key="TemplateSelector" EmailTemplate="{StaticResource EmailTemplate}" 
                                               SkypeTemplate="{StaticResource SkypeTemplate}"  
                                               HomePhoneTemplate="{StaticResource HomePhoneTemplate}" 
                                               MobilePhoneTemplate="{StaticResource MobilePhoneTemplate}" />


        <!--[12-09-2019][skale][GEOS2-1710]-Memorize Exit Events-->

        <DataTemplate x:Key="ExitEventTemplate" x:Shared="False">

            <Grid >
                <Grid.RowDefinitions>
                    <RowDefinition Height="26"/>
                    <RowDefinition Height="3"/>
                    <RowDefinition Height="26"/>
                    <RowDefinition Height="3"/>
                    <RowDefinition Height="34"/>
                    <RowDefinition Height="3"/>
                    <RowDefinition Height="26"/>
                    <RowDefinition Height="3"/>
                    <RowDefinition Height="28"/>
                    <RowDefinition Height="1"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="5"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!--Exit Event-->

                <!--Exit Date-->
                <TextBlock Grid.Row="0" Grid.Column="0" Text="{DynamicResource ChangeLogDate}" 
                                                   VerticalAlignment="Center"/>

                <dxe:DateEdit Grid.Row="0" Grid.Column="2" 
                              VerticalAlignment="Stretch" 
                              MinValue="{Binding MinExitEventDate,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                              IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                              MaxValue="{Binding MaxDate,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                              AllowRoundOutOfRangeValue="True">
                    <dxe:DateEdit.EditValue>
                        <!--<Binding Path="ExitDate" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" />-->
                        <Binding Path="ExitDate" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True" >
                            <Binding.ValidationRules>
                                <Validation:EmployeeProfileValidation FieldName="ExitDate" ValidationStep="UpdatedValue" />
                            </Binding.ValidationRules>
                        </Binding>
                    </dxe:DateEdit.EditValue>
                    <dxmvvm:Interaction.Behaviors>
                        <dxmvvm:EventToCommand EventName="EditValueChanged" 
                                                                       Command="{Binding DataContext.OnExitDateEditValueChangedCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                                      PassEventArgsToCommand="True" />
                    </dxmvvm:Interaction.Behaviors>
                </dxe:DateEdit>

                <!--Exit Reason-->
                <TextBlock Grid.Row="2" Grid.Column="0" Text="{DynamicResource EmpExitReason}" VerticalAlignment="Center"/>

                <dxe:ComboBoxEdit Grid.Row="2" Grid.Column="2" 
                                                          VerticalAlignment="Stretch"
                                                          ItemsSource="{Binding ExitEventReasonList,Mode=TwoWay}"  
                                                          DisplayMember="Value" ValueMember="IdLookupValue" 
                                                          IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                          AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True" >
                    <dxe:ComboBoxEdit.SelectedIndex>
                        <Binding Path="SelectedExitEventReasonIndex" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                            <Binding.ValidationRules>
                                <Validation:EmployeeProfileValidation FieldName="SelectedExitEventReasonIndex" ValidationStep="UpdatedValue" />
                            </Binding.ValidationRules>
                        </Binding>
                    </dxe:ComboBoxEdit.SelectedIndex>
                    <dxe:ComboBoxEdit.ItemContainerStyle>
                        <Style TargetType="dxe:ComboBoxEditItem">
                            <Setter Property="IsEnabled" Value="{Binding InUse}" />
                        </Style>
                    </dxe:ComboBoxEdit.ItemContainerStyle>
                </dxe:ComboBoxEdit>

                <!--Remark-->
                <TextBlock Text="{DynamicResource EmployeeRemark}" Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" />

                <dxe:TextEdit Grid.Row="4" Grid.Column="2" TextWrapping="Wrap" 
                                                      VerticalAlignment="Stretch"
                                                      ScrollViewer.VerticalScrollBarVisibility="Auto" 
                                                      AcceptsReturn="True" 
                                                      IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">

                    <dxe:TextEdit.Text>
                        <Binding Path="Remarks" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                            <Binding.ValidationRules>
                                <Validation:EmployeeProfileValidation FieldName="Remarks" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                            </Binding.ValidationRules>
                        </Binding>
                    </dxe:TextEdit.Text>
                </dxe:TextEdit>

                <!--Exit Attachment-->

                <TextBlock Text="{DynamicResource LeaveAttachment}" Grid.Row="6" Grid.Column="0" VerticalAlignment="Center" />

                <dxe:ComboBoxEdit x:Name="editor" Grid.Row="6" Grid.Column="2" 
                                                            ItemsSource="{Binding ExitEventattachmentList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                            ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                            DisplayMember="OriginalFileName"
                                                            HorizontalAlignment="Stretch" 
                                                            VerticalAlignment="Stretch"
                                                            AllowDefaultButton="False"
                                                            AutoComplete="True"
                                                            ImmediatePopup="True"
                                                            ValidateOnEnterKeyPressed="True" 
                                                            ValidateOnTextInput="True"
                                                            IsTextEditable="False" Style="{DynamicResource ComboBoxEditStyle}" 
                                                            IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">

                                                             <!--SelectedItem="{Binding AttachedFile,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">-->

                    <dxe:ComboBoxEdit.StyleSettings>
                        <dxe:TokenComboBoxStyleSettings  NewTokenPosition="Far" EnableTokenWrapping="True"  />
                    </dxe:ComboBoxEdit.StyleSettings>
                    <dxmvvm:Interaction.Behaviors>
                        <dxmvvm:EventToCommand EventName="EditValueChanged"
                                                           Command="{Binding DataContext.SelectedItemChangedCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                           PassEventArgsToCommand="True"/>
                    </dxmvvm:Interaction.Behaviors>
                </dxe:ComboBoxEdit>

                <StackPanel Orientation="Horizontal" Grid.Row="8" Grid.Column="0" Grid.ColumnSpan="3" HorizontalAlignment="Right" >

                    <Button Name="btnViewExitFile" ToolTip="View Document" Width="33"
                                                    HorizontalAlignment="Right" VerticalAlignment="Stretch" 
                                                    Visibility="{Binding IsVisible, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                    Command="{Binding DataContext.DocumentViewCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                    CommandParameter="{Binding Path=.}"  IsEnabled="{Binding IsEnable,UpdateSourceTrigger=PropertyChanged ,Mode=TwoWay}" >
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Image Height="20" Width="20"
                                                               Margin="-10"
                                                               Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/pdf-icon.png" 
                                                               HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  />
                            </DataTemplate>
                        </Button.ContentTemplate>
                        <Button.Style>
                            <Style TargetType="{x:Type Button}">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter  Property="Cursor" Value="Hand"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <Button Content= "{DynamicResource ChooseFile}"
                                                    Width="Auto" 
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Stretch" 
                                                    Command="{Binding DataContext.ChooseFileCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                                    CommandParameter="{Binding Path=.}" 
                                                    IsEnabled="{Binding IsAcceptEnabled}">
                    </Button>
                </StackPanel>
            </Grid>
        </DataTemplate>

    </dxwui:WinUIDialogWindow.Resources>

    <!--Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}, Converter={Coverter:ScreenResolutionRatioConverter}, ConverterParameter='0.96' }" 
               Width="{Binding Source={x:Static SystemParameters.PrimaryScreenWidth}, Converter={Coverter:ScreenResolutionRatioConverter}, ConverterParameter='0.96' }"-->
    <!--Main Grid-->

    <!--<ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto">
        Width="{Binding DialogWidth}" Height="{Binding DialogHeight}"-->

    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
        <Grid.RowDefinitions>
            <!--<RowDefinition Height="50"/>-->
            <RowDefinition Height="*"/>
            <RowDefinition Height="40"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <dxlc:FlowLayoutControl Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                                    Orientation="Vertical" ItemSpace="12" LayerSpace="12" Background="Transparent" 
                                    AllowMaximizedElementMoving="False" 
                                    BreakFlowToFit="True" MaximizedElementPosition="Right" 
                                    MaximizedElement="{Binding DataContext.SelectedBoxIndex}">

            <dxmvvm:Interaction.Behaviors>
                <UIHelper:FlowLayoutControlForMinimiseMaximise/>
            </dxmvvm:Interaction.Behaviors>

            <!--General Information-->
            <dxlc:GroupBox x:Name="GeneralInformation" Width="300" Height="120" MaximizeElementVisibility="Visible" >

                <dxlc:GroupBox.Style>
                    <Style TargetType="dxlc:GroupBox">
                        <Setter Property="Header">
                            <Setter.Value>
                                <Grid >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{DynamicResource EmployeePI}" HorizontalAlignment="Left" FontWeight="Bold" VerticalAlignment="Center"/>
                                    <!--<TextBlock Grid.Column="1" Text="{Binding DataContext.IsInformationError, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Left" FontWeight="Bold" VerticalAlignment="Center"/>-->
                                    <dxe:ErrorControl Grid.Column="3" HorizontalAlignment="Right"   Content="{Binding}" ToolTip="{Binding DataContext.InformationError,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                                        <dxe:ErrorControl.Style>
                                            <Style TargetType="dxe:ErrorControl">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding DataContext.IsInformationError, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="True">
                                                        <Setter Property="Visibility" Value="{Binding Path=Tag.(dxe:ValidationService.HasValidationError), Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"></Setter>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding DataContext.IsInformationError, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="False">
                                                        <Setter Property="Visibility" Value="Hidden"></Setter>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </dxe:ErrorControl.Style>
                                    </dxe:ErrorControl>
                                </Grid>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </dxlc:GroupBox.Style>

                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource EmpFirstName}" Grid.Row="0" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.FirstName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"/>
                            <Label Content="{DynamicResource EmpLastName}" Grid.Row="1" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.LastName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap"/>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>

                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto">
                            <Grid >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="20*"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="11*"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="27*"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="24*"/>
                                </Grid.ColumnDefinitions>

                                <!--Employee Image-->
                                <dxe:ImageEdit Grid.Row="0" Grid.Column="0" Grid.RowSpan="15"
                                               Source="{Binding DataContext.ProfilePhotoSource,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                               ShowMenu="True"
                                              IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">

                                    <dxe:ImageEdit.Style>
                                        <Style>
                                            <Style.Triggers >
                                                <DataTrigger Binding="{Binding DataContext.IsPhoto,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="false">
                                                    <Setter Property="dxe:ImageEdit.Stretch" Value="None" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </dxe:ImageEdit.Style>
                                </dxe:ImageEdit>

                                <!--Gender-->
                                <StackPanel Grid.Row="16" Grid.Column="0" Grid.RowSpan="2" Orientation="Horizontal"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                    <!--<TextBlock Text="{DynamicResource EmployeeGender}"  VerticalAlignment="Center"></TextBlock>-->
                                    <dxe:ListBoxEdit DisplayMember="Value" ValueMember="IdLookupValue" 
                                                     ItemsSource="{Binding DataContext.GenderList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                     ShowBorder="False" VerticalAlignment="Top">
                                        <dxe:ListBoxEdit.StyleSettings>
                                            <dxe:RadioListBoxEditStyleSettings Height="25" />
                                        </dxe:ListBoxEdit.StyleSettings>
                                        <dxe:ListBoxEdit.SelectedIndex>
                                            <Binding Path="DataContext.SelectedIndexGender" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                <Binding.ValidationRules>
                                                    <Validation:EmployeeProfileValidation FieldName="SelectedIndexGender" ValidationStep="UpdatedValue" />
                                                </Binding.ValidationRules>
                                            </Binding>
                                        </dxe:ListBoxEdit.SelectedIndex>

                                        <dxe:ListBoxEdit.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel Orientation="Horizontal"/>
                                            </ItemsPanelTemplate>
                                        </dxe:ListBoxEdit.ItemsPanel>

                                        <dxe:ListBoxEdit.ItemTemplate>
                                            <DataTemplate>
                                                <DockPanel>
                                                    <Image Height="28" Width="28">
                                                        <Image.Style>
                                                            <Style>
                                                                <Style.Triggers>
                                                                    <MultiDataTrigger>
                                                                        <MultiDataTrigger.Conditions>
                                                                            <Condition Binding="{Binding IdLookupValue}" Value="1"/>
                                                                        </MultiDataTrigger.Conditions>
                                                                        <Setter Property="Image.Source" Value="{DynamicResource EmployeeGenderFemaleImageStyle}"/>
                                                                    </MultiDataTrigger>
                                                                    <MultiDataTrigger>
                                                                        <MultiDataTrigger.Conditions>
                                                                            <Condition Binding="{Binding IdLookupValue}" Value="2"/>
                                                                        </MultiDataTrigger.Conditions>
                                                                        <Setter Property="Image.Source" Value="{DynamicResource EmployeeGenderMaleImageStyle}"/>
                                                                    </MultiDataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Image.Style>
                                                    </Image>
                                                    <TextBlock Text="{Binding Value}" Padding="0" HorizontalAlignment="Left" VerticalAlignment="Center" />
                                                </DockPanel>
                                            </DataTemplate>
                                        </dxe:ListBoxEdit.ItemTemplate>
                                    </dxe:ListBoxEdit>
                                </StackPanel>

                                <StackPanel Grid.Row="18" Grid.Column="0" Orientation="Horizontal">
                                    <TextBlock Text="{DynamicResource EmployeeAddress}" VerticalAlignment="Center"/>
                                    <Image  Height="16" Width="16" HorizontalAlignment="Left">
                                        <Image.Style>
                                            <Style>
                                                <Setter Property="Image.Source" Value="{DynamicResource MapLocationImageStyle}" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding DataContext.IsCoordinatesNull, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="True">
                                                        <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Hrm;component/Assets/Images/gMapLocationSelected.png" />
                                                        <Setter Property="Image.ToolTip" Value="{Binding DataContext.MapLatitudeAndLongitude,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                                                        <Setter Property="Image.ToolTip" Value="{DynamicResource EditContactViewSetLocation}" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding DataContext.IsCoordinatesNull, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="False">
                                                        <Setter Property="Image.ToolTip" Value="{DynamicResource EditContactViewSetLocation}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Image.Style>
                                        <Image.InputBindings>
                                            <MouseBinding Gesture="LeftClick" Command="{Binding DataContext.SearchButtonClickCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                          CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}"/>
                                        </Image.InputBindings>
                                    </Image>
                                </StackPanel>

                                <!--Address-->
                                <dxe:TextEdit Grid.Row="20" Grid.Column="0" Grid.RowSpan="5" ScrollViewer.VerticalScrollBarVisibility="Auto" 
                                              AcceptsReturn="True"
                                              TextWrapping="WrapWithOverflow"
                                              VerticalContentAlignment="Stretch" HorizontalContentAlignment="Left"
                                              IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                    <dxe:TextEdit.Text>
                                        <Binding Path="DataContext.Address" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="Address" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:TextEdit.Text>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanged" 
                                                               Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                               PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:TextEdit>

                                <!--EmployeeCode-->
                                <TextBlock Text="{DynamicResource Code}" Grid.Row="0" Grid.Column="2" VerticalAlignment="Center"/>
                                <dxe:TextEdit Grid.Row="0" Grid.Column="4"
                                              Text="{Binding DataContext.EmployeeCode,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                              IsReadOnly="True"/>

                                <!--FirstName-->
                                <TextBlock Text="{DynamicResource EmployeeFirstName}" Grid.Row="2" Grid.Column="2" VerticalAlignment="Center"/>
                                <dxe:TextEdit Grid.Row="2" Grid.Column="4" 
                                              Text="{Binding DataContext.FirstName,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                              IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                    <dxe:TextEdit.EditValue>
                                        <Binding Path="DataContext.FirstName" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="FirstName" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:TextEdit.EditValue>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:TextEdit>

                                <!--LastName-->
                                <TextBlock Text="{DynamicResource EmployeeLastName}" Grid.Row="4" Grid.Column="2" VerticalAlignment="Center" />
                                <dxe:TextEdit Grid.Row="4" Grid.Column="4" 
                                               Text="{Binding DataContext.LastName,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                    <dxe:TextEdit.EditValue>
                                        <Binding Path="DataContext.LastName" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="LastName" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:TextEdit.EditValue>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:TextEdit>

                                <!--DisplayName-->
                                <TextBlock Text="{DynamicResource EmployeeDisplayName}" Grid.Row="6" Grid.Column="2" VerticalAlignment="Center" />
                                <dxe:TextEdit Grid.Row="6" Grid.Column="4" 
                                               Text="{Binding DataContext.DisplayName,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                    <dxe:TextEdit.EditValue>
                                        <Binding Path="DataContext.DispalyName" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="DisplayName" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:TextEdit.EditValue>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:TextEdit>


                                <!--NativeName-->
                                <TextBlock Text="{DynamicResource EmployeeNativeName}" Grid.Row="8" Grid.Column="2" VerticalAlignment="Center" />
                                <dxe:TextEdit Grid.Row="8" Grid.Column="4" Text="{Binding DataContext.NativeName,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                 IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                    <dxe:TextEdit.EditValue>
                                        <Binding Path="DataContext.NativeName" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="NativeName" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:TextEdit.EditValue>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:TextEdit>

                                <!--Nationality-->
                                <TextBlock Text="{DynamicResource EmployeeNationality}" Grid.Row="10" Grid.Column="2" VerticalAlignment="Center" />
                                <dxe:ComboBoxEdit Grid.Row="10" Grid.Column="4" 
                                                  ItemsSource="{Binding DataContext.NationalityList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay}" 
                                                  DisplayMember="Name" ValueMember="IdCountry" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                   IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                                  <!--IsEnabled="{Binding IsEnableSave,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">-->
                                    <dxe:ComboBoxEdit.SelectedIndex>
                                        <Binding Path="DataContext.SelectedNationalityIndex" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="SelectedNationalityIndex" ValidationStep="UpdatedValue" />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedIndex>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanged" Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:ComboBoxEdit>

                                <!--BirthDate-->
                                <TextBlock Text="{DynamicResource EmployeeBirthDate}"  Grid.Row="12" Grid.Column="2" VerticalAlignment="Center" />

                                <!--BirthDate & Age-->
                                <Grid Grid.Row="12" Grid.Column="4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="60*"/>
                                        <ColumnDefinition Width="20*"/>
                                        <ColumnDefinition Width="20*"/>
                                    </Grid.ColumnDefinitions>

                                    <dxe:DateEdit Grid.Column="0" HorizontalAlignment="Stretch"
                                                       IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                        <dxe:DateEdit.EditValue>
                                            <Binding Path="DataContext.BirthDate" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay"
                                                 ValidatesOnDataErrors="True">
                                                <Binding.ValidationRules>
                                                    <Validation:EmployeeProfileValidation FieldName="StartDate" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                                </Binding.ValidationRules>
                                            </Binding>
                                        </dxe:DateEdit.EditValue>
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnDateEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                        </dxmvvm:Interaction.Behaviors>
                                    </dxe:DateEdit>

                                    <!--Age-->
                                    <TextBlock Text="{DynamicResource EmployeeAge}" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    <dxe:TextEdit Grid.Column="2" IsReadOnly="True" HorizontalAlignment="Stretch" 
                                                  Text="{Binding DataContext.Age,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" />
                                </Grid>

                                <!--Marital Status-->
                                <TextBlock Text="{DynamicResource EmployeeMaritalStatus}" Grid.Row="14" Grid.Column="2" VerticalAlignment="Center" />
                                <dxe:ComboBoxEdit Grid.Row="14" Grid.Column="4" 
                                                  ItemsSource="{Binding DataContext.MaritalStatusList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay}"
                                                  DisplayMember="Value" ValueMember="IdLookupValue" 
                                                   IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                                  IsEnabled="{Binding IsEnableSave,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                  AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True">
                                    <dxe:ComboBoxEdit.SelectedIndex>
                                        <Binding Path="DataContext.SelectedMaritalStatusIndex" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="SelectedMaritalStatusIndex" ValidationStep="UpdatedValue" />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedIndex>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanged"
                                                               Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                               PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                    <dxe:ComboBoxEdit.ItemContainerStyle>
                                        <Style TargetType="dxe:ComboBoxEditItem">
                                            <Setter Property="IsEnabled" Value="{Binding InUse}" />
                                        </Style>
                                    </dxe:ComboBoxEdit.ItemContainerStyle>
                                </dxe:ComboBoxEdit>

                                <!--Disability-->
                                <TextBlock Text="{DynamicResource EmployeeDisability}" Grid.Row="16" Grid.Column="2" VerticalAlignment="Center" />

                                <dxe:SpinEdit x:Name="PART_Editor" Grid.Row="16" Grid.Column="4" Width="90" 
                                              AllowRoundOutOfRangeValue="True" HorizontalAlignment="Left"
                                              Increment="1" MinValue="0" 
                                              Value="{Binding DataContext.SelectedDisability,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                              MaxValue="100" IsFloatValue="False"
                                              IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                </dxe:SpinEdit>

                                <!--EmployeeStatus-->
                                <TextBlock Text="{DynamicResource EmployeeStatus}" Grid.Row="18" Grid.Column="2" VerticalAlignment="Center" />
                                <dxe:ComboBoxEdit Grid.Row="18" Grid.Column="4" AutoComplete="True" 
                                                  ItemsSource="{Binding DataContext.EmployeeStatusList,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                  DisplayMember="Value" ValueMember="IdLookupValue" 
                                                  ImmediatePopup="True" IncrementalFiltering="True">
                                    <dxe:ComboBoxEdit.SelectedIndex>
                                        <Binding Path="DataContext.SelectedEmpolyeeStatusIndex" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedIndex>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="SelectedIndexChanged" 
                                                               Command="{Binding DataContext.EmployeeStatusSelectedIndexChangedCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                                               PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:ComboBoxEdit>

                                <!--City-->
                                <!-- This control changed by Mayuri -->
                                <!--[HRM M044-13] Autocomplete field for city field in employee profile-->
                                <TextBlock Text="{DynamicResource EmployeeCity}" Grid.Row="20" Grid.Column="2" VerticalAlignment="Center"/>
                                <dxe:ComboBoxEdit Grid.Row="20" Grid.Column="4"
                                                    ItemsSource="{Binding DataContext.CountryWiseCities,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" 
                                                    IsTextEditable="True" 
                                                    AutoComplete="True" 
                                                    ImmediatePopup="True" 
                                                    SelectionStart="0"
                                                    IncrementalFiltering="True" 
                                                    AllowDefaultButton="False"
                                                     IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                    <dxe:ComboBoxEdit.EditValue >
                                        <Binding Path="DataContext.SelectedCity" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="SelectedCity" ValidationStep="UpdatedValue" />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.EditValue>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanged" 
                                                               Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                               PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:ComboBoxEdit>

                                <!--ZipCode-->
                                <TextBlock Text="{DynamicResource EmployeeZipCode}" Grid.Row="22" Grid.Column="2" VerticalAlignment="Center" />
                                <dxe:TextEdit Grid.Row="22" Grid.Column="4" Text="{Binding DataContext.ZipCode,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                              TextTrimming="CharacterEllipsis" MaskUseAsDisplayFormat="True" AllowNullInput="True" InvalidValueBehavior="AllowLeaveEditor"
                                             IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                    <dxe:TextEdit.EditValue>
                                        <Binding Path="DataContext.ZipCode" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="ZipCode" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:TextEdit.EditValue>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanging" 
                                                               Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                               PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:TextEdit>

                                <!--Country-->
                                <TextBlock Text="{DynamicResource EmployeeCountry}" Grid.Row="24" Grid.Column="2" VerticalAlignment="Center" />
                                <dxe:ComboBoxEdit Grid.Row="24" Grid.Column="4" 
                                                  ItemsSource="{Binding DataContext.CountryList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay}"
                                                  DisplayMember="Name" ValueMember="IdCountry" 
                                                  AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True">
                                    <dxe:ComboBoxEdit.SelectedIndex>
                                        <Binding Path="DataContext.SelectedCountryIndex" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="SelectedCountryIndex" ValidationStep="UpdatedValue" />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedIndex>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanged" 
                                                               Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                               PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:ComboBoxEdit>

                                <!--Region-->
                                <TextBlock Text="{DynamicResource EmployeeRegion}" Grid.Row="26" Grid.Column="2" VerticalAlignment="Center" />
                                <dxe:ComboBoxEdit Grid.Row="26" Grid.Column="4"
                                                    ItemsSource="{Binding DataContext.CountryWiseRegions,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" 
                                                    IsTextEditable="True"
                                                    AutoComplete="True" 
                                                    ImmediatePopup="True" 
                                                    SelectionStart="0"
                                                    IncrementalFiltering="True" 
                                                    AllowDefaultButton="False"
                                                   IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                    <dxe:ComboBoxEdit.EditValue >
                                        <Binding Path="DataContext.SelectedCountryRegion" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="SelectedCountryRegion" ValidationStep="UpdatedValue" />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.EditValue>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanged" Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:ComboBoxEdit>

                                <!--Remark-->
                                <TextBlock Text="{DynamicResource EmployeeRemark}" Grid.Row="0" Grid.Column="6" VerticalAlignment="Center"/>

                                <TextBox TextWrapping="Wrap" Width="Auto" Grid.Row="2" Grid.Column="6"  Grid.RowSpan="8"
                                         VerticalAlignment="Stretch" 
                                         ScrollViewer.VerticalScrollBarVisibility="Auto" Text="{Binding DataContext.Remark,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                         AcceptsReturn="True"
                                         IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"/>
                                <!--IsReadOnly="{Binding IsReadOnlyField}"/>-->

                                <!--Location-->
                                <TextBlock Text="{DynamicResource Location}" Grid.Row="10" Grid.Column="6" VerticalAlignment="Center"/>
                                <dxe:ComboBoxEdit Name="cmblocation" Grid.Row="12" Grid.Column="6" ItemsSource="{Binding DataContext.LocationList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay}"
                                                  DisplayMember="Alias" ValueMember="IdCompany" 
                                                  AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True">
                                    <dxe:ComboBoxEdit.SelectedIndex>
                                        <Binding Path="DataContext.SelectedLocationIndex" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:EmployeeProfileValidation FieldName="SelectedLocationIndex" ValidationStep="UpdatedValue" />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedIndex>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="EditValueChanged" Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:ComboBoxEdit>


                                <!--[03/10/2019][skale][GEOS2-1714]-Adjust shift developments (improvements), (#ERF38)-->

                                <!--Work Schedule-->
                                <!--<Border Grid.Row="8" Grid.Column="6" Grid.RowSpan="5"
                                        BorderBrush="{DynamicResource BorderBrushColor}" 
                                        BorderThickness="1">
                                    <Grid ShowGridLines="False" Margin="10 0 10 0" >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="28"/>
                                            <RowDefinition Height="30"/>
                                            <RowDefinition Height="5"/>
                                            <RowDefinition Height="30"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="5"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                      
                                        <TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3"
                                                   Text="{DynamicResource EmpWorkSchedule}" FontWeight="Bold" 
                                                   HorizontalAlignment="Stretch" VerticalAlignment="Center"/>

                                        
                                        <TextBlock Grid.Row="1" Grid.Column="0"
                                                   Text="{DynamicResource EmpWorkScheduleName}" VerticalAlignment="Center"/>

                                        <dxe:ComboBoxEdit Grid.Row="1" Grid.Column="2" VerticalAlignment="Stretch"
                                                          ItemsSource="{Binding DataContext.CompanySchedules,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}"
                                                          DisplayMember="Name" ValueMember="IdCompanySchedule" 
                                                          AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                          IsReadOnly="{Binding Source={x:Static HrmApplication:HrmCommon.Instance}, Path=IsPermissionReadOnly,Mode=OneTime,UpdateSourceTrigger=PropertyChanged}">
                                            <dxe:ComboBoxEdit.SelectedIndex>
                                                <Binding Path="DataContext.SelectedCompanyScheduleIndex" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                </Binding>
                                            </dxe:ComboBoxEdit.SelectedIndex>
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="SelectedIndexChanged" Command="{Binding DataContext.CompanyScheduleSelectedIndexChangedCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" PassEventArgsToCommand="True"/>
                                            </dxmvvm:Interaction.Behaviors>
                                        </dxe:ComboBoxEdit>

                                     
                                        <TextBlock Grid.Row="3" Grid.Column="0"
                                                   Text="{DynamicResource EmpWorkScheduleShift}" VerticalAlignment="Center"/>

                                        <dxe:ComboBoxEdit Grid.Row="3" Grid.Column="2" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                          ItemsSource="{Binding DataContext.CompanyShifts,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}"
                                                          ApplyItemTemplateToSelectedItem="True" 
                                                          AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                          IsReadOnly="{Binding Source={x:Static HrmApplication:HrmCommon.Instance}, Path=IsPermissionReadOnly,Mode=OneTime,UpdateSourceTrigger=PropertyChanged}"
                                                          DisplayMember="ShiftTime" ValueMember="IdCompanyShift"
                                                          IsTextEditable="False">
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="EditValueChanged" Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                            </dxmvvm:Interaction.Behaviors>
                                            <dxe:ComboBoxEdit.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Margin="5 0">
                                                            <TextBlock.Style>
                                                                <Style>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding IdCompanyShift}" Value="0">
                                                                            <Setter Property="TextBlock.Text" Value="" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                    <Setter Property="TextBlock.Text" Value="{Binding ShiftTime}" />
                                                                </Style>
                                                            </TextBlock.Style>
                                                        </TextBlock>
                                                        <Image Margin="5 0" Height="15" Width="15" Source="{DynamicResource CoffeeCupImage}">
                                                            <Image.Style>
                                                                <Style>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding IdCompanyShift}" Value="0">
                                                                            <Setter Property="Image.Visibility" Value="Collapsed" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                    <Setter Property="Image.Visibility" Value="Visible" />
                                                                </Style>
                                                            </Image.Style>
                                                        </Image>
                                                        <TextBlock>
                                                            <TextBlock.Style>
                                                                <Style>
                                                                    <Setter Property="TextBlock.Text" Value="{Binding BreakTime.TotalMinutes}"/>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding IdCompanyShift}" Value="0">
                                                                            <Setter Property="TextBlock.Text" Value="{x:Null}" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </TextBlock.Style>
                                                        </TextBlock>
                                                        <TextBlock>
                                                            <TextBlock.Style>
                                                                <Style>
                                                                    <Setter Property="TextBlock.Text" Value="M"/>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding IdCompanyShift}" Value="0">
                                                                            <Setter Property="TextBlock.Text" Value="{x:Null}" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </TextBlock.Style>
                                                        </TextBlock>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </dxe:ComboBoxEdit.ItemTemplate>
                                            <dxe:ComboBoxEdit.SelectedIndex>
                                                <Binding Path="DataContext.SelectedCompanyShiftIndex" 
                                                         RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                </Binding>
                                            </dxe:ComboBoxEdit.SelectedIndex>
                                        </dxe:ComboBoxEdit>
                                    </Grid>
                                </Border>-->

                                <!--Exit Event-->

                                <!--[12-09-2019][skale][GEOS2-1710]-Memorize Exit Events-->

                                <dx:DXTabControl  Name="tabExitEvent" Grid.Row="14" Grid.Column="6" Grid.RowSpan="11" ItemsSource="{Binding DataContext.ExitEventList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" ItemTemplate="{DynamicResource ExitEventTemplate}" TabContentCacheMode="CacheAllTabs" SelectedItem="{Binding DataContext.SelectedExitEventItem ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" >
                                    <dx:DXTabControl.ItemHeaderTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Path=Header}" />
                                        </DataTemplate>
                                    </dx:DXTabControl.ItemHeaderTemplate>

                                    <dx:DXTabControl.View>
                                        <dx:TabControlScrollView x:Name="DXTabControl1"
                                                                 HeaderOrientation="Horizontal"
                                                                 NewButtonShowMode="NoWhere"/>
                                    </dx:DXTabControl.View>
                                </dx:DXTabControl>

                                <!--End-->

                                <dxlc:LayoutGroup View="GroupBox" Orientation="Vertical" 
                                                  Grid.Row="28" Grid.Column="0" Grid.ColumnSpan="7" 
                                                  VerticalAlignment="Stretch">
                                    <dxlc:LayoutGroup.HeaderTemplate >
                                        <DataTemplate>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>

                                                <TextBlock Text="{DynamicResource EmpIdentificationDoc}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0,0,5,0" />

                                                <Button Grid.Row="0" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right" 
                                                        Command="{Binding DataContext.AddNewIdentificationDocumentCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                        IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">>
                                                    <!--IsEnabled="{Binding IsAcceptEnabled}"-->
                                                    <Button.ToolTip>
                                                        <TextBlock Text="{DynamicResource AddIdentificationDocument}"/>
                                                    </Button.ToolTip>
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                </Button>
                                            </Grid>
                                        </DataTemplate>
                                    </dxlc:LayoutGroup.HeaderTemplate>

                                    <dxg:GridControl x:Name="DocumentGrid" 
                                                     ItemsSource="{Binding DataContext.EmployeeDocumentList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                     SelectedItem="{Binding DataContext.SelectedDocumentRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" HorizontalAlignment="Stretch"
                                                     Width="Auto" 
                                                     MinWidth="130" MaxHeight="600"
                                                     ImplyNullLikeEmptyStringWhenFiltering="True">
                                        <dxg:GridControl.Columns>
                                            <dxg:GridColumn FieldName="EmployeeDocumentType.Value" Header="{DynamicResource EmpContactType}" ReadOnly="True" FilterPopupMode="CheckedList" Width="10*"/>
                                            <dxg:GridColumn FieldName="EmployeeDocumentName" Header="{DynamicResource EmpLanguageName}" ReadOnly="True" FilterPopupMode="CheckedList" Width="15*"/>
                                            <dxg:GridColumn FieldName="EmployeeDocumentNumber" Header="{DynamicResource EmpDocNumber}" ReadOnly="True" FilterPopupMode="CheckedList" Width="15*"/>
                                            <dxg:GridColumn FieldName="EmployeeDocumentIssueDate" Header="{DynamicResource EmpDocIssueDate}" ReadOnly="True" FilterPopupMode="CheckedList" Width="15*"/>
                                            <dxg:GridColumn FieldName="EmployeeDocumentExpiryDate" Header="{DynamicResource EmpDocExpiryDate}" ReadOnly="True" FilterPopupMode="CheckedList" Width="15*">
                                                <dxg:GridColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <dxe:DateEdit x:Name="PART_Editor"  
                                                                      Text="{Binding RowData.Row.EmployeeDocumentExpiryDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}">
                                                            <dxe:DateEdit.Style>
                                                                <Style>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Value="True" Binding="{Binding RowData.Row.EmployeeDocumentExpiryDate,Converter={Coverter:DateCellColorConvertor}}">
                                                                            <Setter Property="TextBlock.Foreground" Value="{DynamicResource ExpiryDateRedColor}"/>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </dxe:DateEdit.Style>
                                                        </dxe:DateEdit>
                                                    </DataTemplate>
                                                </dxg:GridColumn.CellTemplate>
                                            </dxg:GridColumn>

                                            <dxg:GridColumn FieldName="EmployeeDocumentRemarks" Header="{DynamicResource EmployeeRemarks}" ReadOnly="True" FilterPopupMode="CheckedList" Width="25*"/>

                                            <dxg:GridColumn FieldName="EmployeeDocumentFileName" Header="{DynamicResource EmpEducationFileName}" Width="5*" AllowMoving="False" AllowColumnFiltering="false" >
                                                <dxg:GridColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Name="btnIdentificationDocName" ToolTip="View Document" Command="{Binding DataContext.EmployeeDocumentViewCommand,RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"
                                                            CommandParameter="{Binding RowData.Row}">
                                                            <Button.ContentTemplate>
                                                                <DataTemplate>
                                                                    <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/pdf-icon.png" />
                                                                </DataTemplate>
                                                            </Button.ContentTemplate>
                                                            <Button.Style>
                                                                <Style TargetType="{x:Type Button}">
                                                                    <Style.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Cursor" Value="Hand"/>
                                                                        </Trigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Button.Style>
                                                        </Button>

                                                        <DataTemplate.Triggers>
                                                            <DataTrigger Binding="{Binding RowData.Row.EmployeeDocumentFileName}" Value="{x:Null}">
                                                                <Setter TargetName="btnIdentificationDocName" Property="Visibility" Value="Hidden" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding RowData.Row.EmployeeDocumentFileName}" Value="{x:Static sys:String.Empty}">
                                                                <Setter TargetName="btnIdentificationDocName" Property="Visibility" Value="Hidden" />
                                                            </DataTrigger>
                                                        </DataTemplate.Triggers>
                                                    </DataTemplate>
                                                </dxg:GridColumn.CellTemplate>
                                            </dxg:GridColumn>

                                            <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                                <dxg:GridColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Name="deleteRowItem" ToolTip="Delete" Command="{Binding DataContext.DeleteDocumentInformationCommand,RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"
                                                            CommandParameter="{Binding RowData.Row}" IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                            <Button.ContentTemplate>
                                                                <DataTemplate>
                                                                    <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                                </DataTemplate>
                                                            </Button.ContentTemplate>
                                                            <Button.Style>
                                                                <Style TargetType="{x:Type Button}">
                                                                    <Style.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Cursor" Value="Hand"/>
                                                                        </Trigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Button.Style>
                                                        </Button>
                                                    </DataTemplate>
                                                </dxg:GridColumn.CellTemplate>
                                            </dxg:GridColumn>
                                        </dxg:GridControl.Columns>

                                        <dxg:GridControl.View>
                                            <dxg:TableView Name="EmpDocumentView"  NavigationStyle="Row"
                                                            VerticalScrollbarVisibility="Auto" 
                                                            HorizontalScrollbarVisibility="Auto"
                                                            AutoWidth="False"
                                                            ShowGroupPanel="False" 
                                                            ShowIndicator="False"
                                                            AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                            FocusedRow="{Binding DataContext.SelectedDocumentRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},
                                                            UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                            ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                            ItemsSourceErrorInfoShowMode="RowAndCell">
                                                <dxmvvm:Interaction.Behaviors>
                                                    <dxmvvm:EventToCommand Command="{Binding DataContext.EditDocumentInformationDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                                                           EventName="MouseDoubleClick" 
                                                                           CommandParameter="{Binding ElementName=EmpDocumentView}" >
                                                        <dxmvvm:EventToCommand.EventArgsConverter>
                                                            <dx:EventArgsToDataRowConverter/>
                                                        </dxmvvm:EventToCommand.EventArgsConverter>
                                                    </dxmvvm:EventToCommand>
                                                </dxmvvm:Interaction.Behaviors>
                                            </dxg:TableView>
                                        </dxg:GridControl.View>
                                    </dxg:GridControl>
                                </dxlc:LayoutGroup>
                            </Grid>
                        </ScrollViewer>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>

            <!--Contact Information-->
            <dxlc:GroupBox x:Name="ContactInformation" Width="300" Height="120" MaximizeElementVisibility="Visible" >
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource EmployeeContacts}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ContactCount"
                                    Text="{Binding DataContext.ContactCount,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Image Grid.Row="0" Grid.Column="0" Width="25" Margin="0,0,4,0" Height="25" Source="{DynamicResource IndicatorImageEmail}" VerticalAlignment="Center"/>

                            <TextBlock Grid.Row="0" Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock.Style>
                                    <Style>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.ProfessionalEmail, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="{x:Null}">
                                                <Setter Property="TextBlock.Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding DataContext.ProfessionalEmail, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="{x:Static sys:String.Empty}">
                                                <Setter Property="TextBlock.Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                                    <Hyperlink Name="hyperlinks" NavigateUri="#"
                                               Command="{Binding DataContext.HyperlinkForEmailInGroupBox,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                               CommandParameter="{Binding  ElementName=txtProfessionalEmail}">
                                            <InlineUIContainer>
                                                     <TextBlock Name="txtProfessionalEmail"  Text="{Binding DataContext.ProfessionalEmail, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                            </InlineUIContainer>
                                        <Hyperlink.Style>
                                        <Style TargetType="Hyperlink">
                                            <Setter Property="Foreground" Value="{DynamicResource HyperlinkColor}"/>
                                            <Style.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Foreground" Value="OrangeRed" />
                                                </Trigger>
                                                <DataTrigger Binding="{Binding RowData.SelectionState}" Value="Selected">
                                                    <Setter  Property="Foreground" Value="{DynamicResource ColorMain}"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Hyperlink.Style>
                                  </Hyperlink>
                                </TextBlock>

                            <Image Grid.Row="1" Grid.Column="0" VerticalAlignment="Center"  Margin="0,0,4,0" Width="25" Height="25" Source="{DynamicResource IndicatorImageMobile}"/>

                            <TextBlock Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Text="{Binding DataContext.ProfessionalPhone, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap">
                                <TextBlock.Style>
                                    <Style>
                                        <Style.Triggers>
                                            <!-- Mobile Image !-->
                                            <DataTrigger Binding="{Binding DataContext.ProfessionalPhone, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="{x:Null}">
                                                <Setter Property="TextBlock.Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding DataContext.ProfessionalPhone, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="{x:Static sys:String.Empty}">
                                                <Setter Property="TextBlock.Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>

                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!--Personal Contact Information-->
                            <dxlc:LayoutGroup View="GroupBox" Orientation="Vertical"  Grid.Row="0">
                                <dxlc:LayoutGroup.HeaderTemplate >
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Text="{DynamicResource EmpContactInfoHeader}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0,0,5,0" />

                                            <Button Grid.Row="0" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right" 
                                                            Command="{Binding DataContext.AddNewContactInformationCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}"
                                                        IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                <Button.ToolTip>
                                                    <TextBlock Text="{DynamicResource AddPersonalContactInformation}"/>
                                                </Button.ToolTip>
                                                <Button.ContentTemplate>
                                                    <DataTemplate>
                                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                                    </DataTemplate>
                                                </Button.ContentTemplate>
                                            </Button>
                                        </Grid>
                                    </DataTemplate>
                                </dxlc:LayoutGroup.HeaderTemplate>

                                <dxg:GridControl x:Name="PersonalContactGrid" 
                                                     ItemsSource="{Binding DataContext.EmployeeContactList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                     SelectedItem="{Binding DataContext.SelectedContactRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},
                                                     UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                     HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                     Width="Auto"
                                                     ImplyNullLikeEmptyStringWhenFiltering="True">
                                    <dxg:GridControl.Columns>
                                        <dxg:GridColumn FieldName="EmployeeContactType.Value" Header="{DynamicResource EmpContactType}" Width="25*" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                        <dxg:GridColumn FieldName="EmployeeContactValue" 
                                                            Header="{DynamicResource EmpContactValue}" Width="50*" FixedWidth="True" CellTemplateSelector="{StaticResource TemplateSelector}"
                                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                            <dxg:GridColumn.EditSettings>
                                                <dxe:TextEditSettings VerticalContentAlignment="Center"/>
                                            </dxg:GridColumn.EditSettings>
                                        </dxg:GridColumn>
                                        <dxg:GridColumn FieldName="EmployeeContactRemarks" Header="{DynamicResource EmployeeRemarks}" Width="25*" FixedWidth="False" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                        <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                            <dxg:GridColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button Name="deleteContactRow" ToolTip="Delete"
                                                                Command="{Binding DataContext.DeleteContactInformationCommand,RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"
                                                                CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                        <Button.ContentTemplate>
                                                            <DataTemplate>
                                                                <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                            </DataTemplate>
                                                        </Button.ContentTemplate>
                                                    </Button>
                                                </DataTemplate>
                                            </dxg:GridColumn.CellTemplate>
                                        </dxg:GridColumn>
                                    </dxg:GridControl.Columns>
                                    <dxg:GridControl.View>
                                        <dxg:TableView Name="EmpContactView" NavigationStyle="Row"
                                                            VerticalScrollbarVisibility="Auto" 
                                                            HorizontalScrollbarVisibility="Auto"
                                                            AutoWidth="False"
                                                            ShowGroupPanel="False" 
                                                            ShowIndicator="True"
                                                            IndicatorWidth="30"
                                                            AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                            FocusedRow="{Binding DataContext.SelectedContactRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},
                                                            UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                            ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                            RowIndicatorContentTemplate="{StaticResource rowIndicatorContentTemplate}"    
                                                            ItemsSourceErrorInfoShowMode="RowAndCell">
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand Command="{Binding DataContext.EditPersonalContactInformationDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                                                           EventName="MouseDoubleClick" 
                                                                           CommandParameter="{Binding ElementName=EmpContactView}" >
                                                    <dxmvvm:EventToCommand.EventArgsConverter>
                                                        <dx:EventArgsToDataRowConverter/>
                                                    </dxmvvm:EventToCommand.EventArgsConverter>
                                                </dxmvvm:EventToCommand>
                                            </dxmvvm:Interaction.Behaviors>
                                        </dxg:TableView>
                                    </dxg:GridControl.View>
                                </dxg:GridControl>

                            </dxlc:LayoutGroup>

                            <!--Professional Contact Information-->
                            <dxlc:LayoutGroup View="GroupBox" Orientation="Vertical" Grid.Row="1">
                                <dxlc:LayoutGroup.HeaderTemplate >
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Text="{DynamicResource ProfessionalContactInformation}" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0,0,5,0" />

                                            <Button Grid.Row="0" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right" 
                                                            Command="{Binding DataContext.AddNewProfessionalContactInformationCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                       IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">>
                                                <Button.ToolTip>
                                                    <TextBlock Text="{DynamicResource AddProfessionalContactInformation}"/>
                                                </Button.ToolTip>
                                                <Button.ContentTemplate>
                                                    <DataTemplate>
                                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                                    </DataTemplate>
                                                </Button.ContentTemplate>
                                            </Button>
                                        </Grid>
                                    </DataTemplate>
                                </dxlc:LayoutGroup.HeaderTemplate>

                                <dxg:GridControl ItemsSource="{Binding DataContext.EmployeeProfessionalContactList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}" 
                                                     SelectedItem="{Binding SelectedProfessionalContactRow,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                     Width="Auto" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                     AutoGenerateColumns="None"
                                                     ImplyNullLikeEmptyStringWhenFiltering="True">

                                    <dxg:GridControl.Columns>
                                        <dxg:GridColumn FieldName="EmployeeContactType.Value" Header="{DynamicResource EmpContactType}" Width="25*" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                        <dxg:GridColumn  FieldName="EmployeeContactValue" CellTemplateSelector="{StaticResource TemplateSelector}" Header="{DynamicResource EmpContactValue}" Width="50*" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList" />
                                        <dxg:GridColumn FieldName="EmployeeContactRemarks" Header="{DynamicResource EmployeeRemarks}" Width="25*" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                        <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                            <dxg:GridColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button Name="deleteContactRow" ToolTip="Delete" Command="{Binding DataContext.DeleteProfessionalContactCommand,RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"
                                                            CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                        <Button.ContentTemplate>
                                                            <DataTemplate>
                                                                <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                            </DataTemplate>
                                                        </Button.ContentTemplate>
                                                    </Button>
                                                </DataTemplate>
                                            </dxg:GridColumn.CellTemplate>
                                        </dxg:GridColumn>
                                    </dxg:GridControl.Columns>
                                    <dxg:GridControl.View>
                                        <dxg:TableView Name="EmpProfessionalContactInfo"
                                                           NavigationStyle="Row"
                                                            VerticalScrollbarVisibility="Auto" 
                                                            HorizontalScrollbarVisibility="Auto"
                                                            AutoWidth="False"
                                                            ShowGroupPanel="False"
                                                            AllowFixedColumnMenu="False"
                                                            ShowFixedTotalSummary="False" 
                                                            AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                            ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                            EnableImmediatePosting="True"
                                                            ItemsSourceErrorInfoShowMode="RowAndCell"
                                                            ShowIndicator="True"
                                                            IndicatorWidth="30"
                                                            FocusedRow="{Binding DataContext.SelectedProfessionalContactRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                            RowIndicatorContentTemplate="{StaticResource rowIndicatorContentTemplate}">
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand Command="{Binding DataContext.EditProfessionalContactInformationDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                                                           EventName="MouseDoubleClick" 
                                                                           CommandParameter="{Binding ElementName=EmpProfessionalContactInfo}" >
                                                    <dxmvvm:EventToCommand.EventArgsConverter>
                                                        <dx:EventArgsToDataRowConverter/>
                                                    </dxmvvm:EventToCommand.EventArgsConverter>
                                                </dxmvvm:EventToCommand>
                                            </dxmvvm:Interaction.Behaviors>
                                        </dxg:TableView>
                                    </dxg:GridControl.View>
                                </dxg:GridControl>

                            </dxlc:LayoutGroup>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>

            <!--Job Description Information-->

            <dxlc:GroupBox x:Name="JobDescriptionInformation" Width="300" Height="145" MaximizeElementVisibility="Visible" >
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock VerticalAlignment="Center"
                                            FontWeight="Bold"
                                            Text="{DynamicResource ProfessionalJobDescription}" />
                            <TextBlock Width="50"
                                            Margin="5,1,0,0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontWeight="Bold"
                                            Name="ContactCount"
                                            Text="{Binding DataContext.EmployeeJobDescriptionList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                            <dxe:TextEdit  Text="{DynamicResource ProfessionalJobDescription}" FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center"  ShowBorder="False" IsReadOnly="True"
                                                  >
                                <Binding Path="DataContext.JobDescriptionError" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                    <Binding.ValidationRules>
                                        <Validation:UserValidation FieldName="JobDescriptionError" ValidationStep="UpdatedValue" />
                                    </Binding.ValidationRules>
                                </Binding>
                            </dxe:TextEdit>
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.EmployeeJobDescriptionList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <dxg:GridControl ItemsSource="{Binding DataContext.EmployeeTopFourJobDescriptionList, 
                                                 Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                 ShowBorder="False" MinHeight="120" MaxHeight="120"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch">


                                <dxg:GridControl.Columns>
                                    <dxg:GridColumn FieldName="JobDescription.JobDescriptionTitle" ReadOnly="True" Width="150" FixedWidth="True" FilterPopupMode="CheckedList" />
                                    <dxg:GridColumn FieldName="Company.Alias" ReadOnly="True" Width="55" FixedWidth="True" Visible="{Binding DataContext.EmployeeTopFourJobDescriptionList[0].IsAliasDiffEnable, 
                                                 Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}" FilterPopupMode="CheckedList" />
                                    <dxg:GridColumn ReadOnly="True" FilterPopupMode="CheckedList" Width="35">
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="1"/>
                                                            <ColumnDefinition Width="auto"/>
                                                            <ColumnDefinition Width="4"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="1"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Image Height="15" Grid.Column="1" Style="{DynamicResource IsMainImageStyle}" Visibility="{Binding RowData.Row.IsMainVisible}"  VerticalAlignment="Center"/>
                                                        <TextBlock Text="{Binding RowData.Row.JobDescriptionUsage, Converter={Coverter:PercentageConverter}}" Grid.Column="3" VerticalAlignment="Center" />
                                                    </Grid>
                                                </StackPanel>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                </dxg:GridControl.Columns>

                                <dxg:GridControl.View>
                                    <dxg:TableView Name="EmployeeJD"  NavigationStyle="None"
                                                        VerticalScrollbarVisibility="Hidden" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        AutoWidth="True"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        ShowHorizontalLines="False"
                                                        ShowVerticalLines="False"
                                                        AllowFixedColumnMenu="False"
                                                        ShowColumnHeaders="False"
                                                        ShowFixedTotalSummary="False"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                        ItemsSourceErrorInfoShowMode="RowAndCell">
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>

                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="45"/>
                            </Grid.RowDefinitions>

                            <!--<Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>-->

                            <dxg:GridControl Grid.Row="0"
                                                 ItemsSource="{Binding DataContext.EmployeeJobDescriptionList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                 SelectedItem="{Binding DataContext.SelectedJobDescriptionRow, Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}"
                                                 VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                 ImplyNullLikeEmptyStringWhenFiltering="True" >
                                <dxg:GridControl.Columns>

                                    <dxg:GridColumn FieldName="Company.Alias" Header="{DynamicResource Organization}" ReadOnly="True" Width="90" FixedWidth="True" FilterPopupMode="CheckedList" />

                                    <dxg:GridColumn FieldName="JobDescription.JobDescriptionCode" Width="130" FixedWidth="True" Header="{DynamicResource ProfessionalJobDescriptionJDCode}" ReadOnly="True" FilterPopupMode="CheckedList">
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock Grid.Column="0" Text="{Binding RowData.Row.JobDescription.JobDescriptionCode}" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                                    <Button Grid.Column="1" HorizontalAlignment="Center"  Margin="5,0,0,0" ToolTip="View Document" Command="{Binding DataContext.EmployeeDocumentViewCommand,RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"
                                                                        CommandParameter="{Binding RowData.Row}">
                                                        <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/pdf-icon.png" HorizontalAlignment="Right" VerticalAlignment="Center" />
                                                        <Button.Style>
                                                            <Style TargetType="{x:Type Button}">
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Cursor" Value="Hand"/>
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Button.Style>
                                                    </Button>
                                                </Grid>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="JobDescription.JobDescriptionTitle" Header="{DynamicResource ProfessionalJobDescriptionJobDescription}" ReadOnly="True" Width="200" FixedWidth="True" FilterPopupMode="CheckedList" />
                                    <!--sjadhav-->
                                    <dxg:GridColumn FieldName="StrJDScope" Header="{DynamicResource JobDescriptionsScope}" Width="150" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <!--<dxg:GridColumn FieldName="Country.Name" Visible="{Binding IsCountry,Mode=TwoWay}" Header="{DynamicResource JobDescriptionsScope}" Width="150" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>-->
                                    
                                    <dxg:GridColumn FieldName="JobDescription.Department.DepartmentName" Header="{DynamicResource ProfessionalJobDescriptionDepartment}" Width="150" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="JobDescriptionUsage" Header="{DynamicResource ProfessionalJobDescriptionPercentage}" Width="100" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList">
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="1"/>
                                                            <ColumnDefinition Width="auto"/>
                                                            <ColumnDefinition Width="4"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="1"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Image Height="15" Width="20" Grid.Column="1" Style="{DynamicResource IsMainImageStyle}" Visibility="{Binding RowData.Row.IsMainVisible}"  VerticalAlignment="Center"/>
                                                        <TextBlock Text="{Binding RowData.Row.JobDescriptionUsage}" Grid.Column="3" VerticalAlignment="Center" />
                                                    </Grid>
                                                </StackPanel>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="JobDescriptionStartDate" Header="{DynamicResource EmpEducationStartDate}" Width="100" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <!--[12-09-2019][skale][GEOS2-1710]-Memorize Exit Events-->
                                    <dxg:GridColumn FieldName="JobDescriptionEndDate" Header="{DynamicResource EmpEducationEndDate}" Width="100" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList">
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <dxe:DateEdit x:Name="PART_Editor"
                                                                  Text="{Binding RowData.Row.JobDescriptionEndDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}">
                                                    <dxe:DateEdit.Style>
                                                        <Style>
                                                            <Style.Triggers>
                                                                <MultiDataTrigger>
                                                                    <MultiDataTrigger.Conditions>
                                                                        <Condition Value="True">
                                                                            <Condition.Binding>
                                                                                <MultiBinding Converter="{Coverter:ContractGridLastRecordCellColorConverter}">
                                                                                    <Binding Path="RowData.Row.IdEmployeeExitEvent" />
                                                                                    <Binding Path="RowData.Row.JobDescriptionEndDate" />
                                                                                </MultiBinding>
                                                                            </Condition.Binding>
                                                                        </Condition>
                                                                    </MultiDataTrigger.Conditions>
                                                                    <Setter Property="TextBlock.Foreground" Value="{DynamicResource ContractSituationEndDateRedColor}" />
                                                                </MultiDataTrigger>
                                                            </Style.Triggers>

                                                        </Style>
                                                    </dxe:DateEdit.Style>
                                                </dxe:DateEdit>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>


                                    <dxg:GridColumn FieldName="JobDescriptionRemarks" Header="{DynamicResource EmployeeRemarks}" ReadOnly="True" MinWidth="200" Width="*" FixedWidth="True" FilterPopupMode="CheckedList"/>

                                    <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="deleteContactRow" ToolTip="Delete" Command="{Binding DataContext.DeleteJobDescriptionCommand,RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"
                                                            CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                </Button>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                </dxg:GridControl.Columns>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="EmpProfessionalInfo"  NavigationStyle="Row"
                                                        VerticalScrollbarVisibility="Auto" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        AutoWidth="False"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        ImmediateUpdateRowPosition="True"
                                                        AllowFixedColumnMenu="False"
                                                        ShowFixedTotalSummary="False" 
                                                        FocusedRow="{Binding DataContext.SelectedJobDescriptionRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" 
                                                        ItemsSourceErrorInfoShowMode="RowAndCell">
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding DataContext.EditJobDescriptionDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=EmpProfessionalInfo}" >
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter/>
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </dxmvvm:Interaction.Behaviors>
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>

                            <Button Grid.Row="1" Height="30" Width="30" HorizontalAlignment="Right"
                                        Command="{Binding DataContext.AddNewJobDescriptionCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                     IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddJobDescription}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>

                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>

            </dxlc:GroupBox>

            <!--[Sprint-63][17/05/2019][skale]-Add new section Employee polyvalence -->
            <!--Polyvalence Information-->
            <dxlc:GroupBox x:Name="gbPolyvalence"  Width="300"  MinHeight="0" MaximizeElementVisibility="Visible" Padding="0">

                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource Polyvalence}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="PolyvalenceCount"
                                    Text="{Binding DataContext.EmployeePolyvalenceList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                            <dxe:TextEdit  Text="{DynamicResource Polyvalence}" FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center"  ShowBorder="False" IsReadOnly="True"
                                                  >
                                <Binding Path="DataContext.PolyvalenceError" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                    <Binding.ValidationRules>
                                        <Validation:UserValidation FieldName="PolyvalenceError" ValidationStep="UpdatedValue" />
                                    </Binding.ValidationRules>
                                </Binding>
                            </dxe:TextEdit>
                        </DockPanel>
                    </DataTemplate>

                </dxlc:GroupBox.HeaderTemplate>

                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>

                        <Grid x:Name="gridPolyvalence" Height="auto">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <TextBlock Name="txtEmployeePolyvalence1" Text="{Binding DataContext.EmployeePolyvalenceList[0].JobDescription.Abbreviation,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                           Grid.Row="0" Grid.Column="0" TextAlignment="Center" Background="{Binding  DataContext.EmployeePolyvalenceList[0].PolyvalenceUsage,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},
                                           Converter={StaticResource GroupboxBackroundColorConvertor}}" TextWrapping="Wrap" FontSize="20" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="2" 
                                           Foreground="{Binding ElementName=txtEmployeePolyvalence1,Path=Background,Converter={StaticResource ForegroundColorConverter}}" Padding="0,5,0,5"  
                                           ToolTip="{Binding DataContext.EmployeePolyvalenceList[0].JobDescription.JobDescriptionTitle,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"   />

                            <TextBlock Name="txtEmployeePolyvalence2" Text="{Binding DataContext.EmployeePolyvalenceList[1].JobDescription.Abbreviation,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                           Grid.Row="0" Grid.Column="1" TextAlignment="Center" Background="{Binding  DataContext.EmployeePolyvalenceList[1].PolyvalenceUsage,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},
                                           Converter={StaticResource GroupboxBackroundColorConvertor}}" TextWrapping="Wrap" FontSize="20" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="2"  
                                           Foreground="{Binding ElementName=txtEmployeePolyvalence2,Path=Background,Converter={StaticResource ForegroundColorConverter}}" Padding="0,5,0,5"
                                           ToolTip="{Binding DataContext.EmployeePolyvalenceList[1].JobDescription.JobDescriptionTitle,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />

                            <TextBlock Name="txtEmployeePolyvalence3" Text="{Binding DataContext.EmployeePolyvalenceList[2].JobDescription.Abbreviation,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                           Grid.Row="1" Grid.Column="0" TextAlignment="Center" Background="{Binding  DataContext.EmployeePolyvalenceList[2].PolyvalenceUsage,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},
                                           Converter={StaticResource GroupboxBackroundColorConvertor}}" TextWrapping="Wrap" FontSize="20" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="2"
                                           Foreground="{Binding ElementName=txtEmployeePolyvalence3,Path=Background,Converter={StaticResource ForegroundColorConverter}}" Padding="0,5,0,5"
                                           ToolTip="{Binding DataContext.EmployeePolyvalenceList[2].JobDescription.JobDescriptionTitle,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />

                            <TextBlock Name="txtEmployeePolyvalence4" Text="{Binding DataContext.EmployeePolyvalenceList[3].JobDescription.Abbreviation,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                           Grid.Row="1" Grid.Column="1" TextAlignment="Center" 
                                           Background="{Binding  DataContext.EmployeePolyvalenceList[3].PolyvalenceUsage,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Converter={StaticResource GroupboxBackroundColorConvertor}}" 
                                           TextWrapping="Wrap" FontSize="20"
                                           VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="2" 
                                           Foreground="{Binding ElementName=txtEmployeePolyvalence4,Path=Background,Converter={StaticResource ForegroundColorConverter}}" Padding="0,5,0,5"
                                           ToolTip="{Binding DataContext.EmployeePolyvalenceList[3].JobDescription.JobDescriptionTitle,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />

                        </Grid>
                        <DataTemplate.Triggers>
                            <DataTrigger Binding="{Binding DataContext.EmployeePolyvalenceList.Count,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, FallbackValue=0}" Value="0">
                                <Setter TargetName="gridPolyvalence" Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </DataTemplate.Triggers>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>

                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="45"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <dxg:GridControl Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                                                 ItemsSource="{Binding DataContext.EmployeePolyvalenceList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                 SelectedItem="{Binding DataContext.SelectedPolyvalenceRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                 VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                 MaxHeight="1000"
                                                 ImplyNullLikeEmptyStringWhenFiltering="True" >
                                <dxg:GridControl.Columns>
                                    <dxg:GridColumn FieldName="Company.Alias" Header="{DynamicResource Organization}" ReadOnly="True" Width="90" FixedWidth="True" FilterPopupMode="CheckedList"   />
                                    <dxg:GridColumn FieldName="JobDescription.JobDescriptionCode" Width="140" FixedWidth="True" Header="{DynamicResource JDCode}" ReadOnly="True" FilterPopupMode="CheckedList">
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock Grid.Column="0" Text="{Binding RowData.Row.JobDescription.JobDescriptionCode}" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                                    <Button Grid.Column="1" HorizontalAlignment="Center"  Margin="5,0,0,0" ToolTip="View Document" Command="{Binding DataContext.EmployeeDocumentViewCommand,RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"
                                                                        CommandParameter="{Binding RowData.Row}">
                                                        <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/pdf-icon.png" HorizontalAlignment="Right" VerticalAlignment="Center" />
                                                        <Button.Style>
                                                            <Style TargetType="{x:Type Button}">
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Cursor" Value="Hand"/>
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Button.Style>
                                                    </Button>
                                                </Grid>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="JobDescription.JobDescriptionTitle" Header="{DynamicResource ProfessionalJobDescriptionJobDescription}" ReadOnly="True" Width="140" FixedWidth="True" FilterPopupMode="CheckedList" />
                                    <dxg:GridColumn FieldName="JobDescription.Abbreviation" Header="{DynamicResource Abbreviation}" ReadOnly="True" Width="90" FixedWidth="True" FilterPopupMode="CheckedList" />
                                    <dxg:GridColumn FieldName="JobDescription.Department.DepartmentName" Header="{DynamicResource Department}" Width="120" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="PolyvalenceUsage" Header="{DynamicResource PolyvalencePercentage}" Width="100" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="PolyvalenceRemarks" Header="{DynamicResource Remark}" ReadOnly="True" MinWidth="120" Width="*" FixedWidth="True" FilterPopupMode="CheckedList"/>

                                    <dxg:GridColumn Width="42" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="deleteContactRow" ToolTip="Delete" Command="{Binding DataContext.DeletePolyvalenceCommand,RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"
                                                            CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                </Button>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                </dxg:GridControl.Columns>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="EmpProfessionalInfo"
                                                        NavigationStyle="Row"
                                                        VerticalScrollbarVisibility="Auto" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        AutoWidth="False"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        AllowFixedColumnMenu="False"
                                                        ShowFixedTotalSummary="False" 
                                                        FocusedRow="{Binding DataContext.SelectedPolyvalenceRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                        ItemsSourceErrorInfoShowMode="RowAndCell">
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding DataContext.EditPolyvalenceDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=EmpProfessionalInfo}" >
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter/>
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </dxmvvm:Interaction.Behaviors>
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>

                            <Button Grid.Row="1" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right"  Margin="0,0,10,0"
                                        Command="{Binding DataContext.AddNewPolyvalenceCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                       IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddPolyvalence}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>

                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>

            <!--Contract Situation Information-->
            <dxlc:GroupBox x:Name="ContractSituationInformation" Width="300" Height="140" MaximizeElementVisibility="Visible" >
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock 
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource EmpContractSitHeader}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ContactCount"
                                    Text="{Binding DataContext.EmployeeContractSituationList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                            <dxe:TextEdit  Text="{DynamicResource EmpContractSitHeader}" FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center"  ShowBorder="False" IsReadOnly="True"
                                                  >
                                <Binding Path="DataContext.ContractSituationError" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                    <Binding.ValidationRules>
                                        <Validation:UserValidation FieldName="ContractSituationError" ValidationStep="UpdatedValue" />
                                    </Binding.ValidationRules>
                                </Binding>
                            </dxe:TextEdit>
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>

                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.EmployeeContractSituationList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>

                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="35"/>
                                <RowDefinition Height="*"/>

                            </Grid.RowDefinitions>
                            <Label Content="{Binding DataContext.CurrentContractSituation.ContractSituation.Name,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Grid.Row="0" Grid.Column="0" Margin="0"   />
                            <Label Content="{DynamicResource EmpLengthService}" Grid.Row="0" Grid.Column="2" HorizontalContentAlignment="Right"  VerticalAlignment="Bottom"  />
                            <TextBlock Margin="0" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2"  HorizontalAlignment="Stretch" VerticalAlignment="Top"  FontSize="40" TextAlignment="Right"  Text="{Binding DataContext.LengthOfService, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"/>

                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>

                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="45"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <dxg:GridControl Name="ContractSituationGrid" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                                                 ItemsSource="{Binding DataContext.EmployeeContractSituationList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                 SelectedItem="{Binding DataContext.SelectedContractSituationRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                 VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                 ImplyNullLikeEmptyStringWhenFiltering="True">
                                <dxg:GridControl.Columns>

                                    <dxg:GridColumn FieldName="Company.Alias" Header="{DynamicResource Company}" ReadOnly="True" Width="80" MinWidth="50" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="ContractSituation.Name" Header="{DynamicResource EmpcontractSit}" ReadOnly="True" MinWidth="80" Width="150" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="ProfessionalCategory.Name" Header="{DynamicResource EmpProfCategory}" ReadOnly="True" MinWidth="80" Width="150" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="ContractSituationStartDate" Header="{DynamicResource EmpEducationStartDate}" Width="100" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <!--[12-09-2019][skale][GEOS2-1710]-Memorize Exit Events-->
                                    <dxg:GridColumn FieldName="ContractSituationEndDate" Header="{DynamicResource EmpEducationEndDate}" Width="100" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList">
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <dxe:DateEdit x:Name="PART_Editor"
                                                                  Text="{Binding RowData.Row.ContractSituationEndDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}">
                                                    <dxe:DateEdit.Style>
                                                        <Style>
                                                            <Style.Triggers>
                                                                <MultiDataTrigger>
                                                                    <MultiDataTrigger.Conditions>
                                                                        <Condition Value="True">
                                                                            <Condition.Binding>
                                                                                <MultiBinding Converter="{Coverter:ContractGridLastRecordCellColorConverter}">
                                                                                    <!--<Binding Path="RowData.Row.IdEmployeeContractSituation" />
                                                                                        <Binding Path="DataContext.EmployeeContractSituationList[DataContext.EmployeeContractSituationList.Count-1].ContractSituationEndDate" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type dxwui:WinUIDialogWindow}}"/>
                                                                                        <Binding Path="RowData.Row.ContractSituationEndDate" />-->
                                                                                    <Binding Path="RowData.Row.IdEmployeeExitEvent" />
                                                                                    <Binding Path="RowData.Row.ContractSituationEndDate" />

                                                                                </MultiBinding>
                                                                            </Condition.Binding>
                                                                        </Condition>
                                                                    </MultiDataTrigger.Conditions>
                                                                    <Setter Property="TextBlock.Foreground" Value="{DynamicResource ContractSituationEndDateRedColor}" />
                                                                </MultiDataTrigger>
                                                            </Style.Triggers>

                                                        </Style>
                                                    </dxe:DateEdit.Style>
                                                </dxe:DateEdit>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="ContractSituationRemarks" Header="{DynamicResource EmployeeRemarks}" ReadOnly="True" Width="*" FixedWidth="False" FilterPopupMode="CheckedList"/>

                                    <dxg:GridColumn FieldName="ContractSituationFileName" Header="{DynamicResource EmpEducationFileName}" FixedWidth="True" Width="40" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="btncontractViewDoc" ToolTip="View Document" Command="{Binding DataContext.EmployeeDocumentViewCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            CommandParameter="{Binding RowData.Row}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/pdf-icon.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                    <Button.Style>
                                                        <Style TargetType="{x:Type Button}">
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Cursor" Value="Hand"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>

                                                <DataTemplate.Triggers>
                                                    <DataTrigger Binding="{Binding RowData.Row.ContractSituationFileName}" Value="{x:Null}">
                                                        <Setter TargetName="btncontractViewDoc" Property="Visibility" Value="Hidden" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding RowData.Row.ContractSituationFileName}" Value="{x:Static sys:String.Empty}">
                                                        <Setter TargetName="btncontractViewDoc" Property="Visibility" Value="Hidden" />
                                                    </DataTrigger>
                                                </DataTemplate.Triggers>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>

                                    <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="deleteContactRow" ToolTip="Delete" Command="{Binding DataContext.DeleteContractSituationInformationCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                    <Button.Style>
                                                        <Style TargetType="{x:Type Button}">
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Cursor" Value="Hand"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                </dxg:GridControl.Columns>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="EmpContarctSituationView"  NavigationStyle="Row"
                                                        VerticalScrollbarVisibility="Auto" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        AutoWidth="False"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        AllowFixedColumnMenu="False"
                                                        ShowFixedTotalSummary="False" 
                                                        FocusedRow="{Binding DataContext.SelectedContractSituationRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                        ItemsSourceErrorInfoShowMode="RowAndCell">
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding DataContext.EditContractSituationInformationDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=EmpContarctSituationView}" >
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter/>
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </dxmvvm:Interaction.Behaviors>
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>

                            <Button Grid.Row="1" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right" 
                                        Command="{Binding DataContext.AddNewContractSituationInformationCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                        IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddContractSituationInformation}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>

            <!--Family Member Information-->

            <UIHelper:GroupBoxEx x:Name="FamilyMemberInformation" Width="300" Height="120" MaximizeElementVisibility="Visible" State="Minimized">
                <UIHelper:GroupBoxEx.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock 
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource FamilyMembers}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ContactCount"
                                    Text="{Binding DataContext.EmployeeFamilyMemberList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.HeaderTemplate>
                <UIHelper:GroupBoxEx.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.EmployeeFamilyMemberList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource EmpFirstName}" Grid.Row="0" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.EmployeeFamilyMemberList[0].FamilyMemberFirstName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"/>
                            <Label Content="{DynamicResource EmpLastName}" Grid.Row="1" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.EmployeeFamilyMemberList[0].FamilyMemberLastName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap"/>
                        </Grid>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.ContentTemplate>
                <UIHelper:GroupBoxEx.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="45"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <dxg:GridControl Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" 
                                                 ItemsSource="{Binding DataContext.EmployeeFamilyMemberList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                 MaxHeight="1000" 
                                                 SelectedItem="{Binding DataContext.SelectedFamilyMemberRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},
                                                 UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                 ImplyNullLikeEmptyStringWhenFiltering="True">
                                <dxg:GridControl.Columns>
                                    <dxg:GridColumn FieldName="FamilyMemberFirstName" Header="{DynamicResource EmployeeFirstName}" Width="130" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="FamilyMemberLastName" Header="{DynamicResource EmployeeLastName}" Width="130" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="FamilyMemberNativeName" Header="{DynamicResource EmployeeNativeName}" ReadOnly="True" Width="130" FixedWidth="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="FamilyMemberNationality.Name" Header="{DynamicResource EmployeeNationality}" Width="170" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="FamilyMemberRelationshipType.Value" Header="{DynamicResource TypeOfRelationship}" Width="140" FixedWidth="True" ReadOnly="True" MinWidth="120" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="FamilyMemberGender.Value" Header="{DynamicResource EmployeeGender}" Width="70" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="FamilyMemberBirthDate" Header="{DynamicResource EmployeeBirthDate}" Width="100" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn Header="{DynamicResource EmployeeFamilyMemberYearOld}" Width="60" FixedWidth="True" FieldName="YearOld" Name="YearOld" 
                                                        UnboundExpression="DateDiffYear([FamilyMemberBirthDate], Today())" UnboundType="Decimal" 
                                                        FilterPopupMode="CheckedList">
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="FamilyMemberDisability" Header="{DynamicResource EmployeeDisability}" ReadOnly="True" Width="90" FixedWidth="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="FamilyMemberIsDependent" Header="{DynamicResource Dependent}" ReadOnly="True" Width="90" FixedWidth="True" FilterPopupMode="CheckedList">
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0 0 5 0">
                                                    <TextBlock.Style>
                                                        <Style TargetType="{x:Type TextBlock}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding Path=RowData.Row.FamilyMemberIsDependent}" Value="0">
                                                                    <Setter Property="TextBlock.Text" Value="No"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding Path=RowData.Row.FamilyMemberIsDependent}" Value="1">
                                                                    <Setter Property="TextBlock.Text" Value="Yes"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </TextBlock.Style>
                                                </TextBlock>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="FamilyMemberRemarks" Header="{DynamicResource EmployeeRemarks}" ReadOnly="True" MinWidth="80" Width="*" FixedWidth="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="deleteContactRow" ToolTip="Delete" Command="{Binding DataContext.DeleteFamilyMemberInformationCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                </Button>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                </dxg:GridControl.Columns>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="EmpFamilyMemberView"  NavigationStyle="Row"
                                                        VerticalScrollbarVisibility="Auto" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        AutoWidth="False"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        AllowFixedColumnMenu="False"
                                                        ShowFixedTotalSummary="False" 
                                                        FocusedRow="{Binding DataContext.SelectedFamilyMemberRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                        ItemsSourceErrorInfoShowMode="RowAndCell">
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding DataContext.EditFamilyMemberInformationDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=EmpFamilyMemberView}" >
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter/>
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </dxmvvm:Interaction.Behaviors>
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>
                            <Button Grid.Row="1" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right" 
                                        Command="{Binding DataContext.AddNewFamilyMemberInformationCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                        IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddFamilyMemberInformation}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>

                        </Grid>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.MaximizedContentTemplate>
            </UIHelper:GroupBoxEx>

            <!--Education Information-->

            <UIHelper:GroupBoxEx x:Name="EducationInformation" Width="300" Height="120" MaximizeElementVisibility="Visible" State="Minimized">
                <UIHelper:GroupBoxEx.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource EmpEducation}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ContactCount"
                                    Text="{Binding DataContext.EmployeeEducationQualificationList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.HeaderTemplate>
                <UIHelper:GroupBoxEx.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.EmployeeEducationQualificationList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource EducationTypeDegree}" Grid.Row="0" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.EmployeeEducationQualificationList[0].EducationQualification.Name, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"/>
                            <Label Content="{DynamicResource EducationDesc}" Grid.Row="1" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.EmployeeEducationQualificationList[0].QualificationName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap"/>
                        </Grid>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.ContentTemplate>
                <UIHelper:GroupBoxEx.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="45"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <dxg:GridControl Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" ItemsSource="{Binding DataContext.EmployeeEducationQualificationList, 
                                                         Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}" 
                                                         SelectedItem="{Binding DataContext.SelectedEducationQualificationRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},
                                                         UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" MaxHeight="1000" 
                                                         ImplyNullLikeEmptyStringWhenFiltering="True">
                                <dxg:GridControl.Columns>
                                    <dxg:GridColumn FieldName="EducationQualification.Name" Header="{DynamicResource EmpEducationTypeDegree}" MinWidth="160" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="QualificationName" Header="{DynamicResource EmpEducationDesc}" ReadOnly="True" MinWidth="180" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="QualificationEntity" Header="{DynamicResource EducationEntity}" ReadOnly="True" MinWidth="200" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="QualificationClassification" Header="{DynamicResource EducationClassification}" ReadOnly="True" MinWidth="100" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="QualificationStartDate" Header="{DynamicResource EmpEducationStartDate}" ReadOnly="True" MinWidth="100" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="QualificationEndDate" Header="{DynamicResource EmpEducationEndDate}" ReadOnly="True" MinWidth="100" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="QualificationRemarks" Header="{DynamicResource EmployeeRemarks}" ReadOnly="True" MinWidth="90" Width="*" FilterPopupMode="CheckedList"/>

                                    <dxg:GridColumn FieldName="QualificationFileName" Header="{DynamicResource EmpEducationFileName}" FixedWidth="True" Width="40" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="btnViewQualificationDoc" ToolTip="View Document" Command="{Binding DataContext.EmployeeDocumentViewCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            CommandParameter="{Binding RowData.Row}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/pdf-icon.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                    <Button.Style>
                                                        <Style TargetType="{x:Type Button}">
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Cursor" Value="Hand"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>

                                                <DataTemplate.Triggers>
                                                    <DataTrigger Binding="{Binding RowData.Row.QualificationFileName}" Value="{x:Null}">
                                                        <Setter TargetName="btnViewQualificationDoc" Property="Visibility" Value="Hidden" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding RowData.Row.QualificationFileName}" Value="{x:Static sys:String.Empty}">
                                                        <Setter TargetName="btnViewQualificationDoc" Property="Visibility" Value="Hidden" />
                                                    </DataTrigger>
                                                </DataTemplate.Triggers>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>

                                    <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="deleteContactRow" ToolTip="Delete" Command="{Binding DataContext.DeleteEducationInformationCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                    <Button.Style>
                                                        <Style TargetType="{x:Type Button}">
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Cursor" Value="Hand"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>

                                </dxg:GridControl.Columns>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="EmpEducationView"  NavigationStyle="Row"
                                                        VerticalScrollbarVisibility="Auto" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        AutoWidth="False"
                                                        AllowBestFit="True" 
                                                        BestFitArea="All"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        AllowFixedColumnMenu="False"
                                                        ShowFixedTotalSummary="False" 
                                                        FocusedRow="{Binding DataContext.SelectedEducationQualificationRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                        ItemsSourceErrorInfoShowMode="RowAndCell">
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding DataContext.EditEducationInformationDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=EmpEducationView}" >
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter/>
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </dxmvvm:Interaction.Behaviors>
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>

                            <Button Grid.Row="1" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right" 
                                        Command="{Binding DataContext.AddNewEducationQualificationInformationCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                        IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">

                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddEducationQualification}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                        </Grid>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.MaximizedContentTemplate>
            </UIHelper:GroupBoxEx>

            <!--Language Information-->
            <UIHelper:GroupBoxEx x:Name="LanguageInformation" Width="300" Height="120" MaximizeElementVisibility="Visible" MinimizeElementVisibility="Hidden" State="Minimized">
                <UIHelper:GroupBoxEx.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock VerticalAlignment="Center"
                                           FontWeight="Bold"
                                           Text="{DynamicResource EmpLanguages}" />
                            <TextBlock Width="50"
                                           Margin="5,1,0,0"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Center"
                                           FontWeight="Bold"
                                           Name="ContactCount"
                                           Text="{Binding DataContext.EmployeeLanguageList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.HeaderTemplate>
                <UIHelper:GroupBoxEx.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.EmployeeLanguageList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource LanguageName}" Grid.Row="0" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.EmployeeLanguageList[0].Language.Value, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"/>
                            <Label Content="{DynamicResource LanguageUnderstand}" Grid.Row="1" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.EmployeeLanguageList[0].UnderstandingLevel.Value, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap"/>
                        </Grid>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.ContentTemplate>
                <UIHelper:GroupBoxEx.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="45"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <dxg:GridControl Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" MaxHeight="1000"
                                                 ItemsSource="{Binding DataContext.EmployeeLanguageList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                 SelectedItem="{Binding DataContext.SelectedLanguageRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                 VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  
                                                 ImplyNullLikeEmptyStringWhenFiltering="True">
                                <dxg:GridControl.Columns>
                                    <dxg:GridColumn FieldName="Language.Value" Header="{DynamicResource EmpLanguageName}" MinWidth="50" Width="100" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="UnderstandingLevel.Value" Header="{DynamicResource EmpLanguageUnderstand}" MinWidth="160" Width="160" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="SpeakingLevel.Value" Header="{DynamicResource EmpLanguageSpeak}" ReadOnly="True" MinWidth="160" Width="160" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="WritingLevel.Value" Header="{DynamicResource EmpLanguageWrite}" ReadOnly="True" MinWidth="160" Width="160" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="LanguageRemarks" Header="{DynamicResource EmployeeRemarks}" ReadOnly="True" MinWidth="100" Width="*" FilterPopupMode="CheckedList"/>

                                    <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="deleteContactRow" ToolTip="Delete" Command="{Binding DataContext.DeleteLanguageInformationCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                </Button>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                </dxg:GridControl.Columns>

                                <dxg:GridControl.View>
                                    <dxg:TableView Name="EmpLanguageView"  NavigationStyle="Row"
                                                        VerticalScrollbarVisibility="Auto" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        ShowColumnHeaders="True"
                                                        AutoWidth="False"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        AllowFixedColumnMenu="False"
                                                        ShowFixedTotalSummary="False" 
                                                        FocusedRow="{Binding DataContext.SelectedLanguageRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                        ItemsSourceErrorInfoShowMode="RowAndCell">
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding DataContext.EditLanguageInformationDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=EmpLanguageView}" >
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter/>
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </dxmvvm:Interaction.Behaviors>
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>

                            <Button Grid.Row="1" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right" 
                                        Command="{Binding DataContext.AddNewLanguageInformationCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                        IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddLanguageInformation}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                        </Grid>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.MaximizedContentTemplate>

                <dxmvvm:Interaction.Behaviors>
                    <dxmvvm:EventToCommand EventName="StateChanged" 
                                               Command="{Binding DataContext.OnGroupBoxStateChangedCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                               PassEventArgsToCommand="True"/>
                </dxmvvm:Interaction.Behaviors>
            </UIHelper:GroupBoxEx>

            <!--Professional Education Information-->
            <UIHelper:GroupBoxEx x:Name="ProfessionalEducationInformation" Width="300" Height="120" MaximizeElementVisibility="Visible" State="Minimized">
                <UIHelper:GroupBoxEx.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource EmployeeProfessionalEducation}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ContactCount"
                                    Text="{Binding DataContext.EmployeeProfessionalEducationList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.HeaderTemplate>
                <UIHelper:GroupBoxEx.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.EmployeeProfessionalEducationList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource EducationTypeDegree}" Grid.Row="0" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.EmployeeProfessionalEducationList[0].Type.Value, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"/>
                            <Label Content="{DynamicResource EducationDesc}" Grid.Row="1" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Margin="2" Padding="2"  Text="{Binding DataContext.EmployeeProfessionalEducationList[0].Name, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap"/>
                        </Grid>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.ContentTemplate>
                <UIHelper:GroupBoxEx.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="45"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <dxg:GridControl Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" MaxHeight="1000" 
                                                 ItemsSource="{Binding DataContext.EmployeeProfessionalEducationList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}" 
                                                 SelectedItem="{Binding DataContext.SelectedProfessionalEducationRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                 VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                 ImplyNullLikeEmptyStringWhenFiltering="True">
                                <dxg:GridControl.Columns>
                                    <dxg:GridColumn FieldName="Type.Value" Header="{DynamicResource EmpEducationTypeDegree}" MinWidth="80" ReadOnly="True" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="Name" Header="{DynamicResource EmpEducationDesc}" ReadOnly="True" MinWidth="200" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="Entity" Header="{DynamicResource EducationEntity}" ReadOnly="True" MinWidth="200" FilterPopupMode="CheckedList"/>

                                    <dxg:GridColumn FieldName="TimeOfDurationUnbound" Header="{DynamicResource EmployeeProfessionalEducationTime}" ReadOnly="True" MinWidth="100" FilterPopupMode="CheckedList"
                                                        ColumnFilterMode="DisplayText" UnboundType="String" 
                                                        UnboundExpression="[DurationValue]+' | '+[DurationUnit.Value]">
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Name="gdsf" Text="{Binding RowData.Row.DurationValue}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0 0 5 0"/>
                                                    <TextBlock Text=" | " HorizontalAlignment="Left" VerticalAlignment="Center"></TextBlock>
                                                    <TextBlock Name="docName" Text="{Binding RowData.Row.DurationUnit.Value}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0 0 5 0"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>

                                    <dxg:GridColumn FieldName="StartDate" Header="{DynamicResource EmpEducationStartDate}" ReadOnly="True" MinWidth="100" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="EndDate" Header="{DynamicResource EmpEducationEndDate}" ReadOnly="True" MinWidth="100" FilterPopupMode="CheckedList"/>
                                    <dxg:GridColumn FieldName="Remarks" Header="{DynamicResource EmployeeRemarks}" ReadOnly="True" MinWidth="90" Width="*" FilterPopupMode="CheckedList"/>

                                    <dxg:GridColumn FieldName="FileName" Header="{DynamicResource EmpEducationFileName}" Width="40" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="btnprofedudocViewDoc" ToolTip="View Document"
                                                            Command="{Binding DataContext.EmployeeDocumentViewCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            CommandParameter="{Binding RowData.Row}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/pdf-icon.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                    <Button.Style>
                                                        <Style TargetType="{x:Type Button}">
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Cursor" Value="Hand"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>

                                                <DataTemplate.Triggers>
                                                    <DataTrigger Binding="{Binding RowData.Row.FileName}" Value="{x:Null}">
                                                        <Setter TargetName="btnprofedudocViewDoc" Property="Visibility" Value="Hidden" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding RowData.Row.FileName}" Value="{x:Static sys:String.Empty}">
                                                        <Setter TargetName="btnprofedudocViewDoc" Property="Visibility" Value="Hidden" />
                                                    </DataTrigger>
                                                </DataTemplate.Triggers>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>

                                    <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Name="deleteContactRow" ToolTip="Delete" Command="{Binding DataContext.DeleteProfessionalEducationCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                    <Button.ContentTemplate>
                                                        <DataTemplate>
                                                            <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                        </DataTemplate>
                                                    </Button.ContentTemplate>
                                                    <Button.Style>
                                                        <Style TargetType="{x:Type Button}">
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Cursor" Value="Hand"/>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>

                                </dxg:GridControl.Columns>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="ProfessionalEducationView"  NavigationStyle="Row"
                                                        VerticalScrollbarVisibility="Auto" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        AutoWidth="False"
                                                        AllowBestFit="True" 
                                                        BestFitArea="All"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        AllowFixedColumnMenu="False"
                                                        ShowFixedTotalSummary="False" 
                                                        FocusedRow="{Binding DataContext.SelectedProfessionalEducationRow,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                        ItemsSourceErrorInfoShowMode="RowAndCell">
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding DataContext.EditProfessionalEducationDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                                       EventName="MouseDoubleClick"
                                                                       CommandParameter="{Binding ElementName=ProfessionalEducationView}" >
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter/>
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </dxmvvm:Interaction.Behaviors>
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>

                            <Button Grid.Row="1" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right"
                                        Command="{Binding DataContext.AddNewProfessionalEducationCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                        IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddProfessionalEducation}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                        </Grid>
                    </DataTemplate>
                </UIHelper:GroupBoxEx.MaximizedContentTemplate>
            </UIHelper:GroupBoxEx>

            <!--Leave Information-->
            <dxlc:GroupBox x:Name="LeavesInformation" Width="300" Height="130" MaximizeElementVisibility="Visible" >
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock VerticalAlignment="Center"
                                           FontWeight="Bold"
                                           Text="{DynamicResource EmployeeLeaves}" />
                            <TextBlock Width="50"
                                            Margin="5,1,0,0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontWeight="Bold"
                                            Name="ContactCount"
                                            Text="{Binding DataContext.EmployeeAnnualLeaveList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>

                        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch"   Margin="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger  Binding="{Binding DataContext.TempEmployeeAnnualLeaveList[0].Remaining,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Converter={Coverter:GridBackgroundConverter}}" Value="true">
                                            <Setter Property="Grid.Background" Value="Green" ></Setter>
                                        </DataTrigger>
                                        <DataTrigger  Binding="{Binding DataContext.TempEmployeeAnnualLeaveList[0].Remaining,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Converter={Coverter:GridBackgroundConverter}}" Value="false">
                                            <Setter Property="Grid.Background" Value="Red" ></Setter>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Label Content="{Binding DataContext.TempEmployeeAnnualLeaveList[0].CompanyLeave.Name, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Grid.Row="0" Grid.Column="0" Margin="2" Padding="2"  FontWeight="Bold" />

                            <dxg:GridControl Grid.Row="1" Grid.Column="1"   ItemsSource="{Binding DataContext.TempEmployeeAnnualLeaveList, 
                                                    Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                    VerticalAlignment="Stretch" HorizontalAlignment="Stretch" ShowBorder="False"
                                                    MinHeight="100"  Margin="0" BorderBrush="Transparent" BorderThickness="0">
                                <dxg:GridControl.Style >
                                    <Style >
                                        <Style.Triggers >
                                            <DataTrigger Binding="{Binding DataContext.TempEmployeeAnnualLeaveList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                                <Setter Property="dxg:GridControl.Visibility" Value="Hidden"/>
                                            </DataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </dxg:GridControl.Style>

                                <dxg:GridColumn FieldName="Remaining" Width="Auto"   >
                                    <dxg:GridColumn.CellTemplate>
                                        <DataTemplate >
                                            <Label FontSize="40" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"   HorizontalContentAlignment="Right" Margin="0" >
                                                <Label.Content >
                                                    <MultiBinding Converter="{Coverter:HoursToDayConverter}">
                                                        <Binding Path="RowData.Row.Remaining"  />
                                                        <Binding Path="RowData.Row.Employee.CompanyShift.CompanyAnnualSchedule.DailyHoursCount" />
                                                    </MultiBinding>
                                                </Label.Content>
                                                <Label.Style >
                                                    <Style >
                                                        <Style.Triggers >
                                                            <DataTrigger  Binding="{Binding DataContext.TempEmployeeAnnualLeaveList[0].Remaining,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Converter={Coverter:GridBackgroundConverter}}" Value="true">
                                                                <Setter Property="Grid.Background" Value="Green" ></Setter>
                                                            </DataTrigger>
                                                            <DataTrigger  Binding="{Binding DataContext.TempEmployeeAnnualLeaveList[0].Remaining,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Converter={Coverter:GridBackgroundConverter}}" Value="false">
                                                                <Setter Property="Grid.Background" Value="Red" ></Setter>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Label.Style>
                                            </Label>
                                        </DataTemplate>
                                    </dxg:GridColumn.CellTemplate>
                                </dxg:GridColumn>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="LeavesTableView" ShowVerticalLines="False" ShowHorizontalLines="False" ShowColumnHeaders="False"
                                                        VerticalScrollbarVisibility="Hidden"  
                                                        HorizontalScrollbarVisibility="Hidden" 
                                                        AutoWidth="True"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        AllowFixedColumnMenu="False"
                                                        ShowFixedTotalSummary="False"   BorderBrush="Transparent"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                        ItemsSourceErrorInfoShowMode="RowAndCell" >
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>


                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="45"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <dxg:GridControl Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"  ItemsSource="{Binding DataContext.EmployeeAnnualLeaveList, 
                                                Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                SelectedItem="{Binding DataContext.SelectedEmployeeAnnualLeave,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                ImplyNullLikeEmptyStringWhenFiltering="True">
                                <dxg:GridControl.Bands>
                                    <dxg:GridControlBand OverlayHeaderByChildren="True" >
                                        <dxg:GridColumn FieldName="CompanyLeave.Name" Header="{DynamicResource EmployeeLeaveType}" ReadOnly="True" Width="150" FilterPopupMode="CheckedList"/>
                                    </dxg:GridControlBand>

                                    <dxg:GridControlBand Header="Total" HorizontalHeaderContentAlignment="Center" >
                                        <dxg:GridColumn FieldName="RegularHoursCount"  Header="{DynamicResource Regular}" ReadOnly="True" Width="150" FilterPopupMode="CheckedList" >
                                            <dxg:GridColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock >
                                                        <TextBlock.Text >
                                                            <MultiBinding Converter="{Coverter:HoursToDayConverter}">
                                                                <Binding Path="RowData.Row.RegularHoursCount"/>
                                                                <Binding Path="RowData.Row.Employee.CompanyShift.CompanyAnnualSchedule.DailyHoursCount	" />
                                                            </MultiBinding>
                                                        </TextBlock.Text>
                                                    </TextBlock>
                                                </DataTemplate>
                                            </dxg:GridColumn.CellTemplate>
                                        </dxg:GridColumn>

                                        <dxg:GridColumn FieldName="AdditionalHoursCount" Header="{DynamicResource Additional}" Width="150" FixedWidth="True" ReadOnly="True" FilterPopupMode="CheckedList">
                                            <dxg:GridColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock >
                                                        <TextBlock.Text >
                                                            <MultiBinding Converter="{Coverter:HoursToDayConverter}">
                                                                <Binding Path="RowData.Row.AdditionalHoursCount"  />
                                                                <Binding Path="RowData.Row.Employee.CompanyShift.CompanyAnnualSchedule.DailyHoursCount" />
                                                            </MultiBinding>
                                                        </TextBlock.Text>
                                                    </TextBlock>
                                                </DataTemplate>
                                            </dxg:GridColumn.CellTemplate>
                                        </dxg:GridColumn>
                                    </dxg:GridControlBand>

                                    <dxg:GridControlBand  OverlayHeaderByChildren="True">
                                        <dxg:GridColumn FieldName="Enjoyed" Header="{DynamicResource Enjoyed}" ReadOnly="True" Width="150" FixedWidth="False" FilterPopupMode="CheckedList">
                                            <dxg:GridColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock >
                                                        <TextBlock.Text >
                                                            <MultiBinding Converter="{Coverter:HoursToDayConverter}">
                                                                <Binding Path="RowData.Row.Enjoyed"  />
                                                                <Binding Path="RowData.Row.Employee.CompanyShift.CompanyAnnualSchedule.DailyHoursCount" />
                                                            </MultiBinding>
                                                        </TextBlock.Text>
                                                    </TextBlock>
                                                </DataTemplate>
                                            </dxg:GridColumn.CellTemplate>
                                        </dxg:GridColumn>

                                        <dxg:GridColumn FieldName="Remaining" Header="{DynamicResource Remaining}" FixedWidth="True" Width="150" AllowMoving="False" FilterPopupMode="CheckedList" >
                                            <dxg:GridColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock >
                                                        <TextBlock.Text >
                                                            <MultiBinding Converter="{Coverter:HoursToDayConverter}">
                                                                <Binding Path="RowData.Row.Remaining"  />
                                                                <Binding Path="RowData.Row.Employee.CompanyShift.CompanyAnnualSchedule.DailyHoursCount" />
                                                            </MultiBinding>
                                                        </TextBlock.Text>
                                                    </TextBlock>
                                                </DataTemplate>
                                            </dxg:GridColumn.CellTemplate>
                                        </dxg:GridColumn>

                                        <dxg:GridColumn Width="40" FieldName="" FixedWidth="True" AllowMoving="False" AllowColumnFiltering="false" >
                                            <dxg:GridColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button Name="deleteContactRow" ToolTip="Delete"  Command="{Binding DataContext.DeleteAuthorizedLeave ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            CommandParameter="{Binding RowData.Row}"  IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                        <Button.ContentTemplate>
                                                            <DataTemplate>
                                                                <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                            </DataTemplate>
                                                        </Button.ContentTemplate>
                                                        <Button.Style>
                                                            <Style TargetType="{x:Type Button}">
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Cursor" Value="Hand"/>
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Button.Style>
                                                    </Button>
                                                </DataTemplate>
                                            </dxg:GridColumn.CellTemplate>
                                        </dxg:GridColumn>
                                    </dxg:GridControlBand>
                                </dxg:GridControl.Bands>

                                <dxmvvm:Interaction.Behaviors>
                                    <UIHelper:GridSelectingBehavior />
                                    <dxmvvm:EventToCommand EventName="CustomRowFilter"
                                                       Command="{Binding DataContext.CustomRowFilterCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                       PassEventArgsToCommand="True"/>
                                </dxmvvm:Interaction.Behaviors>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="LeaveTableView" 
                                                        NavigationStyle="Row"
                                                        VerticalScrollbarVisibility="Auto" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        AutoWidth="True"
                                                        ShowGroupPanel="False" 
                                                        ShowIndicator="False"
                                                        AllowFixedColumnMenu="False"
                                                        ShowFixedTotalSummary="False"
                                                        AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                        ItemsSourceErrorInfoShowMode="RowAndCell"
                                                        FocusedRow="{Binding DataContext.SelectedEmployeeAnnualLeave,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}">

                                        <dxmvvm:Interaction.Behaviors>

                                            <dxmvvm:EventToCommand EventName="ShowFilterPopup"      
                                                       Command="{Binding DataContext.CustomShowFilterPopupCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                       PassEventArgsToCommand="True"/>
                                            <dxmvvm:EventToCommand Command="{Binding DataContext.EditAuthorizedLeaveDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=LeaveTableView}">
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter/>
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </dxmvvm:Interaction.Behaviors>


                                    </dxg:TableView>

                                </dxg:GridControl.View>
                            </dxg:GridControl>
                            <StackPanel Orientation="Horizontal" Grid.Row="1" Grid.Column="0">
                                <TextBlock Margin="0,0,10,0" VerticalAlignment="Center" Text="{DynamicResource LeavesLongTermAbsent}" FontSize="18"></TextBlock>
                                <dxe:ToggleSwitch  VerticalAlignment="Bottom" CheckedStateContent="ON" UncheckedStateContent="OFF"  ContentPlacement="Inside" IsEnabled="{Binding IsReadOnlyField}"
                                     Height="30" Width="Auto" IsChecked="{Binding DataContext.IsLongTermAbsent,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow,Mode=FindAncestor}, UpdateSourceTrigger=PropertyChanged}"   HorizontalAlignment="Left"   >
                                </dxe:ToggleSwitch>
                            </StackPanel>
                            <Button Grid.Row="1" Grid.Column="1" Height="30" Width="30" HorizontalAlignment="Right" 
                                                            Command="{Binding DataContext.AddAuthorizedLeaveCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                       IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddAuthorizedLeave}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>


            <!--Shifts Information-->
            <dxlc:GroupBox x:Name="Shifts"  Width="300" Height="130" MaximizeElementVisibility="Visible" >
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">

                            <TextBlock 
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource EmployeeShifts}" />

                            <TextBlock 
                                    Margin="5,0,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ShiftCount"
                                       
                                    Text="{Binding DataContext.EmployeeShiftList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />

                            <!--[03/10/2019][skale][GEOS2-1714]-Adjust shift developments (improvements), (#ERF38)-->

                            <TextBlock 
                                    Margin="3,0,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top"
                                    FontWeight="Bold"
                                    Name="ShiftAsteriskSymbol"
                                    Text="*" FontSize="16">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Visibility" Value="Hidden"></Setter>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.IsShiftAsteriskVisible,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Value="True">
                                                <Setter Property="Visibility" Value="Visible"></Setter>
                                            </DataTrigger>
                                        </Style.Triggers>

                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>

                            <dxe:TextEdit  Text="{DynamicResource EmployeeShifts}" FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center"  ShowBorder="False" IsReadOnly="True"  >
                                <Binding Path="DataContext.EmployeeShiftError" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                    <Binding.ValidationRules>
                                        <Validation:UserValidation FieldName="EmployeeShiftError" ValidationStep="UpdatedValue" />
                                    </Binding.ValidationRules>
                                </Binding>
                            </dxe:TextEdit>

                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate >
                    <DataTemplate>
                        <!--[03/10/2019][skale][GEOS2-1714]-Adjust shift developments (improvements), (#ERF38)-->
                        <dxg:GridControl VerticalAlignment="Stretch" HorizontalAlignment="Stretch"  Width="299" Height="130"
                                             ItemsSource="{Binding DataContext.TopFourEmployeeShiftList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                             ImplyNullLikeEmptyStringWhenFiltering="True" Margin="-10">
                            <dxg:GridControl.Columns>

                                <!--<dxg:GridColumn FieldName="CompanyShift.CompanySchedule.Name"  ReadOnly="True" Header="Work Schedule" FixedWidth="True" Width="150"/>-->
                                <dxg:GridColumn FieldName="CompanyShift.CompanySchedule.Name" ReadOnly="True" FixedWidth="True" Width="150" Header="Work Schedule" >
                                    <dxg:GridColumn.EditSettings>
                                        <dxe:TextEditSettings TextWrapping="Wrap"  VerticalContentAlignment="Top"/>
                                    </dxg:GridColumn.EditSettings>
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="CompanyShift.Name" ReadOnly="True" FixedWidth="False" Width="*" AllowCellMerge="False"  Header="Shift">
                                    <dxg:GridColumn.EditSettings>
                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                    </dxg:GridColumn.EditSettings>
                                </dxg:GridColumn>

                            </dxg:GridControl.Columns>
                            <dxg:GridControl.View>
                                <dxg:TableView Name="ShiftTableView" 
                                                    ShowHorizontalLines="False"
                                                    ShowVerticalLines="False"
                                                    AutoWidth="True"
                                                    ShowGroupPanel="False" 
                                                    ShowIndicator="False"
                                                    AllowFixedColumnMenu="False"
                                                    ShowFixedTotalSummary="False"
                                                    AllowEditing="False" AllowLeaveInvalidEditor="True"
                                                   AllowCellMerge="True" BorderThickness="0" ShowColumnHeaders="False" VerticalScrollbarVisibility="Disabled" HorizontalScrollbarVisibility="Disabled" NavigationStyle="None">
                                </dxg:TableView>
                            </dxg:GridControl.View>
                        </dxg:GridControl>

                        <!--old Code-->
                        <!--<ItemsControl ItemsSource="{Binding DataContext.EmployeeShiftList,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" >
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Grid >
                                                <TextBlock  VerticalAlignment="Stretch" HorizontalAlignment="Right"    TextWrapping="WrapWithOverflow" TextTrimming="CharacterEllipsis">
                                              <TextBlock>
                                              <Run Text="{Binding CompanyShift.Name}"></Run>
                                                </TextBlock>
                                           </TextBlock>
                                            </Grid>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>-->

                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>


                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="45"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid.Resources>
                                <Style TargetType="{x:Type dxg:GridColumn}" x:Key="GridColumnStyle">
                                    <Setter Property="HorizontalHeaderContentAlignment" Value="Center"/>
                                    <Setter Property="EditSettings">
                                        <Setter.Value>
                                            <dxe:DateEditSettings Mask="HH:mm" MaskUseAsDisplayFormat="True"/>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Grid.Resources>

                            <!--[31/07/2019][skale][GEOS2-1679]-Add improvements in the shift features-->
                            <dxg:GridControl VerticalAlignment="Stretch" HorizontalAlignment="Stretch" 
                                             ItemsSource="{Binding DataContext.EmployeeShiftList,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                             SelectionMode="Row"  ImplyNullLikeEmptyStringWhenFiltering="True" Grid.Row="0">

                                <dxg:GridControl.Bands>
                                    <dxg:GridControlBand OverlayHeaderByChildren="True">
                                        <dxg:GridColumn Header="{DynamicResource Company}" FieldName="CompanyShift.CompanySchedule.Company.Alias" FilterPopupMode="CheckedList"   Width="80"/>
                                    </dxg:GridControlBand>

                                    <dxg:GridControlBand OverlayHeaderByChildren="True">
                                        <dxg:GridColumn Header="{DynamicResource WorkSchedule}" FieldName="CompanyShift.CompanySchedule.Name" FilterPopupMode="CheckedList"/>
                                    </dxg:GridControlBand>

                                    <dxg:GridControlBand OverlayHeaderByChildren="True">
                                        <dxg:GridColumn Header="{DynamicResource Name}" FieldName="CompanyShift.Name" FilterPopupMode="CheckedList"/>
                                    </dxg:GridControlBand>

                                    <!--Monday-->
                                    <dxg:GridControlBand Header="{DynamicResource AddShiftViewMonday}" HorizontalHeaderContentAlignment="Center" VisibleIndex="{Binding DataContext.IndexMon,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="80">
                                        <dxg:GridColumn Header="{DynamicResource From}" FilterPopupMode="CheckedList"  FieldName="CompanyShift.MonStartTime" Width="70" Style="{StaticResource GridColumnStyle}" />
                                        <dxg:GridColumn Header="{DynamicResource To}" FilterPopupMode="CheckedList" FieldName="CompanyShift.MonEndTime" Width="70" Style="{StaticResource GridColumnStyle}"/>
                                        <dxg:GridColumn Header="{DynamicResource BreakTime}"  FilterPopupMode="CheckedList" FieldName="CompanyShift.MonBreakTime"  Width="80" Style="{StaticResource GridColumnStyle}"/>
                                    </dxg:GridControlBand>
                                    <!--Tuesday-->
                                    <dxg:GridControlBand Header="{DynamicResource AddShiftViewTuesday}" HorizontalHeaderContentAlignment="Center" VisibleIndex="{Binding DataContext.IndexTue,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}" Width="80">
                                        <dxg:GridColumn Header="{DynamicResource From}" FilterPopupMode="CheckedList"  FieldName="CompanyShift.TueStartTime" Width="70" Style="{StaticResource GridColumnStyle}" />
                                        <dxg:GridColumn Header="{DynamicResource To}" FilterPopupMode="CheckedList" FieldName="CompanyShift.TueEndTime" Width="70" Style="{StaticResource GridColumnStyle}"/>
                                        <dxg:GridColumn Header="{DynamicResource BreakTime}" FilterPopupMode="CheckedList" FieldName="CompanyShift.TueBreakTime" Width="80" Style="{StaticResource GridColumnStyle}"/>
                                    </dxg:GridControlBand>
                                    <!--Wednesday-->
                                    <dxg:GridControlBand Header="{DynamicResource AddShiftViewWednesday}" Width="80" HorizontalHeaderContentAlignment="Center" VisibleIndex="{Binding DataContext.IndexWed,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, UpdateSourceTrigger=PropertyChanged}" >
                                        <dxg:GridColumn Header="{DynamicResource From}" FilterPopupMode="CheckedList"  FieldName="CompanyShift.WedStartTime"  Width="70" Style="{StaticResource GridColumnStyle}" />
                                        <dxg:GridColumn Header="{DynamicResource To}" FilterPopupMode="CheckedList" FieldName="CompanyShift.WedEndTime" Width="70" Style="{StaticResource GridColumnStyle}"/>
                                        <dxg:GridColumn Header="{DynamicResource BreakTime}"  FilterPopupMode="CheckedList" FieldName="CompanyShift.WedBreakTime" Width="80" Style="{StaticResource GridColumnStyle}"/>
                                    </dxg:GridControlBand>

                                    <!--thursday-->
                                    <dxg:GridControlBand Header="{DynamicResource AddShiftViewThursday}" Width="80" HorizontalHeaderContentAlignment="Center" VisibleIndex="{Binding DataContext.IndexThu,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, UpdateSourceTrigger=PropertyChanged}" >
                                        <dxg:GridColumn Header="{DynamicResource From}" FilterPopupMode="CheckedList"  FieldName="CompanyShift.ThuStartTime"  Width="70" Style="{StaticResource GridColumnStyle}" />
                                        <dxg:GridColumn Header="{DynamicResource To}" FilterPopupMode="CheckedList" FieldName="CompanyShift.ThuEndTime" Width="70" Style="{StaticResource GridColumnStyle}"/>
                                        <dxg:GridColumn Header="{DynamicResource BreakTime}"  FilterPopupMode="CheckedList" FieldName="CompanyShift.ThuBreakTime" Width="80" Style="{StaticResource GridColumnStyle}"/>
                                    </dxg:GridControlBand>
                                    <!--Friday-->
                                    <dxg:GridControlBand Header="{DynamicResource AddShiftViewFriday}" Width="80" HorizontalHeaderContentAlignment="Center" VisibleIndex="{Binding DataContext.IndexFri,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, UpdateSourceTrigger=PropertyChanged}">
                                        <dxg:GridColumn Header="{DynamicResource From}" FilterPopupMode="CheckedList"  FieldName="CompanyShift.FriStartTime"  Width="70" Style="{StaticResource GridColumnStyle}" />
                                        <dxg:GridColumn Header="{DynamicResource To}" FilterPopupMode="CheckedList" FieldName="CompanyShift.FriEndTime" Width="70" Style="{StaticResource GridColumnStyle}"/>
                                        <dxg:GridColumn Header="{DynamicResource BreakTime}"  FilterPopupMode="CheckedList" FieldName="CompanyShift.FriBreakTime" Width="80" Style="{StaticResource GridColumnStyle}"/>
                                    </dxg:GridControlBand>

                                    <!--Saturday-->
                                    <dxg:GridControlBand Header="{DynamicResource AddShiftViewSaturday}" Width="80" HorizontalHeaderContentAlignment="Center" VisibleIndex="{Binding DataContext.IndexSat,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}" >
                                        <dxg:GridColumn Header="{DynamicResource From}" FilterPopupMode="CheckedList"  FieldName="CompanyShift.SatStartTime"  Width="70" Style="{StaticResource GridColumnStyle}"/>
                                        <dxg:GridColumn Header="{DynamicResource To}" FilterPopupMode="CheckedList" FieldName="CompanyShift.SatEndTime" Width="70" Style="{StaticResource GridColumnStyle}"/>
                                        <dxg:GridColumn Header="{DynamicResource BreakTime}"  FilterPopupMode="CheckedList" FieldName="CompanyShift.SatBreakTime" Width="80" Style="{StaticResource GridColumnStyle}"/>
                                    </dxg:GridControlBand>
                                    <!--Sunday-->
                                    <dxg:GridControlBand Header="{DynamicResource AddShiftViewSunday}" Width="80" HorizontalHeaderContentAlignment="Center" VisibleIndex="{Binding DataContext.IndexSun,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}">
                                        <dxg:GridColumn Header="{DynamicResource From}" FilterPopupMode="CheckedList"  FieldName="CompanyShift.SunStartTime" Width="70" Style="{StaticResource GridColumnStyle}" />
                                        <dxg:GridColumn Header="{DynamicResource To}" FilterPopupMode="CheckedList" FieldName="CompanyShift.SunEndTime" Width="70" Style="{StaticResource GridColumnStyle}"/>
                                        <dxg:GridColumn Header="{DynamicResource BreakTime}"  FilterPopupMode="CheckedList" FieldName="CompanyShift.SunBreakTime" Width="80" Style="{StaticResource GridColumnStyle}"/>
                                    </dxg:GridControlBand>

                                    <dxg:GridControlBand >
                                        <dxg:GridColumn Header=" " FieldName="" Width="40">
                                            <dxg:GridColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button Name="deleteShift" ToolTip="Delete" Command="{Binding DataContext.DeleteEmployeeShiftCommand,RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"
                                                            CommandParameter="{Binding RowData.Row}">
                                                        <Button.ContentTemplate>
                                                            <DataTemplate>
                                                                <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/Delete.png" />
                                                            </DataTemplate>
                                                        </Button.ContentTemplate>
                                                    </Button>
                                                </DataTemplate>
                                            </dxg:GridColumn.CellTemplate>
                                        </dxg:GridColumn>

                                    </dxg:GridControlBand>

                                </dxg:GridControl.Bands>

                                <dxg:GridControl.View>
                                    <dxg:TableView x:Name="ShiftsTableView"
                                                   NavigationStyle="Row"
                                                   AllowHorizontalScrollingVirtualization="True" 
                                                   RowDetailsVisibilityMode="Visible"
                                                   ShowHorizontalLines="True"
                                                   ShowSearchPanelMode="Never"
                                                   ShowColumnHeaders="True"
                                                   VerticalScrollbarVisibility="Auto" 
                                                   HorizontalScrollbarVisibility="Auto"
                                                   AllowFixedColumnMenu="False"
                                                   AutoWidth="False" 
                                                   ShowSearchPanelCloseButton="True" 
                                                   SearchPanelHorizontalAlignment="Stretch"   
                                                   ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                   AllowGrouping="True"
                                                   ShowGroupPanel="False"
                                                   ShowIndicator="False"
                                                   ShowFixedTotalSummary="False"/>
                                </dxg:GridControl.View>
                            </dxg:GridControl>

                            <Button Grid.Row="1" Height="30" Width="30" HorizontalAlignment="Right"
                                        Command="{Binding DataContext.AddNewEmployeeShiftCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                        IsEnabled="{Binding DataContext.IsAcceptEnabled,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Grid}}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddShiftEntry}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="22" Width="22" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>

                        </Grid>

                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>


            <!--Change Log Information-->

            <dxlc:GroupBox x:Name="ChangeLogInformation" Width="300" Height="140" MaximizeElementVisibility="Visible" >
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource ChangeLog}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ContactCount"
                                    Text="{Binding DataContext.EmployeeAllChangeLogList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.EmployeeAllChangeLogList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource LogDate}" Grid.Row="0" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="3,0,0,0" Padding="2"  Text="{Binding DataContext.EmployeeAllChangeLogList[0].ChangeLogDatetime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"/>
                            <Label Content="{DynamicResource LogUser}" Grid.Row="1" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Margin="3,0,0,0" Padding="2"  Text="{Binding DataContext.EmployeeAllChangeLogList[0].ChangeLogUser.FullName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap"/>
                            <Label Content="{DynamicResource LogAction}" Grid.Row="2" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Margin="3,0,0,0" Padding="2"  Text="{Binding DataContext.EmployeeAllChangeLogList[0].ChangeLogChange, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="WrapWithOverflow"/>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>
                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <!--<ScrollViewer ScrollViewer.HorizontalScrollBarVisibility="Auto">-->
                        <dxg:GridControl VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                             ItemsSource="{Binding DataContext.EmployeeAllChangeLogList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                             ImplyNullLikeEmptyStringWhenFiltering="True">
                            <dxg:GridControl.Columns>
                                <dxg:GridColumn FieldName="ChangeLogUser.FullName" Header="{DynamicResource ChangeLogUser}" ReadOnly="True" FixedWidth="True" Width="150" FilterPopupMode="CheckedList"/>
                                <dxg:GridColumn FieldName="ChangeLogDatetime" Header="{DynamicResource ChangeLogDate}" ReadOnly="True" FixedWidth="True" Width="140" FilterPopupMode="CheckedList">
                                    <dxg:GridColumn.EditSettings>
                                        <dxe:DateEditSettings DisplayFormat="g" Name="changeLogTime" />
                                    </dxg:GridColumn.EditSettings>
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="ChangeLogChange" Header="{DynamicResource ChangeLogAction}" ReadOnly="True" FixedWidth="False" Width="*" FilterPopupMode="CheckedList">
                                    <dxg:GridColumn.EditSettings>
                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                    </dxg:GridColumn.EditSettings>
                                </dxg:GridColumn>

                            </dxg:GridControl.Columns>
                            <dxg:GridControl.View>
                                <dxg:TableView Name="ChangeLogTableView"  NavigationStyle="Row"
                                                    VerticalScrollbarVisibility="Auto" 
                                                    HorizontalScrollbarVisibility="Auto"
                                                    AutoWidth="True"
                                                    ShowGroupPanel="False" 
                                                    ShowIndicator="False"
                                                    AllowFixedColumnMenu="False"
                                                    ShowFixedTotalSummary="False"
                                                    AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                    ItemsSourceErrorInfoShowMode="RowAndCell">
                                </dxg:TableView>
                            </dxg:GridControl.View>
                        </dxg:GridControl>
                        <!--</ScrollViewer>-->
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>

        </dxlc:FlowLayoutControl>

        <Grid Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                  HorizontalAlignment="Center">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="40"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0"
                    Content="{DynamicResource AcceptButton}"
                    Command="{Binding EditEmployeetViewAcceptButtonCommand}"
                    Height="30"
                    Width="100"
                    Style="{DynamicResource Button16Style}"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    IsEnabled="{Binding IsAcceptEnabled}"/> 

            <Button Grid.Column="2"
                        Content="{DynamicResource CancelButton}"
                        Command="{Binding EditEmployeeViewCancelButtonCommand}" 
                        Height="30"
                        Width="100"
                        Style="{DynamicResource Button16Style}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center" />
        </Grid>

    </Grid>
    <!--</ScrollViewer>-->
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="KeyDown">
            <behaviors:InvokeDelegateCommandAction Command="{Binding CommandTextInput}" CommandParameter="{Binding Path=InvokeParameter, RelativeSource={RelativeSource Self}}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
</dxwui:WinUIDialogWindow>
