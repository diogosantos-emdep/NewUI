<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Hrm.Views.AddJobDescriptionView"
                         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                         xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                         xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.Views"
                         xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
                         xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" 
                         xmlns:HrmApplication="clr-namespace:Emdep.Geos.Modules.Hrm"
                         xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
                         xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                         xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
                         xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
                         mc:Ignorable="d" 
                         d:DesignHeight="300" d:DesignWidth="400"
                         Title="{Binding WindowHeader, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                         TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}"
                         Style="{DynamicResource WinUIDialogWindowStyle}">

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape"  Command="{Binding AddJobDescriptionViewCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <!--<RowDefinition Height="40"/>-->
            <RowDefinition Height="40"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>          <!--100-->
            <RowDefinition Height="10"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="10"/>
            <RowDefinition Height="Auto"/>            
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="120"/>
            <ColumnDefinition Width="300"/>
        </Grid.ColumnDefinitions>

        <Label Grid.Row="0" Grid.Column="0" Content="{DynamicResource Organization}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,10,0,10"/>

        <dxe:ComboBoxEdit Name="cmbOrganization" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Left" 
                         Width="300" Height="30" VerticalAlignment="Center"  ItemsSource="{Binding OrganizationList,Mode=TwoWay}"                         
                          DisplayMember="Alias" ValueMember="IdCompany"
                          AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True">

            <dxe:ComboBoxEdit.SelectedIndex>
                <Binding Path="SelectedOrganizationIndex" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Validation:EmployeeProfileValidation FieldName="SelectedOrganizationIndex" ValidationStep="UpdatedValue" />
                    </Binding.ValidationRules>
                </Binding>
            </dxe:ComboBoxEdit.SelectedIndex>
        </dxe:ComboBoxEdit>

        <Label Grid.Row="1" Grid.Column="0" Content="{DynamicResource ProfessionalJobDescriptionJobTitle}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,10,0,10"/>

        <dxe:ComboBoxEdit  Name="PART_Editor1" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Left" 
                         Width="300" Height="30" VerticalAlignment="Center"  ItemsSource="{Binding JobDescriptionList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"                         
                           ValueMember="IdJobDescription"  DisplayMember="JobDescriptionTitleAndCode" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True">

            <dxe:ComboBoxEdit.SelectedIndex>
                <Binding Path="SelectedJobDescription" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Validation:EmployeeProfileValidation FieldName="SelectedJobDescription" ValidationStep="UpdatedValue" />
                    </Binding.ValidationRules>
                </Binding>
            </dxe:ComboBoxEdit.SelectedIndex>
            
            <!--sjadhav-->
            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="SelectedIndexChanged"
                                       Command="{Binding DataContext.SelectedIndexChangedCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                       PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>
        </dxe:ComboBoxEdit>
        
        <!--sjadhav-->
        <Label Grid.Row="2" Grid.Column="0" Content="{DynamicResource JobDescriptionsScope}" 
               Height="30" FontSize="16" Visibility="{Binding CountryVisble,Mode=TwoWay}"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,10,0,10"/>
        <!--ItemsSource="{Binding DataContext.CountryList, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"-->
        <dxe:ComboBoxEdit  Grid.Row="2" Grid.Column="1" HorizontalAlignment="Left"                            
                           Width="300" Height="30" VerticalAlignment="Center" 
                           ItemsSource="{Binding CountryList, Mode=TwoWay}" 
                           Visibility="{Binding CountryVisble,Mode=TwoWay}"
                           DisplayMember="Name" ValueMember="IdCountry"
                           AutoComplete="True" IncrementalFiltering="True">

            <dxe:ComboBoxEdit.SelectedIndex>
                <Binding Path="SelectedIndexCountry" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Validation:EmployeeProfileValidation FieldName="SelectedIndexCountry" ValidationStep="UpdatedValue" />
                    </Binding.ValidationRules>
                </Binding>
            </dxe:ComboBoxEdit.SelectedIndex>
        </dxe:ComboBoxEdit>

        <Label Grid.Row="2" Grid.Column="0" Content="{DynamicResource JobDescriptionsScope}" Height="30" FontSize="16"
               Visibility="{Binding ScopeVisble,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,10,0,10"/>

        <dxe:ComboBoxEdit  Name="PART_Editor3" Grid.Row="2" Grid.Column="1" HorizontalAlignment="Left"
                           Visibility="{Binding ScopeVisble, Mode=TwoWay}"
                           Width="300" Height="30" VerticalAlignment="Center"
                           ItemsSource="{Binding ScopeList,Mode=TwoWay}" 
                           DisplayMember="Value" ValueMember="IdLookupValue"
                           AutoComplete="True" IncrementalFiltering="True">

            <dxe:ComboBoxEdit.SelectedIndex>
                <Binding Path="SelectedScope" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Validation:EmployeeProfileValidation FieldName="SelectedScope" ValidationStep="UpdatedValue" />
                    </Binding.ValidationRules>
                </Binding>
            </dxe:ComboBoxEdit.SelectedIndex>
        </dxe:ComboBoxEdit>

        <Label Grid.Row="3" Grid.Column="0" Content="{DynamicResource ProfessionalJobDescriptionPercentage}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,10,0,10"/>

        <DockPanel  Grid.Row="3" Grid.Column="1">
            <dxe:TextEdit  Margin="10,0,0,0" Text="{Binding ElementName=tbeValue,Path=Value ,UpdateSourceTrigger=PropertyChanged }" IsReadOnly="True"  Width=" 40" Height="30" DockPanel.Dock="Right" >
                <dxe:TextEdit.EditValue >
                    <Binding Path="Percentage" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True" >
                        <Binding.ValidationRules >
                            <Validation:EmployeeProfileValidation FieldName="Percentage" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True" ></Validation:EmployeeProfileValidation>
                        </Binding.ValidationRules>
                    </Binding>
                </dxe:TextEdit.EditValue>
                <dxmvvm:Interaction.Behaviors>
                    <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                </dxmvvm:Interaction.Behaviors>
            </dxe:TextEdit>
            <dxe:TrackBarEdit   Grid.Row="3" Grid.Column="1" Margin="0,0,0,5" Height="30" Width="280" HorizontalAlignment="Left" Minimum="0" Maximum="{Binding MaxLimitOfPercentage,Mode=TwoWay ,UpdateSourceTrigger=PropertyChanged}"
                Name="tbeValue" SmallStep="25" LargeStep="25" EditValue="{Binding Percentage,Mode=TwoWay ,UpdateSourceTrigger=PropertyChanged}" TickFrequency="25" TickPlacement="Both"
                            IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
            </dxe:TrackBarEdit>

        </DockPanel>


        <Label Grid.Row="4" Grid.Column="0" Content="{DynamicResource EmpEducationStartDate}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,10,0,10"/>

        <dxe:DateEdit Margin="0,0,0,5" Grid.Row="4" Grid.Column="1" Width="300" Height="30" HorizontalAlignment="Left" VerticalAlignment="Center"
          IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
            <dxe:DateEdit.EditValue>
                <Binding Path="StartDate" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay"
                                                 ValidatesOnDataErrors="True">
                    <Binding.ValidationRules>
                        <Validation:EmployeeProfileValidation FieldName="StartDate" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:DateEdit.EditValue>
            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnDateEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>
        </dxe:DateEdit>

        <Label Grid.Row="5" Grid.Column="0" Content="{DynamicResource EmpEducationEndDate}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,10,0,10"/>

        <dxe:DateEdit Margin="0,0,0,5" Grid.Row="5" Grid.Column="1" Width="300" Height="30" HorizontalAlignment="Left" VerticalAlignment="Center"
                   IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
            <dxe:DateEdit.EditValue>
                <Binding Path="EndDate" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay"
                                                 ValidatesOnDataErrors="True">
                    <Binding.ValidationRules>
                        <Validation:EmployeeProfileValidation FieldName="EndDate" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:DateEdit.EditValue>
            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnDateEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>
        </dxe:DateEdit>

        <Label Grid.Row="6" Grid.Column="0" Content="{DynamicResource EmployeeRemarks}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,10,0,10"/>




        <TextBox Margin="0,0,0,0" Grid.Row="6" Grid.Column="1" Width="300" Height="90" TextWrapping="Wrap" 
                 VerticalAlignment="Center" HorizontalAlignment="Left" ScrollViewer.VerticalScrollBarVisibility="Auto" 
                 Text="{Binding Remarks,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" AcceptsReturn="True"
               IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
        </TextBox>

        <dxe:CheckEdit Grid.Row="8" Grid.Column="1" IsChecked="{Binding IsCheckedSetMain,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" IsReadOnly="False" IsEnabled="{Binding IsEnabledSetMain,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Top">
        </dxe:CheckEdit>
        <TextBlock Grid.Row="8" Grid.Column="1" Margin="20 0 0 0" Grid.ColumnSpan="6" Text="{DynamicResource SetAsMainJobDescription}" Style="{StaticResource TextBlock14Style}" VerticalAlignment="Top" />

        <StackPanel Grid.Row="10" Grid.Column="1" Grid.ColumnSpan="2"
                    HorizontalAlignment="Left" 
                    Orientation="Horizontal"
                    Margin="0,0,0,0"
                    Width="250">

            <!--<Button Content="Accept"
                    Command="{Binding AddJobDescriptionViewAcceptButtonCommand}"
                    Height="30"
                    Width="100"
                    Margin="0,0,10,0"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom" 
                    IsEnabled="{Binding Source={x:Static HrmApplication:HrmCommon.Instance}, Path=IsPermissionEnabled}"/>-->


            <Button Content="Accept"
                    Command="{Binding AddJobDescriptionViewAcceptButtonCommand}"
                    Height="30"
                    Width="100"
                    Margin="0,0,10,0"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom" 
                   IsEnabled="{Binding IsAcceptEnabled}"/>

            <Button Content="Cancel"
                    Command="{Binding AddJobDescriptionViewCancelButtonCommand}" 
                    Height="30"
                    Width="100"
                    Margin="10,0,0,0"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom" />
        </StackPanel>

    </Grid>
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="KeyDown">
            <behaviors:InvokeDelegateCommandAction Command="{Binding CommandTextInput}" CommandParameter="{Binding Path=InvokeParameter, RelativeSource={RelativeSource Self}}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
</dxwui:WinUIDialogWindow>
