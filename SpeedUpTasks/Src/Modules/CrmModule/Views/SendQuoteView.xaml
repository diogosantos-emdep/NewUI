<dxwui:WinUIDialogWindow 
                        x:Class="Emdep.Geos.Modules.Crm.Views.SendQuoteView"
                        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                        xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
                        xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                        xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
                        xmlns:ViewModels="clr-namespace:Emdep.Geos.Modules.Crm.ViewModels"
                        xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
                        xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
                        xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
                        xmlns:UIConverter ="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
                        xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
                        Height="200" Width="300"
                        Title ="{DynamicResource SendQuoteViewTitle}"
                        TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}"
                        Style="{DynamicResource WinUIDialogWindowStyle}">

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding SendQuoteCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="10"/>
            <RowDefinition Height="100"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="100"/>
            <ColumnDefinition Width="*"/>

        </Grid.ColumnDefinitions>


        <Label Content="{DynamicResource SendQuoteViewDate}" HorizontalAlignment="Left"
               VerticalAlignment="Top" Grid.Row="1" Grid.Column="0" Margin="0,5,0,0">
        </Label>

        <dxe:DateEdit Grid.Row="1" Grid.Column="1" MinValue="01/01/1900"
                          HorizontalAlignment="Left" VerticalAlignment="Top" Width="150" Margin="0,5,0,0"
                          Mask="{Binding CultureInfo.CurrentCulture.DateTimeFormat.YearMonthPattern}"
                          MaskUseAsDisplayFormat="True"
                          IsTextEditable="False" InvalidValueBehavior="AllowLeaveEditor">

            <dxe:DateEdit.EditValue>
                <Binding Path="QuoteSentDate" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Validation:RequiredValidationRule FieldName="QuoteSentDate"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:DateEdit.EditValue>

        </dxe:DateEdit>

        <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" 
                    HorizontalAlignment="Center" 
                    Orientation="Horizontal" 
                    Margin="0,5,0,0" Width="300">

            <Button Content="{DynamicResource SendQuoteViewAccept}"
        		Command="{Binding SendQuoteAcceptButtonCommand}"
        		Height="30"
        		Width="100"
        		Margin="0,0,30,0"
        		VerticalAlignment="Bottom" />
            <Button Content="{DynamicResource SendQuoteViewCancel}"
            	Command="{Binding SendQuoteCancelButtonCommand}" 
            	Height="30"
            	Width="100"
            	Margin="30,0,0,0"
            	VerticalAlignment="Bottom"  />

        </StackPanel>

    </Grid>
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="KeyDown">
            <behaviors:InvokeDelegateCommandAction Command="{Binding CommandTextInput}" CommandParameter="{Binding Path=InvokeParameter, RelativeSource={RelativeSource Self}}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
</dxwui:WinUIDialogWindow>
