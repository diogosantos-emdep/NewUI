<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Warehouse.Views.SystemSettingsView"
                         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                         xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                         xmlns:local="clr-namespace:Emdep.Geos.Modules.Warehouse.Views"
                         xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
                         xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                         xmlns:WmsApplication="clr-namespace:Emdep.Geos.Modules.Warehouse"
                         xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                         xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
                         xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
                         xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                         xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
                         xmlns:ve="http://schemas.devexpress.com/winfx/2008/xaml/docking/visualelements"
                         mc:Ignorable="d" 
                         Title="{DynamicResource WarehouseViewModelConfigurationSystemSettings}"
                         TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}">

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape"  Command="{Binding CancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>

    <dxwui:WinUIDialogWindow.Resources>
        <Style TargetType="{x:Type ve:AutoHideTray}">
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <ve:psvStackPanel HorizontalAlignment="Right" />
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </dxwui:WinUIDialogWindow.Resources>

    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">

        <Grid HorizontalAlignment="Center" VerticalAlignment="Top" Height="Auto" Width="Auto" Background="Transparent">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="10"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="10"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>

            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="25"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!--Warehouse In Inventory-->
            <Label Grid.Column="0" Grid.Row="0" Content="{DynamicResource WarehouseInInventory}" HorizontalAlignment="Left" VerticalAlignment="Center" FontWeight="Bold" FontSize="20"></Label>

            <!--ToggleSwitch-->
            <Border  Width="70" Height="30" Grid.Column="2" Grid.Row="0">
                <dxe:ToggleSwitch IsChecked="{Binding Source={x:Static WmsApplication:WarehouseCommon.Instance},Path=IsWarehouseInInventory}" IsThreeState="False" Style="{DynamicResource ToggleSwitchlForegroundStyle}" VerticalContentAlignment="Center"></dxe:ToggleSwitch>
            </Border>

            <Label Content="{DynamicResource WarehouseInventoryVisibilityMessage}" Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="3" FontSize="14"></Label>

            <!--[GEOS2-1667][24/07/2019][skale]-Priorize first empty locations in Refill-->

            <Label Grid.Column="0" Grid.Row="3" Content="{DynamicResource RefillEmptyLocationsFirst}" HorizontalAlignment="Left" VerticalAlignment="Center" FontWeight="Bold" FontSize="20"></Label>
            <Border  Width="70" Height="30" Grid.Column="2" Grid.Row="3">
                <dxe:ToggleSwitch IsChecked="{Binding Source={x:Static WmsApplication:WarehouseCommon.Instance},Path=IsRefillEmptyLocationsFirst}" IsThreeState="False" Style="{DynamicResource ToggleSwitchlForegroundStyle}" VerticalContentAlignment="Center"></dxe:ToggleSwitch>
            </Border>
            <Label Content="{DynamicResource RefillEmptyLocationsMessage}" Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="3" FontSize="14"></Label>

            <!--End-->

            <!--[GEOS2-1656] [02-10-2019] [sdesai]Add article Sleeping days column in warehouse section-->
            <Label Grid.Column="0" Grid.Row="6" Content="{DynamicResource SleepingArticles}" HorizontalAlignment="Left" VerticalAlignment="Center" FontWeight="Bold" FontSize="20"></Label>
            <Grid Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="10"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Label Grid.Column="0" Content="{DynamicResource SleepingArticlesMessage}" 
                       FontSize="14"
                       VerticalContentAlignment="Center" />
                <dxe:TextEdit Grid.Column="2" Text="{Binding Source={x:Static WmsApplication:WarehouseCommon.Instance},Path=ArticleSleepDays}" HorizontalContentAlignment="Right" 
                              HorizontalAlignment="Left" VerticalAlignment="Center"  VerticalContentAlignment="Center" 
                              FontWeight="Bold" FontSize="20" ShowBorder="True" Width="70" Height="35"/>
            </Grid>

            <TextBlock Grid.Column="4" Grid.Row="7" Text="{DynamicResource SleepingDays}" 
                       VerticalAlignment="Center" HorizontalAlignment="Left" 
                       FontSize="14"></TextBlock>
            <!--End-->

            <!--[GEOS2-1889] [06-01-2020] [cpatil]Add a new setting to specify the customers requiring one order one box-->
            <Label Grid.Column="0" Grid.Row="8" Content="{DynamicResource CustomerOneOrderBox}" HorizontalAlignment="Left" VerticalAlignment="Center" FontWeight="Bold" FontSize="20"></Label>
            <Label Grid.Column="0" Grid.Row="9" Content="{DynamicResource CustomerOneOrderBoxMessage}" Grid.ColumnSpan="3"
                       FontSize="14" 
                       VerticalContentAlignment="Center" />

            <!--CustomerOneOrderBox-->

            <GroupBox Margin="0 5 0 0" Grid.Row="10" Grid.Column="0" Grid.ColumnSpan="3" Height="226"
                                          HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                          >
                <dxdo:DockLayoutManager Margin="-10" Name="dockManager1" HorizontalContentAlignment="Stretch" >
                    <dxdo:LayoutGroup x:Name="RootGroup" Orientation="Horizontal" HorizontalContentAlignment="Stretch">
                        <dxdo:LayoutPanel x:Name="SiteList"
                                                              AllowHide="False" AllowClose="False" 
                                                              ShowPinButton="False"
                                                              SnapsToDevicePixels="True"
                                          >

                            <dxe:ListBoxEdit Width="460" Grid.Row="1" ItemsSource="{Binding DataContext.SelectedCustomerList,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,ValidatesOnDataErrors=True}" 
                                                                    ScrollViewer.HorizontalScrollBarVisibility="Disabled" HorizontalAlignment="Stretch" 
                                                                    HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch"
                                                                    AllowItemHighlighting="False" >
                                <dxe:ListBoxEdit.ItemTemplate>
                                    <DataTemplate>
                                        <!--<ItemsControl HorizontalContentAlignment="Stretch">
                                            <UniformGrid Rows="1"></UniformGrid>-->
                                        <!--</ItemsControl>-->


                                        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="{DynamicResource SelectedItemBackgroud}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Grid.Column="0"
                                                       HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                       Foreground="White"
                                                       Style="{DynamicResource TextBlock14Style}"
                                                       Text="{Binding Path=Item2}" Margin="10 0 10 0" TextWrapping="Wrap" />

                                            <dxe:ButtonEdit Grid.Column="1"
                                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                            HorizontalContentAlignment="Stretch" 
                                                            VerticalContentAlignment="Stretch" 
                                                            ShowText="False" ShowBorder="False"
                                                            AllowDefaultButton="False"
                                                            Margin="4 2 2 2">
                                                <dxe:ButtonEdit.Buttons>
                                                    <dxe:ButtonInfo GlyphKind="Cancel">
                                                        <dxmvvm:Interaction.Behaviors>
                                                            <dxmvvm:EventToCommand Command="{Binding DataContext.CustomerCancelCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                                                       EventName="Click"
                                                                                                       CommandParameter="{Binding Path=.}" />
                                                        </dxmvvm:Interaction.Behaviors>
                                                    </dxe:ButtonInfo>
                                                </dxe:ButtonEdit.Buttons>
                                            </dxe:ButtonEdit>
                                        </Grid>
                                    </DataTemplate>
                                </dxe:ListBoxEdit.ItemTemplate>
                                <dxe:ListBoxEdit.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel Orientation="Vertical" />
                                    </ItemsPanelTemplate>
                                </dxe:ListBoxEdit.ItemsPanel>
                            </dxe:ListBoxEdit>
                        </dxdo:LayoutPanel>
                    </dxdo:LayoutGroup>

                    <dxdo:DockLayoutManager.AutoHideGroups>
                        <dxdo:AutoHideGroup DockType="Bottom" >
                            <dxdo:LayoutPanel x:Name="AddCustomer" AllowClose="False" AllowDrag="False" AllowContextMenu="False" AllowFloat="False" AllowSizing="False"      
                                              Caption="{DynamicResource CustomerOneOrderBoxAddCustomer}">

                                <dxg:GridControl x:Name="Customer" MaxWidth="460"
                                                 DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow, Mode=FindAncestor}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                 ItemsSource="{Binding CustomerList}">
                                    <dxg:GridColumn Header="Name" FieldName="Item2" FilterPopupMode="CheckedList" Width="*" FixedWidth="True" />
                                    <dxg:GridControl.View>
                                        <dxg:TableView  x:Name="tablesites" 
                                                        HorizontalScrollbarVisibility="Auto"
                                                        NavigationStyle="Row"
                                                        ShowGroupPanel="False"
                                                        ShowIndicator="False"
                                                        ShowSearchPanelMode="Default"
                                                        ShowAutoFilterRow="True"
                                                        VerticalScrollbarVisibility="Auto"
                                                        SearchPanelHorizontalAlignment="Stretch"
                                                        FadeSelectionOnLostFocus="False"
                                                        HorizontalAlignment="Stretch"
                                                        AllowBestFit="True"
                                                        >
                                            <!--EnableImmediatePosting="True"
                                                 ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                 EnableSmartColumnsGeneration="True"-->
                                        </dxg:TableView>
                                    </dxg:GridControl.View>
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand Command="{Binding DataContext.AddCustomerRowMouseDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                                   EventName="MouseDoubleClick"
                                                                                   PassEventArgsToCommand="True">
                                            <dxmvvm:EventToCommand.EventArgsConverter>
                                                <dx:EventArgsToDataRowConverter />
                                            </dxmvvm:EventToCommand.EventArgsConverter>
                                        </dxmvvm:EventToCommand>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxg:GridControl>

                            </dxdo:LayoutPanel>
                        </dxdo:AutoHideGroup>
                    </dxdo:DockLayoutManager.AutoHideGroups>
                </dxdo:DockLayoutManager>
            </GroupBox>

            <!--End-->
            <StackPanel Grid.Row="11" Grid.Column="0" Grid.ColumnSpan="3"
                    HorizontalAlignment="Center" 
                    Orientation="Horizontal"
                    Width="Auto">
                <!--Accept-->
                <Button Content="{DynamicResource Accept}"
                    Command="{Binding AcceptButtonCommand}"
                    Height="30"
                    Width="100"
                    Margin="20,20,20,20"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom" />

                <!--Cancel-->
                <Button Content="{DynamicResource Cancel}"
                    Command="{Binding CancelButtonCommand}" 
                    Height="30"
                    Width="100"
                    Margin="20,20,20,20"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom" />

            </StackPanel>

        </Grid>

    </ScrollViewer>

</dxwui:WinUIDialogWindow> 
