<dxwui:WinUIDialogWindow xmlns:Views="clr-namespace:Emdep.Geos.Modules.HarnessPart.Views" 
    x:Class="Emdep.Geos.Modules.HarnessPart.EmdepSite"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
      xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
     xmlns:dxca="http://schemas.devexpress.com/winfx/2008/xaml/carousel" 
    xmlns:dxm="http://schemas.devexpress.com/winfx/2008/xaml/map"
       xmlns:dxmvvm="clr-namespace:DevExpress.Mvvm.UI.Interactivity;assembly=DevExpress.Xpf.Core.v19.2"
    Height="Auto" Width="525" WindowStyle="None" KeyUp="WinUIDialogWindow_KeyUp" TitleStyle="{x:Null}"
    >

    <Window.Resources>
        <DataTemplate x:Key="pushpin">
            <StackPanel ToolTipService.ToolTip="{Binding Path=MapItem.Information}" Margin="-30 -60">
                <Image Source="/Emdep.Geos.Modules.HarnessPart;component/Image/icono.ico" />
                <TextBlock Margin="6"
                    Foreground="Blue"
                    Text="{Binding Path=MapItem.Text}" />
            </StackPanel>
        </DataTemplate>

    </Window.Resources>
    <dxmvvm:Interaction.Behaviors>
        <dx:DialogService DialogWindowStartupLocation="CenterOwner">
            <dx:DialogService.ViewTemplate>
                <DataTemplate>
                    <Views:View1 x:Name="viewgg" />
                </DataTemplate>
            </dx:DialogService.ViewTemplate>
            <dx:DialogService.DialogStyle>
                <Style TargetType="dx:DXDialogWindow">
                    <Setter Property="Width"
                            Value="300" />
                    <Setter Property="Height"
                            Value="160" />
                </Style>
            </dx:DialogService.DialogStyle>
        </dx:DialogService>
    </dxmvvm:Interaction.Behaviors>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Label Grid.Row="0" Content="Choose Site" FontFamily="calibri" FontSize="28" VerticalAlignment="Top" HorizontalAlignment="Center" />
        <dxca:CarouselItemsControl Grid.Row="1" x:Name="carouselItemsControlBottom" ItemsSource="{Binding Emdepsite}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <dxca:CarouselPanel x:Name="CarouselPanel1" AttractorPointIndex="2" ActivateItemOnClick="True" VisibleItemCount="5"                                      
                                       Width="Auto" Height="300" ItemSize="400,400" PathSizingMode="Stretch" IsRepeat="True"   
                            IsInvertedDirection="True" AnimationTime="300" Margin="0"                      
                            PathPadding="5, 5, 5, 30"
                            ClipToBounds="True"
                            PathVisible="False"
									   ActiveItemIndex="{Binding ActiveItemIndexValue, Mode=TwoWay}" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30" />
                            <RowDefinition Height="220" />
                            <RowDefinition Height="20" />
                        </Grid.RowDefinitions>
                        <Label Content="{Binding Name}" Grid.Row="0" FontFamily="calibri" VerticalAlignment="Top" HorizontalAlignment="Center" FontSize="20"></Label>
                        <Grid Grid.Row="1" VerticalAlignment="Top"> 
                            <Border Width="400" VerticalAlignment="Top">                      
                        <Image Source="{Binding ConImage}" Grid.Row="1" MouseLeftButtonUp="Image_MouseLeftButtonUp" MouseDown="Image_MouseDown" Height="400" Width="400" Stretch="Fill" VerticalAlignment="Top"></Image>
                        
                                <Border.Style>
                                    <Style TargetType="{x:Type Border}">
                                        <!--<Setter Property="Background" Value="Transparent" />-->
                                        <Setter Property="BorderThickness" Value="2" />
                                        <Setter Property="BorderBrush" Value="Transparent"></Setter>

                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="BorderThickness" Value="2" />
                                                <Setter Property="BorderBrush" Value="#2AB7FF"></Setter>
                                            </Trigger>

                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>
                        </Grid>
                        <Button Content="{Binding Sitename}" Grid.Row="2" Name="btnsitename" Cursor="Hand" FontFamily="calibri" FontSize="16" VerticalAlignment="Top" HorizontalAlignment="Center" Click="btnsitename_Click">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <TextBlock TextDecorations="Underline">
                <ContentPresenter />
                                    </TextBlock>
                                </ControlTemplate>
                            </Button.Template>
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Foreground" Value="#2AB7FF" />
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="true">
                                            <Setter Property="Foreground" Value="OrangeRed" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <!--<TextBlock Text="{Binding Name}" VerticalAlignment="Center" HorizontalAlignment="Center"/>-->
                    </Grid>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </dxca:CarouselItemsControl>

        <dxm:MapControl ZoomLevel="12" CenterPoint="41.292149,1.299219" x:Name="mapconrol1" Visibility="Hidden" Height="350" Width="525">
            <dxm:ImageTilesLayer>
                <dxm:ImageTilesLayer.DataProvider>
                    <dxm:BingMapDataProvider Kind="Road" BingKey="AvDFbBPV8HPb4W8q69S960LXa9LCTGDZgo2k2tLQhe6YTchMVJTVaDLo899kViVr"></dxm:BingMapDataProvider>
                    <!--<dxm:OpenStreetMapDataProvider Kind="Transport" />-->
                </dxm:ImageTilesLayer.DataProvider>
            </dxm:ImageTilesLayer>
            <dxm:VectorLayer>
                <dxm:MapItemStorage x:Name="mapItems">
                    <dxm:MapPushpin Location="41.292149,1.299219" 
                                     Text="Spain" 
                                     Information="Test Spain Information"
                                     MarkerTemplate="{StaticResource pushpin}" />
                </dxm:MapItemStorage>
            </dxm:VectorLayer>
            <dxm:MapControl.ScalePanelOptions>
                <dxm:ScalePanelOptions HorizontalAlignment="Right" VerticalAlignment="Bottom" Visible="False" />
            </dxm:MapControl.ScalePanelOptions>
            <dxm:MapControl.CoordinatesPanelOptions>
                <dxm:CoordinatesPanelOptions VerticalAlignment="Top" HorizontalAlignment="Right" Visible="False" />
            </dxm:MapControl.CoordinatesPanelOptions>
        </dxm:MapControl>

    </Grid>
</dxwui:WinUIDialogWindow>
