<dxwui:WinUIDialogWindow
            x:Class="Emdep.Geos.Modules.Epc.Views.NewFollowupView"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
            xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
            xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
            xmlns:viewModel="clr-namespace:Emdep.Geos.Modules.Epc.ViewModels"
            xmlns:UIValidation="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
            xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
            xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity" 
            mc:Ignorable="d" 
            d:DesignHeight="330" d:DesignWidth="600">

    <dxwui:WinUIDialogWindow.DataContext>
        <viewModel:NewFollowupViewModel />
    </dxwui:WinUIDialogWindow.DataContext>

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding NewFollowupCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>

    <Grid DataContext="{Binding ProjectFollowupData}">
        <Grid.RowDefinitions>
            <RowDefinition Height="50"></RowDefinition>
            <RowDefinition Height="15"></RowDefinition>

            <RowDefinition Height="100"></RowDefinition>
            <RowDefinition Height="10"></RowDefinition>
            <RowDefinition Height="40"></RowDefinition>
            <RowDefinition Height="10"></RowDefinition>
            <RowDefinition Height="50"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="100"/>
            <ColumnDefinition Width="25"/>
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        
        <StackPanel Grid.Row="0" Grid.ColumnSpan="3" Orientation="Vertical">
            <Label Content="New Followup" Grid.Row="0" Grid.ColumnSpan="2"
               FontSize="28" FontWeight="Bold" HorizontalAlignment="Left" VerticalAlignment="Top"
               FontFamily="Calibri" Margin="0,0,0,0" >
            </Label>
        </StackPanel>

        <Label Content="Description" Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2"></Label>
        <dxe:TextEdit  Width="400" Height="100" Grid.ColumnSpan="1"
                       Grid.Row="2" Grid.Column="2" HorizontalAlignment="Left" VerticalScrollBarVisibility="Visible" VerticalContentAlignment="Top" HorizontalContentAlignment="Left"
                       AcceptsReturn="True" VerticalAlignment="Top" Margin="0,0,25,0"  NullText="Description">
            <dxe:TextEdit.EditValue>
                <Binding Path="Description" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <UIValidation:CustomRequiredFieldValidation ValidationMessage="Please Fill the value." ValidationStep="UpdatedValue"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:TextEdit.EditValue>
        </dxe:TextEdit>

        <Label Name="lblFollowupDate" Content= "Date" Grid.Row="4"  Grid.Column="0" Grid.ColumnSpan="2" 
               Width="125" HorizontalAlignment="Left" IsEnabled="{Binding IsVEnabl, Mode=OneWay}">
        </Label>
        <dxe:DateEdit Grid.Row="4" Grid.Column="2" Width="400" HorizontalAlignment="Left"
                      Margin="0,3" ValidateOnTextInput="False" ValidateOnEnterKeyPressed="True"
                      EditValue="{Binding DataContext.ProjectFollowupData.FollowupDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,
                                  RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}">
        </dxe:DateEdit>

        <StackPanel Grid.Row="8"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal"
                    Width="270" Grid.Column="2" Margin="130,4,67,-4">

            <Button Content="Accept"
                    Command="{Binding DataContext.NewFollowupAcceptButtonCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type dxwui:WinUIDialogWindow}}}" 
                    Height="30"
                    Width="100"
                    Margin="0,0,30,0"
                    FontFamily="Calibri"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center">
            </Button>

            <Button Content="Cancel"
                    Command="{Binding DataContext.NewFollowupCancelButtonCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type dxwui:WinUIDialogWindow}}}" 
                    Height="30"
                    Width="100"
                    Margin="30,0,0,0"
                    FontFamily="Calibri"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center">
            </Button>
        </StackPanel>

    </Grid>
</dxwui:WinUIDialogWindow>
