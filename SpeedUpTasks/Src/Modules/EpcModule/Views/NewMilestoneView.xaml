<dxwui:WinUIDialogWindow
            x:Class="Emdep.Geos.Modules.Epc.Views.NewMilestoneView"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
            xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"               
            xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
            xmlns:viewModel="clr-namespace:Emdep.Geos.Modules.Epc.ViewModels"
            xmlns:UIValidation="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
            xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
            xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity" 
            mc:Ignorable="d" 
            d:DesignHeight="330" d:DesignWidth="600">
    
    <dxwui:WinUIDialogWindow.DataContext>
        <viewModel:NewMilestoneViewModel/>
    </dxwui:WinUIDialogWindow.DataContext>
    
    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding NewMilestoneCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>

    <Grid DataContext="{Binding ProjectMilestoneData}">
        <Grid.RowDefinitions>
            <RowDefinition Height="50"></RowDefinition>
            <RowDefinition Height="15"></RowDefinition>
            <RowDefinition Height="30"></RowDefinition>
            <RowDefinition Height="100"></RowDefinition>
            <RowDefinition Height="30"></RowDefinition>
            <RowDefinition Height="5"></RowDefinition>
            <RowDefinition Height="50"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="100"/>
            <ColumnDefinition Width="25"/>
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <StackPanel Grid.Row="0" Grid.ColumnSpan="3" Orientation="Vertical">
            <Label Grid.Row="0" 
               Grid.ColumnSpan="2"
               Content="New Milestone"
               FontSize="28" 
               FontWeight="Bold"
               HorizontalAlignment="Left"
               VerticalAlignment="Top"
               FontFamily="Calibri" Margin="0,0,0,0" >
            </Label>
        </StackPanel>

        <Label  Content="Name" Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" />
        <dxe:TextEdit  Grid.Row="2" Grid.Column="2" Width="400" HorizontalAlignment="Left" Margin="0,3,0,3" NullText="Milestone name">
            <dxe:TextEdit.EditValue>
                <Binding Path="MilestoneTitle" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" >
                    <Binding.ValidationRules>
                        <UIValidation:CustomRequiredFieldValidation  ValidationMessage="Please Fill the Value." ValidationStep="UpdatedValue"   />
                    </Binding.ValidationRules>
                </Binding>
            </dxe:TextEdit.EditValue>
        </dxe:TextEdit>

        <Label Content="Description" Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2"></Label>
        <dxe:TextEdit  Width="400"
                       Height="100"
                       Grid.Row="3"
                       Grid.Column="2"
                       HorizontalAlignment="Left"
                       VerticalScrollBarVisibility="Visible"
                       VerticalContentAlignment="Top"
                       HorizontalContentAlignment="Left"
                       AcceptsReturn="True"
                       VerticalAlignment="Top"
                       Margin="0,0,25,0" Grid.ColumnSpan="2" NullText="Description">
            <dxe:TextEdit.EditValue>
                <Binding Path="Description" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <UIValidation:CustomRequiredFieldValidation ValidationMessage="Please Fill the value." ValidationStep="UpdatedValue"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:TextEdit.EditValue>
        </dxe:TextEdit>

        <Label Content= "Date"
               Grid.Column="0" Grid.ColumnSpan="2"
               Name="lblMsDate"
               Grid.Row="4" 
               Width="125"
               HorizontalAlignment="Left" IsEnabled="{Binding IsVEnabl, Mode=OneWay}">
        </Label>
        <dxe:DateEdit Grid.Row="4" Grid.Column="2" Width="400" HorizontalAlignment="Left"
                      Margin="0,3" NullText="Select a Date" ValidateOnTextInput="False" ValidateOnEnterKeyPressed="True"
                       EditValue="{Binding TargetDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
        
        <StackPanel Grid.Row="6"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal"
                    Width="270" Grid.Column="2" Margin="130,4,67,-4">

            <Button Content="Accept"
                    Command="{Binding DataContext.NewMilestoneAcceptButtonCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type dxwui:WinUIDialogWindow}}}" 
                    Height="30"
                    Width="100"
                    Margin="0,0,30,0"
                    FontFamily="Calibri"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center">
            </Button>

            <Button Content="Cancel"
                    Command="{Binding DataContext.NewMilestoneCancelButtonCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type dxwui:WinUIDialogWindow}}}" 
                    Height="30"
                    Width="100"
                    Margin="30,0,0,0"
                    FontFamily="Calibri"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center">
            </Button>
        </StackPanel>

    </Grid>
</dxwui:WinUIDialogWindow>
