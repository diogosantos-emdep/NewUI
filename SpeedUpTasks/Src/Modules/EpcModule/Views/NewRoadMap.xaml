<dxwui:WinUIDialogWindow  x:Class="Emdep.Geos.Modules.Epc.Views.NewRoadMapView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:UIValidation="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
             xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
                          
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="800">

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding NewRoadMapCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>
    <dxwui:WinUIDialogWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Emdep.Geos.Modules.Epc;component/Resources/EpcCommonResource.xaml">

                </ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
            <Style x:Key="ComboBoxEditStyle" TargetType="dxe:ComboBoxEdit">
                <Setter Property="EditNonEditableTemplate">
                    <Setter.Value>
                        <ControlTemplate>
                            <StackPanel HorizontalAlignment="Left" VerticalAlignment="Center" Orientation="Horizontal">
                                <Image Source="{Binding SelectedItem.IdImage, Converter={StaticResource RoadmapPriorityToImageConverter}}"  Margin="5"/>
                                <TextBlock Text="{Binding SelectedItem.Value}" VerticalAlignment="Center"/>
                            </StackPanel>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="ItemTemplate">
                    <Setter.Value>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Image Source="{Binding IdImage, Converter={StaticResource RoadmapPriorityToImageConverter}}"  Margin="0,0,5,0"/>
                                <TextBlock Text="{Binding Value}" VerticalAlignment="Center"/>
                            </StackPanel>
                        </DataTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="IsTextEditable" Value="False" />
            </Style>
        </ResourceDictionary>
    </dxwui:WinUIDialogWindow.Resources>


    <Grid DataContext="{Binding RoadMapData}">
        <Grid.Resources>
            <DataTemplate x:Key="headerTemplate">
                <TextBlock Text="{Binding}" FontWeight="Bold" TextDecorations="Underline"/>
            </DataTemplate>
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"></RowDefinition>
            <RowDefinition Height="30"></RowDefinition>
            <RowDefinition Height="30"></RowDefinition>
            <RowDefinition Height="50"></RowDefinition>
            <RowDefinition Height="30"></RowDefinition>
            <RowDefinition Height="40"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="100"/>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Row="0"  Grid.ColumnSpan="2" Orientation="Vertical">
            <Label Grid.Row="0" 
               Grid.ColumnSpan="2"
               Content="New RoadMap"
               FontSize="28" 
               FontWeight="Bold"
               HorizontalAlignment="Left"
               VerticalAlignment="Top"
               FontFamily="Calibri" Margin="0,0,0,0" >
            </Label>
        </StackPanel>
        <Label  Content="Type" 
                Grid.Column="0" 
                Grid.Row="1" >
        </Label>
        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal"  >
            <dxe:ListBoxEdit ShowBorder="False" ScrollViewer.VerticalScrollBarVisibility="Hidden" Margin="0,3,0,3" 
                             ItemsSource="{Binding DataContext.RoadMapTypeList,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}"                           
                             EditValue="{Binding IdProductRoadmapType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             ValueMember="IdLookupValue"  Width="250" BorderThickness="0" SelectedItem="{Binding DataContext.SelectedRoadmapType,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}" >
                <dxe:ListBoxEdit.ItemTemplate>
                    <DataTemplate>
                        <dxe:ListBoxEditItem Content="{Binding Value}" Margin="0,0,0,0" BorderThickness="0" />
                    </DataTemplate>
                </dxe:ListBoxEdit.ItemTemplate>
                <dxe:ListBoxEdit.StyleSettings>
                    <dxe:RadioListBoxEditStyleSettings/>
                </dxe:ListBoxEdit.StyleSettings>
                <dxe:ListBoxEdit.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal"></StackPanel>
                    </ItemsPanelTemplate>
                </dxe:ListBoxEdit.ItemsPanel>
            </dxe:ListBoxEdit>

        </StackPanel>
        <Label  Content="Source" 
                Grid.Column="2" 
                Grid.Row="1" >
        </Label>
        <StackPanel Grid.Row="1"
                    HorizontalAlignment="left"
                    Orientation="Vertical"
                    Margin="0,4,24,0"
                    Width="200"
                    Grid.Column="4"
                    Grid.RowSpan="2">
            <dxe:ComboBoxEdit Name="cmbRoadMapSource" VerticalAlignment="Center" 
                              ItemsSource="{Binding DataContext.RoadMapSourceList,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}" Width="200"
                              DisplayMember="Value" ValueMember="IdLookupValue" EditValue="{Binding IdRoadmapSource,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding DataContext.SelectedRoadmapSource,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="SelectedIndexChanged">
                        <i:InvokeCommandAction Command="{Binding DataContext.RoadmapSourceSelectedIndexChangedCommand,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </dxe:ComboBoxEdit>
        </StackPanel>
        <Label  Content="Code" 
                Grid.Column="2" 
                Grid.Row="2">
        </Label>
        <!--<dxe:TextEdit Grid.Column="3" Grid.Row="2" Width="200" 
                      HorizontalAlignment="Left" VerticalAlignment="Top"
                       Margin="0,3,0,0"></dxe:TextEdit>-->
        <dxe:ComboBoxEdit Grid.Column="3" Grid.Row="2" Width="200"
                          HorizontalAlignment="Left" VerticalAlignment="Top"
                          AutoComplete="False" Margin="0,3,0,0" Name="cmbCode" 
                          ImmediatePopup="True" IncrementalFiltering="True" 
                          FilterCondition="Contains"
                          ApplyItemTemplateToSelectedItem="False"
                          SelectionStart="0" AllowDefaultButton="False" IsEnabled="{Binding DataContext.IsVEnable,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}" 
                          Text="{Binding DataContext.StrCode,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}" 
                          ItemsSource="{Binding DataContext.AutoFillRoadmapList,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}"
                          EditValue="{Binding LinkedTo ,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                          IsSynchronizedWithCurrentItem="True">
            <!--<i:Interaction.Triggers>
                <i:EventTrigger EventName="KeyDown">
                    <i:InvokeCommandAction Command="{Binding DataContext.AutoFillTextCommand,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>-->
        </dxe:ComboBoxEdit>
        <!--<dxe:ComboBoxEdit   Grid.Column="3" Grid.Row="2" Width="200" Margin="0,3,0,0"   HorizontalAlignment="Left" VerticalAlignment="Top"
    SelectionStart="0"                  
   
    Text="{Binding LoginImpersonateName}"
                            Text="{Binding DataContext.StrCode,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}" 
    SelectedIndex="{Binding SelectedIndexImpersonateUser}"
    ApplyItemTemplateToSelectedItem="True" 
    AllowDefaultButton="False"
    ItemsSource="{Binding DataContext.codeList,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}"
    AutoComplete="True" 
    IsTextEditable="True"
    ImmediatePopup="True"
    IncrementalFiltering="True" 
 TabIndex="0" 
                x:Name="UserControlImpersonate" 
    FocusManager.FocusedElement="{Binding ElementName=UserControlImpersonate}"
              />-->
        <Label Content="Name"
               Grid.Column="0" Grid.Row="2">
        </Label>
        <dxe:TextEdit Width="200"
                       HorizontalAlignment="Left"                      
                       VerticalContentAlignment="Top"
                       HorizontalContentAlignment="Left"
                       AcceptsReturn="True"
                       Grid.Row="2"
                       Grid.Column="1"
                       VerticalAlignment="Top"
                       Margin="0,3,0,0">
            <dxe:TextEdit.EditValue>
                <Binding Path="Title" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" >
                    <Binding.ValidationRules>
                        <UIValidation:CustomRequiredFieldValidation  ValidationMessage="Please Fill the Value." ValidationStep="UpdatedValue"   />
                    </Binding.ValidationRules>
                </Binding>
            </dxe:TextEdit.EditValue>
        </dxe:TextEdit>

        <Label  Content="Priority" 
                Grid.Column="2" 
                Grid.Row="3" >
        </Label>
        <!--<StackPanel Grid.Row="2"
                    HorizontalAlignment="left"
                    Orientation="Vertical"
                    Margin="0,0,0,0"
                    Grid.Column="4">
            <dxe:TrackBarEdit x:Name="Priority" Width="200" Grid.Row="1" Grid.Column="1"  Grid.RowSpan="2" Margin="0,3" Minimum="0" Maximum="100" SmallStep="10" LargeStep="10" >
                <dxe:TrackBarEdit.StyleSettings>
                    <dxe:TrackBarZoomStyleSettings/>
                </dxe:TrackBarEdit.StyleSettings>
            </dxe:TrackBarEdit>
        </StackPanel>-->
        <StackPanel Grid.Row="3"
                    HorizontalAlignment="left"
                    VerticalAlignment="Top"
                    Orientation="Vertical"
                    Margin="0,4,24,0"
                    Width="200"
                    Grid.Column="4"
                    Grid.RowSpan="2">
            <dxe:ComboBoxEdit  VerticalAlignment="Center"                       

                           Width="200" 
                           IsTextEditable="False" 
                           ItemsSource="{Binding DataContext.RoadMapPriorityList, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}"
                           Style="{StaticResource ComboBoxEditStyle}"
                           DisplayMember="Value"
                           EditValue="{Binding IdRoadmapPriority,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                           IsSynchronizedWithCurrentItem="True"
                           ValueMember="IdLookupValue"
                           Grid.Row="3" Grid.Column="4" Margin="0,3"
                           NullText="Select Priority"/>
        </StackPanel>
        <Label Content= "Description"
               Grid.Column="0" 
               Grid.Row="3" 
               Width="120"
               HorizontalAlignment="Left" >
        </Label>
        <dxe:TextEdit  Width="200"
                       Height="50"                                       
                       HorizontalAlignment="Left"
                       VerticalScrollBarVisibility="Visible"
                       VerticalContentAlignment="Top"
                       HorizontalContentAlignment="Left"
                       AcceptsReturn="True"
                       Grid.Row="3"
                       Grid.Column="1"
                       Grid.RowSpan="2"
                       VerticalAlignment="Top"
                       Margin="0,0,0,0">
            <dxe:TextEdit.EditValue>
                <Binding Path="Description" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <UIValidation:CustomRequiredFieldValidation ValidationMessage="Please Fill the value." ValidationStep="UpdatedValue"/>
                    </Binding.ValidationRules>
                </Binding>

            </dxe:TextEdit.EditValue>
        </dxe:TextEdit>
        <Label  Content="Request Date" 
                Grid.Column="2" 
                Grid.Row="4" VerticalAlignment="Top">
        </Label>
        <StackPanel Grid.Row="4" Grid.Column="4" HorizontalAlignment="Left" VerticalAlignment="Top">
            <dxe:DateEdit  HorizontalAlignment="Left"
                       Width="200" 
                       Grid.Row="3" Grid.Column="4" Margin="0,3" NullText="Select a Date" ValidateOnTextInput="False" ValidateOnEnterKeyPressed="True"
                       EditValue="{Binding RequestDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            <!--<dxe:DateEdit.EditValue>
                <Binding Path="NewProjectWindowDescription" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Helper:CustomRequiredFieldValidation ValidationMessage="Please Fill The Valid Date." ValidationStep="UpdatedValue"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:DateEdit.EditValue>
            </dxe:DateEdit>-->
        </StackPanel>
        <StackPanel Grid.Row="5"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal"
                    Margin="100,0,0,0"
                    Width="250"
                    Grid.Column="1"
                    Grid.ColumnSpan="2">

            <Button Content="Accept"
                    Command="{Binding DataContext.NewRoadMapAcceptButtonCommand,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}"
                    Height="30"
                    Width="100"
                    Margin="0,0,30,0"
                    FontFamily="Calibri"
                    VerticalAlignment="Bottom" />

            <Button Content="Cancel"
                    Command="{Binding DataContext.NewRoadMapCancelButtonCommand,RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxwui:WinUIDialogWindow}}" 
                    Height="30"
                    Width="100"
                    Margin="0,0,30,0"
                    FontFamily="Calibri"
                    VerticalAlignment="Bottom"  />
        </StackPanel>
    </Grid>
</dxwui:WinUIDialogWindow>
