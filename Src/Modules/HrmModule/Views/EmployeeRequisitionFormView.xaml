<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Hrm.Views.EmployeeRequisitionFormView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.Views"
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:dxei="http://schemas.devexpress.com/winfx/2008/xaml/editors/internal"
             xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"                      
             xmlns:dxi="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"   
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300"
             Title="{DynamicResource erfFormTitle}"
             TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}"
             Style="{DynamicResource WinUIDialogWindowStyle}">


    
    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding CloseWindowCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>


    <Grid >

        <Grid.RowDefinitions>
            <RowDefinition Height="10"></RowDefinition>
            <RowDefinition Height="auto"></RowDefinition>
            <RowDefinition Height="14"></RowDefinition>
            <RowDefinition Height="50"></RowDefinition>
            
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="100"></ColumnDefinition>
            <ColumnDefinition Width="10"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
            <ColumnDefinition Width="20"></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <Label Content="Type" Grid.Column="0"  Grid.Row="1" HorizontalAlignment="Left" VerticalContentAlignment="Center"/>

        <dxe:ComboBoxEdit Grid.Column="2" Grid.Row="1" HorizontalAlignment="Left"  Width="210" 
                          DisplayMember="Value" ValueMember="IdLookupValue" 
                          IsTextEditable="False" 
                          Height="35" 
                          ItemsSource="{Binding DataContext.TypeINOUTList,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow, Mode=FindAncestor},UpdateSourceTrigger=PropertyChanged}"
                          ApplyItemTemplateToSelectedItem="True"
                          IsSynchronizedWithCurrentItem="True"
                          AllowUpdateTwoWayBoundPropertiesOnSynchronization="True"
                                               
                          >
            <dxe:ComboBoxEdit.SelectedItem>
                <Binding Path="DataContext.SelectedType" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True"  UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Validation:EditPCMArticleValidation FieldName="SelectedType" ValidationStep="UpdatedValue"  ValidatesOnTargetUpdated="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:ComboBoxEdit.SelectedItem>


            <dxe:ComboBoxEdit.ItemTemplate>
                <DataTemplate>
                    <DockPanel>
                        <!--//shubham[skadam] GEOS2-3899 Add support for lookupvalues fields (inuse, backcolor, icon) in the ERF report 27 Sep 2022-->
                        <Image Height="24" Width="24" Source="{Binding ImageData}">
                            <!--<Image.Style>
                                <Style>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding IdLookupValue}" Value="1483"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Hrm;component/Assets/Images/b_up.png"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding IdLookupValue}" Value="1484"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Hrm;component/Assets/Images/b_Down.png"/>
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Image.Style>-->
                        </Image>
                        <TextBlock Text="{Binding Value}" Padding="0" HorizontalAlignment="Left" VerticalAlignment="Center" />
                    </DockPanel>
                </DataTemplate>
            </dxe:ComboBoxEdit.ItemTemplate>


        </dxe:ComboBoxEdit>


        <StackPanel Grid.Row="3" 
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    Orientation="Horizontal" 
                    Width="290" Grid.Column="2">

            <Button Content="{DynamicResource Accept}"
                            Command="{Binding AcceptButtonCommand}"
                            Height="30"
                            Width="100"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Bottom" />

            <Button Content="{DynamicResource Cancel}"
                            Command="{Binding CloseWindowCommand}" 
                            Height="30"
                            Width="100"
                            Margin="10,0,0,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Bottom"/>
        </StackPanel>



    </Grid>
</dxwui:WinUIDialogWindow>
