<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Hrm.Views.AddNewLeaveViewWithSplitting"  
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
             xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.Views"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"                        
             mc:Ignorable="d" 
             xmlns:Validation="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
             xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"             
             xmlns:HrmApplication="clr-namespace:Emdep.Geos.Modules.Hrm"
             xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
xmlns:DataCommon="clr-namespace:Emdep.Geos.Data.Common.Hrm;assembly=Emdep.Geos.Data.Common"
xmlns:Views="clr-namespace:Emdep.Geos.Modules.Hrm.Views"
             d:DesignHeight="400" d:DesignWidth="600"
              Title="{Binding LeaveTitle,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}"
                   Style="{DynamicResource WinUIDialogWindowStyle}">

    <dxwui:WinUIDialogWindow.Resources>
        <UIConverter:DateFormatConverter x:Key="DateFormatConverter" />
        <sys:String x:Key="ShortDateTimeFormat">dd/MM/yyyy hh:mm tt</sys:String>
        <sys:String x:Key="ShortTimeFormat">hh:mm tt</sys:String>
        <sys:String x:Key="ShortDateFormat">dd/MM/yyyy</sys:String>
    </dxwui:WinUIDialogWindow.Resources>
    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape"  Command="{Binding AddNewLeaveViewCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>


    <Grid ShowGridLines="False" Margin="0 -50 0 0">
        <Grid.Resources>
            <BooleanToVisibilityConverter x:Key="BoolToVis" />
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Button Grid.Row="0"
                Grid.Column="1"
                Height="40"
                Width="40"
                HorizontalAlignment="Right"
                CommandParameter="{Binding ElementName=pageViewAttendanceSplit}"
                Command="{Binding SplitButtonCommand}"
                Content=" " 
                Visibility="{Binding IsSplitVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,Converter={StaticResource BoolToVis},FallbackValue=Hidden}">

            <!--IsEnabled="{Binding Source={x:Static HrmApplication:HrmCommon.Instance}, Path=IsPermissionEnabled}"-->
            <Button.ToolTip>
                <TextBlock Text="{DynamicResource ButtonSplit}" />
            </Button.ToolTip>
            <Button.ContentTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Image Grid.Column="0"
                            Height="24"
                            Width="24"
                            Margin="-10"
                            Source="{DynamicResource SplitImageSource}"  />
                    </Grid>
                    <!--<Image Height="40"
                           Width="40"
                           Source="{DynamicResource SplitImageSource}" 
                           Stretch="UniformToFill"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center" />-->
                </DataTemplate>
            </Button.ContentTemplate>
        </Button>
        
        <dxwui:PageView x:Name="pageViewAttendanceSplit"
                        Grid.Row="1"
                        Margin="0,5,0,0"
                        AnimationType="SlideHorizontal"
                        Background="Transparent"
                        BorderThickness="0,0,0,0"
                        ShowBackButton="True"
                        SelectedIndex="{Binding SelectedViewIndex}">
            <!--SelectedIndex="{Binding SelectedViewIndex}"-->
            <dxwui:PageViewItem Margin="0,0,0,0" Background="LightGreen"
                                Height="0"
                                DataContext="{Binding}"
                                ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                ScrollViewer.VerticalScrollBarVisibility="Auto"
                                UseLayoutRounding="True">
                <Views:AddNewLeaveUserControlView x:Name="AddNewLeaveUserControlView"
                                      MinHeight="300"
                                      Height="Auto"
                                      MaxHeight="500"
                                      DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType={x:Type Window}}}" />
            </dxwui:PageViewItem>

            <dxwui:PageViewItem Margin="0,0,0,0" Background="LightBlue"
                                Height="0"
                                DataContext="{Binding}"
                                ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                ScrollViewer.VerticalScrollBarVisibility="Auto"
                                UseLayoutRounding="True">
                <Views:AddNewLeaveSplitView x:Name="AddNewLeaveSplitView"
                                            Height="Auto"
                                            MinHeight="300"
                                            MaxHeight="500"
                                            DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType={x:Type Window}}}" />
            </dxwui:PageViewItem>
        </dxwui:PageView>
    </Grid>
    
    <!--<Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
            <RowDefinition Height="AUTO"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="120"/>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="120"/>
            <ColumnDefinition Width="150"/>
        </Grid.ColumnDefinitions>

        <Label Grid.Row="0" Grid.Column="0" Content="{DynamicResource Employee}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,5,5,5"/>
        <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}"  Grid.Column="1" 
                          Grid.Row="0" Grid.ColumnSpan="2" Height="30"  Margin="5,5,5,5" 
                          ItemsSource="{Binding EmployeeListFinal,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged }" 
                          DisplayMember="FullName" ValueMember="IdEmployee"  IsTextEditable="False" ValidateOnTextInput="False"
                          AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                          IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                          EditValue="{Binding SelectedEmployeeList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
            <dxe:ComboBoxEdit.StyleSettings>
                <dxe:CheckedComboBoxStyleSettings />
            </dxe:ComboBoxEdit.StyleSettings>
            
            <dxe:ComboBoxEdit.SelectedIndex>
                <Binding Path="SelectedIndexForEmployee" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules >
                        <Validation:LeaveValidations FieldName="SelectedIndexForEmployee" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:ComboBoxEdit.SelectedIndex>
         --><!--[0001][04/08/2020][sjadhav][SPRINT 84][GEOS2-2437][GHRM - Employee Leaves export report [#ERF59]]--><!--
            <dxmvvm:Interaction.Triggers>
                <dxmvvm:EventToCommand EventName="PopupClosed"
                                               Command="{Binding DataContext.EmployeePopupClosedCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                               PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Triggers>

            --><!--<dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="SelectedIndexChanged"
                                       Command="{Binding DataContext.SelectedIndexChangedCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                       PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>--><!--
        </dxe:ComboBoxEdit>

--><!--[0001][04/08/2020][sjadhav][SPRINT 84][GEOS2-2437][GHRM - Employee Leaves export report [#ERF59]]-->
        <!--Shift--><!--
        <Label Grid.Row="1" Grid.Column="0" Content="{DynamicResource AttendanceShift}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,5,5,5"  Visibility="{Binding ShiftVisibility}"/>
        <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}"  
                              Grid.Column="1" Grid.Row="1" Grid.ColumnSpan="2"
                              Height="30" Margin="5,5,5,5"  Visibility="{Binding ShiftVisibility}"
                              ItemsSource="{Binding EmployeeShiftList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                              DisplayMember="CompanyShift.Name" ValueMember="CompanyShift.IdCompanyShift"  IsTextEditable="False" ValidateOnTextInput="False"
                              AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                              ApplyItemTemplateToSelectedItem="True"
                              IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">

            <dxe:ComboBoxEdit.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Margin="5 0">
                            <TextBlock.Style>
                                <Style>
                                    <Setter Property="TextBlock.Text" Value="{Binding CompanyShift.Name}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IdCompanyShift}" Value="0">
                                            <Setter Property="TextBlock.Text" Value="- - -" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>                        
                        <TextBlock>
                            <TextBlock.Style>
                                <Style>
                                    <Setter Property="TextBlock.Text" Value="-"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IdCompanyShift}" Value="0">
                                            <Setter Property="TextBlock.Text" Value="{x:Null}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>

                        <TextBlock Margin="5 0">
                            <TextBlock.Style>
                                <Style>
                                    <Setter Property="TextBlock.Text" Value="{Binding CompanyShift.CompanySchedule.Company.Alias}"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IdCompanyShift}" Value="0">
                                            <Setter Property="TextBlock.Text" Value="{x:Null}" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </StackPanel>
                </DataTemplate>
           </dxe:ComboBoxEdit.ItemTemplate>
           
            <dxe:ComboBoxEdit.SelectedIndex>
                <Binding Path="SelectedIndexForCompanyShift" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules >
                        <Validation:AttendanceValidation FieldName="SelectedIndexForCompanyShift" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:ComboBoxEdit.SelectedIndex>

            <dxe:ComboBoxEdit.ItemContainerStyle>
                <Style TargetType="dxe:ComboBoxEditItem">
                    <Setter Property="IsEnabled" Value="{Binding IsEnabled}" />
                </Style>
            </dxe:ComboBoxEdit.ItemContainerStyle>
            
            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="SelectedIndexChanged"
                                           Command="{Binding DataContext.SelectedIndexChangedForCompanyShiftCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                           PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>
        </dxe:ComboBoxEdit>

        --><!--FromDate--><!--

        <Label Content= "{DynamicResource LeaveStartTime}" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Margin="5 5 5 5" HorizontalAlignment="Left" Height="30" FontSize="16" />

        <dxe:DateEdit  Grid.Row="2" Grid.Column="1" 
                       Margin="5 5 5 5" HorizontalAlignment="Stretch" VerticalAlignment="Center"                        
                       AllowNullInput="True"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">

            <dxe:DateEdit.EditValue>
                <Binding Path="StartDate" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay"
                                                  ValidatesOnDataErrors="True">
                    <Binding.ValidationRules>
                        <Validation:LeaveValidations FieldName="StartDate" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:DateEdit.EditValue>

            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnDateEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>
        </dxe:DateEdit>

        <dxe:ComboBoxEdit Grid.Row="2" Grid.Column="2" Height="25" VerticalAlignment="Top" Margin="5,5,5,5"  
                                                   IsEnabled="{Binding InvertIsAllDayEvent,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    ItemsSource="{Binding FromDates}"
                                                    MaskType="DateTimeAdvancingCaret" Mask="{Binding TimeEditMask,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    DisplayFormatString="{Binding TimeEditMask,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged }" HorizontalAlignment="Stretch"
                                                   IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
            <dxe:ComboBoxEdit.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding Converter={StaticResource DateFormatConverter}}"/>
                </DataTemplate>
            </dxe:ComboBoxEdit.ItemTemplate>
            <dxe:ComboBoxEdit.SelectedItem>
                <Binding Path="DataContext.StartTime" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Validation:LeaveValidations FieldName="StartTime" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:ComboBoxEdit.SelectedItem>

            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="SelectedIndexChanged" Command="{Binding DataContext.OnTimeEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>
        </dxe:ComboBoxEdit>


        --><!--ToDate--><!--

        <Label Content= "{DynamicResource LeaveEndTime}" Grid.Row="3" Grid.Column="0"  HorizontalAlignment="Left" Margin="5 5 5 5" Height="30" FontSize="16" />


        <dxe:DateEdit Grid.Row="3" Grid.Column="1" ValidateOnEnterKeyPressed="True"
                      Margin="5 5 5 5" HorizontalAlignment="Stretch" VerticalAlignment="Center"
                      AllowNullInput="True" 
                      IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
            <dxe:DateEdit.EditValue>
                <Binding Path="EndDate" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay"
                                                 ValidatesOnDataErrors="True">
                    <Binding.ValidationRules>
                        <Validation:LeaveValidations FieldName="EndDate" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:DateEdit.EditValue>
            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnDateEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>

        </dxe:DateEdit>

        <dxe:ComboBoxEdit Grid.Row="3" Grid.Column="2" Height="25" VerticalAlignment="Top" Margin="5,5,5,5" 
                                                  IsEnabled="{Binding InvertIsAllDayEvent,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    ItemsSource="{Binding ToDates}" 
                                                    MaskType="DateTimeAdvancingCaret" Mask="{Binding TimeEditMask,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    DisplayFormatString="{Binding TimeEditMask,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged }" HorizontalAlignment="Stretch" 
                                                   IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
            <dxe:ComboBoxEdit.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding Converter={StaticResource DateFormatConverter}}"/>
                </DataTemplate>
            </dxe:ComboBoxEdit.ItemTemplate>
            <dxe:ComboBoxEdit.SelectedItem>
                <Binding Path="DataContext.EndTime" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                    <Binding.ValidationRules>
                        <Validation:LeaveValidations FieldName="EndTime" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                    </Binding.ValidationRules>
                </Binding>
            </dxe:ComboBoxEdit.SelectedItem>
            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="SelectedIndexChanged" Command="{Binding DataContext.OnTimeEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>
        </dxe:ComboBoxEdit>



        <dxe:CheckEdit Content="{DynamicResource AllDayEvent}" Grid.Row="2" Grid.Column="3" x:Name="chkAllDay" Height="30" FontSize="16"
                                      Margin="5 5 5 5"
                                     HorizontalAlignment="Left" 
                                     IsChecked="{Binding IsAllDayEvent,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" 
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="Checked" Command="{Binding DataContext.CheckedCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"></dxmvvm:EventToCommand>
                <dxmvvm:EventToCommand EventName="Unchecked" Command="{Binding DataContext.CheckedCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"></dxmvvm:EventToCommand>
            </dxmvvm:Interaction.Behaviors>
        </dxe:CheckEdit>

        <Label Grid.Row="4" Grid.Column="0" Content="{DynamicResource LeaveType}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,5,5,5"/>
        <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}" Grid.Column="1" Grid.Row="4" Grid.ColumnSpan="2"  Height="30"  Margin="5,5,5,5" HorizontalAlignment="Stretch"  
                          ItemsSource="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=EmployeeLeaveList}"
                          DisplayMember="Value" ValueMember="IdLookupValue" 
                          IsTextEditable="False" ValidateOnTextInput="False"
                          AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                          IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
            <dxe:ComboBoxEdit.SelectedIndex>
                <Binding Path="SelectedLeaveType" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">

                </Binding>
            </dxe:ComboBoxEdit.SelectedIndex>
        </dxe:ComboBoxEdit>

        <Label Grid.Row="5" Grid.Column="0" Content="{DynamicResource LeaveRemarks}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,5,5,5"/>
        <TextBox Margin="5,5,5,5" Grid.Row="5" Grid.Column="1" Grid.ColumnSpan="2"  Height="90" TextWrapping="Wrap" Text="{Binding Remarks,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                 VerticalAlignment="Stretch" HorizontalAlignment="Stretch" ScrollViewer.VerticalScrollBarVisibility="Auto" 
                 AcceptsReturn="True"
                 IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
        </TextBox>

        <Label Grid.Row="6" Grid.Column="0" Content="{DynamicResource LeaveAttachment}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,5,5,5"/>


        <dxe:ComboBoxEdit x:Name="editor" Grid.Row="6" Grid.Column="1" Grid.ColumnSpan="2" Height="30" 
                          EditValue="{Binding DataContext.AttachmentObjectList,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow,Mode=FindAncestor},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                          ItemsSource="{Binding DataContext.AttachmentList,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow,Mode=FindAncestor}}"
                          ScrollViewer.VerticalScrollBarVisibility="Auto"
                          DisplayMember="OriginalFileName"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Center"
                          AllowDefaultButton="False"
                          AutoComplete="True"
                          ImmediatePopup="True" Margin="5 5 5 5"
                          ValidateOnEnterKeyPressed="True" 
                          ValidateOnTextInput="True"
                          IsTextEditable="False" Style="{DynamicResource ComboBoxEditStyle}" 
                          IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                          SelectedItem="{Binding AttachedFile,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">

            <dxe:ComboBoxEdit.StyleSettings>
                <dxe:TokenComboBoxStyleSettings  NewTokenPosition="Far" EnableTokenWrapping="True"  />
            </dxe:ComboBoxEdit.StyleSettings>
            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand EventName="EditValueChanged"
                                                           Command="{Binding DataContext.SelectedItemChangedCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                           PassEventArgsToCommand="True"/>
            </dxmvvm:Interaction.Behaviors>
        </dxe:ComboBoxEdit>
        <Button Name="btnViewLeaveFile" ToolTip="View Document" Grid.Row="6" Grid.Column="3" Height="30" Width="40" 
                Visibility="{Binding DataContext.IsVisible,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow,Mode=FindAncestor},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                Command="{Binding DocumentViewCommand}"
                                   HorizontalAlignment="Left" >
            <Button.ContentTemplate>
                <DataTemplate>
                    <Image Height="16" Width="16" Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/pdf-icon.png" />
                </DataTemplate>
            </Button.ContentTemplate>
            <Button.Style>
                <Style TargetType="{x:Type Button}">
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter  Property="Cursor" Value="Hand"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Button.Style>
        </Button>


        <Button Content= "{DynamicResource ChooseFile}"
                    Height="30"  
                    Grid.Row="7" Grid.Column="1"
                    Width="120" 
                    Margin="5,5,5,5"
                    FontSize="16"
                    HorizontalAlignment="Right"   
                   VerticalAlignment="Center" 
                   Command="{Binding ChooseFileCommandForLeave}" Style="{DynamicResource ButtonStyle}" 
                   IsEnabled="{Binding IsAcceptEnabled}"
                   Grid.ColumnSpan="2"/>
        <StackPanel Orientation="Horizontal" Grid.Column="1" Grid.Row=" 8" Grid.ColumnSpan="2">
            <Button Content="{DynamicResource Accept}"
                Command="{Binding AddNewLeaveAcceptButtonCommand}"
                   FontSize="16"
                    Height="30"
                    Width="100"
                    Margin="5,5,15,5"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom" 
                    IsEnabled="{Binding IsAcceptEnabled}"/>

            <Button Content="{DynamicResource Cancel}"
                Command="{Binding CancelCommandForLeave}" 
                   FontSize="16"
                    Height="30"
                    Width="100"
                    Margin="5,5,5,5"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom" />
        </StackPanel>



    </Grid>-->
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="KeyDown">
            <behaviors:InvokeDelegateCommandAction Command="{Binding CommandTextInput}" CommandParameter="{Binding Path=InvokeParameter, RelativeSource={RelativeSource Self}}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
</dxwui:WinUIDialogWindow> 
