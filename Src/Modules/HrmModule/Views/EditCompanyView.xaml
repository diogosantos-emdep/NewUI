<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Hrm.Views.EditCompanyView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.Views"
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
             xmlns:HrmApplication="clr-namespace:Emdep.Geos.Modules.Hrm"
             xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
             xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" 
             xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid" 
             xmlns:Converters="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
             xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations" 
             mc:Ignorable="d" 
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys"
             xmlns:dxci="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
             d:DesignHeight="300" d:DesignWidth="300" 
             Style="{DynamicResource WinUIDialogWindowStyle}">
    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding EditCompanyViewCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>
    <dxwui:WinUIDialogWindow.Resources>
        <dxmvvm:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <Style x:Key="{dxet:EditorListBoxThemeKey ResourceKey=CheckBoxItemStyle, IsThemeIndependent=True}" TargetType="{x:Type dxe:ListBoxEditItem}" BasedOn="{StaticResource {dxet:EditorListBoxThemeKey ResourceKey=CheckBoxItemStyle}}" >
            <Setter Property="Margin" Value="10,0,0,0"/>
        </Style>
    </dxwui:WinUIDialogWindow.Resources>


    <!--<ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Auto">-->
    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="40"/>

        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="380"/>
            <ColumnDefinition Width="860"/>
        </Grid.ColumnDefinitions>
        <TextBlock Text="{Binding WindowHeader,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  Grid.Row="0" Style="{DynamicResource TextBlock25Style}" FontWeight="Bold" Margin="0,0,5,0"/>
        <Button Content=" " Height="40" Width="40" Grid.Row="0" Grid.Column="1" Command="{Binding  DataContext.PrintCompanyDetailsCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                 HorizontalAlignment="Right" Margin="0 0 15 5" >


            <Button.ToolTip>
                <TextBlock Text="Print Report"/>
            </Button.ToolTip>
            <Button.ContentTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Image Style="{ DynamicResource PrinterButtonImageStyle}" Grid.Column="1" Height="24" Width="24" HorizontalAlignment="Right" Margin="-10" />
                    </Grid>
                </DataTemplate>
            </Button.ContentTemplate>
        </Button>
        <dxlc:FlowLayoutControl Orientation="Vertical" ItemSpace="12" LayerSpace="12" Background="Transparent" 
                                AllowMaximizedElementMoving="False" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
                                BreakFlowToFit="True" MaximizedElementPosition="Right" >

            <dxmvvm:Interaction.Behaviors>
                <UIHelper:FlowLayoutControlForMinimiseMaximise/>
            </dxmvvm:Interaction.Behaviors>


            <!--Information-->
            <dxlc:GroupBox x:Name="Information" Width="300" Height="140" MaximizeElementVisibility="Visible" >
                <dxlc:GroupBox.Style>
                    <Style TargetType="dxlc:GroupBox">
                        <Setter Property="Header">
                            <Setter.Value>
                                <Grid >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{DynamicResource EmployeePI}" HorizontalAlignment="Left" FontWeight="Bold" VerticalAlignment="Center"/>
                                    <!--<TextBlock Grid.Column="1" Text="{Binding DataContext.IsInformationError, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Left" FontWeight="Bold" VerticalAlignment="Center"/>-->
                                    <dxe:ErrorControl Grid.Column="3" HorizontalAlignment="Right"   Content="{Binding}" ToolTip="{Binding DataContext.InformationError,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                                        <dxe:ErrorControl.Style>
                                            <Style TargetType="dxe:ErrorControl">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding DataContext.IsInformationError, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="True">
                                                        <Setter Property="Visibility" Value="{Binding Path=Tag.(dxe:ValidationService.HasValidationError), Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"></Setter>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding DataContext.IsInformationError, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="False">
                                                        <Setter Property="Visibility" Value="Hidden"></Setter>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </dxe:ErrorControl.Style>
                                    </dxe:ErrorControl>
                                </Grid>
                            </Setter.Value>
                        </Setter>

                    </Style>
                </dxlc:GroupBox.Style>

                <!--<dxlc:GroupBox.HeaderTemplate>
                        <DataTemplate>
                            <DockPanel Margin="-5,0,0,0">
                                <TextBlock Margin="0,0,0,0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource EditCompanyViewInformation}" />
                                <dxe:TextEdit  FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center"  ShowBorder="False" IsReadOnly="True">
                                    <Binding Path="DataContext.InformationError" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                        <Binding.ValidationRules>
                                            <Validation:CompanyValidation FieldName="InformationError" ValidationStep="UpdatedValue" />
                                        </Binding.ValidationRules>
                                    </Binding>
                                </dxe:TextEdit>
                            </DockPanel>
                        </DataTemplate>
                    </dxlc:GroupBox.HeaderTemplate>-->
                <!--<dxlc:GroupBox.HeaderTemplate>
                        <DataTemplate>
                            <DockPanel Margin="-5,0,0,0">
                                <TextBlock Text="{DynamicResource EditCompanyViewInformation}" Margin="5,0,0,0" FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    />
                            </DockPanel>
                        </DataTemplate>
                    </dxlc:GroupBox.HeaderTemplate>-->
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="10" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30" />
                                <RowDefinition Height="30" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource EditCompanyGroup}" Grid.Row="0" Grid.Column="0" Margin="2" Padding="2" FontWeight="Bold" />
                            <Label Content=":" Grid.Row="0" Grid.Column="1" Margin="2" FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="2" Margin="2" Padding="2"
                                       Text="{Binding DataContext.SelectedGroup, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />

                            <Label Content="{DynamicResource EditCompanyPlant}" Grid.Row="1" Grid.Column="0" Margin="2" Padding="2" FontWeight="Bold" />
                            <Label Content=":" Grid.Row="1" Grid.Column="1" Margin="2" FontWeight="Bold" />
                            <TextBlock Grid.Row="1" Grid.Column="2" Margin="2" Padding="2"
                                       Text="{Binding DataContext.PlantName, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}"
                                       TextWrapping="Wrap"
                                           />
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>
                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto" >
                            <Grid  >
                                <Grid.ColumnDefinitions >
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="10"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions >
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>

                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>

                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                    <RowDefinition Height="Auto"></RowDefinition>
                                </Grid.RowDefinitions>

                                <dxe:ImageEdit MinHeight="100" Height="200" HorizontalAlignment="Stretch" Source="{Binding DataContext.SiteImage,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                             Grid.Row="0" Grid.Column="0"   ShowMenu="True" 
                                             IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" VerticalAlignment="Top">

                                    <dxe:ImageEdit.Style >
                                        <Style>
                                            <Style.Triggers >
                                                <DataTrigger Binding="{Binding DataContext.IsPhoto,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="false">
                                                    <Setter Property="dxe:ImageEdit.Stretch" Value="None" ></Setter>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </dxe:ImageEdit.Style>
                                </dxe:ImageEdit>

                                <Grid Grid.Row="0" Grid.Column="2" >

                                    <Grid.RowDefinitions >
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="10"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="10"></RowDefinition>
                                        <RowDefinition Height="auto"></RowDefinition>
                                        <RowDefinition Height="auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="10"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                
                                    </Grid.RowDefinitions>
                                  
                                    <!--CONTACT-->
                                    <dxlc:GroupBox Grid.Row="0"  Grid.Column="0"  HorizontalAlignment="Stretch" MinHeight="100" Height="180" 
                                               Header="{DynamicResource EditCompanyContact}">
                                        <dxlc:GroupBox.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Vertical">
                                                    <Grid >
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="35" />
                                                            <RowDefinition Height="35" />
                                                            <RowDefinition Height="35" />
                                                            <RowDefinition Height="35" />
                                                        </Grid.RowDefinitions>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="100" />
                                                            <ColumnDefinition Width="*" />
                                                            <ColumnDefinition Width="24" />
                                                        </Grid.ColumnDefinitions>

                                                        <!--Phone-->
                                                        <Label Content="{DynamicResource EditCompanyViewPhone}" Grid.Row="0" Grid.Column="0" HorizontalAlignment="Left" />
                                                        <dxe:TextEdit Text="{Binding DataContext.TelephoneNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                  Grid.Row="0"
                                                                  Grid.Column="1"
                                                                  Grid.ColumnSpan="2"
                                                                  
                                                                  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                                               IsReadOnly="{Binding DataContext.IsReadOnlyField, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">

                                                            <dxe:TextEdit.EditValue>
                                                                <Binding Path="DataContext.TelephoneNumber" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:CompanyValidation FieldName="TelephoneNumber" />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:TextEdit.EditValue>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                                            </dxmvvm:Interaction.Behaviors>
                                                        </dxe:TextEdit>


                                                        <!--Email-->
                                                        <Label Content="{DynamicResource EditCompanyViewEmail}" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" />
                                                        <dxe:TextEdit x:Name="Email" Text="{Binding DataContext.Email, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                  Grid.Row="1"
                                                                  Grid.Column="1"
                                                                  MaskType="RegEx"
                                                                  Mask="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}" 
                                                                  InvalidValueBehavior="AllowLeaveEditor"
                                                                  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                                               IsReadOnly="{Binding DataContext.IsReadOnlyField, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                            <dxe:TextEdit.EditValue>
                                                                <Binding Path="DataContext.Email" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:CompanyValidation FieldName="Email" />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:TextEdit.EditValue>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                                            </dxmvvm:Interaction.Behaviors>
                                                        </dxe:TextEdit>
                                                        <Button Grid.Row="1" Grid.Column="2"
                                                            Content="" Width="24" Height="24" HorizontalAlignment="Right" VerticalAlignment="Top"
                                                            Margin="0"
                                                            Command="{Binding DataContext.HyperlinkForEmail,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                            CommandParameter="{Binding ElementName=Email, Path=EditValue}">
                                                            <Button.ContentTemplate>
                                                                <DataTemplate>
                                                                    <Image Style="{DynamicResource EmailColorImageStyle}" Grid.Column="0" Height="16" Width="16" Margin="-10" />
                                                                </DataTemplate>
                                                            </Button.ContentTemplate>
                                                            <Button.ToolTip>Email</Button.ToolTip>
                                                        </Button>

                                                        <!--Fax-->
                                                        <Label Content="{DynamicResource EditCompanyViewFax}" Grid.Row="2" Grid.Column="0" HorizontalAlignment="Left" />
                                                        <dxe:TextEdit EditValue="{Binding DataContext.Fax, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                  Grid.Row="2" Grid.Column="1"
                                                                  Grid.ColumnSpan="2"
                                                                  AllowNullInput="True"
                                                              MaxLength="20"
                                                                  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                                                  IsReadOnly="{Binding DataContext.IsReadOnlyField, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"/>

                                                        <!--Website-->
                                                        <Label Content="{DynamicResource EditCompanyViewWebsite}" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" />
                                                        <dxe:TextEdit x:Name="GoToWebsite" 
                                                              Text="{Binding DataContext.Website, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                               EditValue="{Binding DataContext.Website, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                              Grid.Row="3" Grid.Column="1"
                                                                  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                                                  IsReadOnly="{Binding DataContext.IsReadOnlyField, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"/>
                                                        <Button Grid.Row="3" Grid.Column="2"
                                                            Margin="0"
                                                            Content="" Width="24" Height="24" HorizontalAlignment="Right" VerticalAlignment="Top"
                                                            Command="{Binding DataContext.HyperlinkForWebsite,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                            CommandParameter="{Binding ElementName=GoToWebsite, Path=EditValue}">
                                                            <Button.ContentTemplate>
                                                                <DataTemplate>
                                                                    <Image Style="{DynamicResource WebColorImageStyle}" Grid.Column="0" Height="16" Width="16" Margin="-10" />
                                                                </DataTemplate>
                                                            </Button.ContentTemplate>
                                                            <Button.ToolTip>Go to Website</Button.ToolTip>
                                                        </Button>
                                                    </Grid>
                                                </StackPanel>
                                            </DataTemplate>
                                        </dxlc:GroupBox.ContentTemplate>
                                    </dxlc:GroupBox>
                                    <!--LOCATION-->
                                    <dxlc:GroupBox Grid.Row="3" Grid.Column="0" Grid.RowSpan="8"
                                       Header="{DynamicResource EditCompanyViewLocation}" VerticalAlignment="Top" >
                                        <dxlc:GroupBox.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Vertical">
                                                    <Grid>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="35" />
                                                            <RowDefinition Height="35" />
                                                            <RowDefinition Height="35" />
                                                            <RowDefinition Height="35" />
                                                            <RowDefinition Height="35" />
                                                            <RowDefinition Height="35" />
                                                            <RowDefinition Height="35" />
                                                        </Grid.RowDefinitions>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="100" />
                                                            <ColumnDefinition Width="20" />
                                                            <ColumnDefinition Width="290" />
                                                        </Grid.ColumnDefinitions>
                                                        <!--Address-->
                                                        <Label Content="{DynamicResource EditCompanyViewAddress}" Grid.Row="0" Grid.Column="0" Width="100" HorizontalAlignment="Left" />
                                                        <dxe:TextEdit Text="{Binding DataContext.Address,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="2"
                                                        Grid.Column="2"
                                                        HorizontalAlignment="Stretch"
                                                        MaxLength="500"
                                                        Height="65"
                                                        AcceptsReturn="True"
                                                        TextWrapping="Wrap"
                                                        VerticalScrollBarVisibility="Visible"
                                                        VerticalAlignment="Top" 
                                                        IsReadOnly="{Binding DataContext.IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">

                                                            <dxe:TextEdit.EditValue>
                                                                <Binding Path="DataContext.Address" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:CompanyValidation FieldName="Address" />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:TextEdit.EditValue>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                                            </dxmvvm:Interaction.Behaviors>
                                                        </dxe:TextEdit>


                                                        <!-- Location Image -->

                                                        <Image Grid.Row="0" Grid.Column="1" Height="16" Width="16" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.RowSpan="2" >

                                                            <Image.Style>
                                                                <Style>
                                                                    <Setter Property="Image.Source" Value="{DynamicResource MapLocationImageStyle}" />
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding DataContext.IsCoordinatesNull, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="True">
                                                                            <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Hrm;component/Assets/Images/gMapLocationSelected.png" />
                                                                            <Setter Property="Image.ToolTip" Value="{DynamicResource EditContactViewSetLocation}" />
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding DataContext.IsCoordinatesNull, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="False">
                                                                            <Setter Property="Image.ToolTip" Value="{DynamicResource EditContactViewSetLocation}" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Image.Style>
                                                            <Image.InputBindings>
                                                                <MouseBinding Gesture="LeftClick" Command="{Binding DataContext.SearchButtonClickCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                                                            </Image.InputBindings>
                                                        </Image>

                                                        <!--City-->
                                                        <Label Content="{DynamicResource EditCompanyViewCity}" Grid.Row="2" Grid.Column="0" HorizontalAlignment="Left" />

                                                        <dxe:ComboBoxEdit  Grid.Row="2" Grid.Column="2" VerticalAlignment="Top" MaxLength="50"
                                                                 ItemsSource="{Binding DataContext.CountryWiseCities, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" 
                                                                 IsTextEditable="True"                                                           
                                                                 AutoComplete="True" 
                                                                 ImmediatePopup="True" 
                                                                 SelectionStart="0"    
                                                                 IncrementalFiltering="True" 
                                                                 AllowDefaultButton="False"
                                                                 IsReadOnly="{Binding DataContext.IsReadOnlyField, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" >
                                                            <dxe:ComboBoxEdit.EditValue >
                                                                <Binding Path="DataContext.SelectedCity" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:CompanyValidation FieldName="SelectedCity"  ValidationStep="UpdatedValue"/>
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:ComboBoxEdit.EditValue>

                                                        </dxe:ComboBoxEdit>

                                                        <!--State-->
                                                        <Label Content="{DynamicResource EditCompanyViewState}" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" />
                                                        <dxe:ComboBoxEdit Grid.Row="3" Margin="0,0,0,5" Grid.Column="2"  MaxLength="100" VerticalAlignment="Top" 
                                                           ItemsSource="{Binding DataContext.CountryWiseRegions,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" 
                                                           IsTextEditable="True"                                                           
                                                           AutoComplete="True" 
                                                           ImmediatePopup="True" 
                                                           SelectionStart="0"    
                                                           IncrementalFiltering="True" 
                                                           AllowDefaultButton="False" Text="{Binding DataContext.StrSate,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                           SelectedIndex="{Binding DataContext.SateSelectedIndex,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                           IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" >
                                                            <dxe:ComboBoxEdit.EditValue >
                                                                <Binding Path="DataContext.State" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:CompanyValidation FieldName="State" />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:ComboBoxEdit.EditValue>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <dxmvvm:EventToCommand EventName="EditValueChanged" Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                                                <dxmvvm:EventToCommand EventName="TextChanged" Command="{Binding DataContext.CommonValueChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                                            </dxmvvm:Interaction.Behaviors>
                                                        </dxe:ComboBoxEdit>

                                                        <!--ZipCode-->
                                                        <Label Content="{DynamicResource EditCompanyViewZipCode}" Grid.Row="4" Grid.Column="0" HorizontalAlignment="Left" />
                                                        <dxe:TextEdit Text="{Binding DataContext.ZipCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                           Grid.Row="4" Grid.Column="2" TextTrimming="CharacterEllipsis" MaskUseAsDisplayFormat="True"
                              
                                                           AllowNullInput="True"
                                                           VerticalAlignment="Top" 
                                                           MaxLength="100"
                                                           IsReadOnly="{Binding DataContext.IsReadOnlyField, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                                            <dxe:TextEdit.EditValue>
                                                                <Binding Path="DataContext.ZipCode" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:CompanyValidation FieldName="ZipCode" />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:TextEdit.EditValue>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                                            </dxmvvm:Interaction.Behaviors>
                                                        </dxe:TextEdit>

                                                        <!--Country-->
                                                        <Label Content="{DynamicResource EditCompanyViewCountry}" Grid.Row="5" Grid.Column="0" HorizontalAlignment="Left" />
                                                        <dxe:ComboBoxEdit Grid.Row="5" Grid.Column="2"
                                                             ItemsSource="{Binding DataContext.CountryList,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}" 
                                                             DisplayMember="Name"
                                                             VerticalAlignment="Top" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True" IsTextEditable="False" ValidateOnTextInput="False"
                                                             IsReadOnly="{Binding DataContext.IsReadOnlyField,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}" >
                                                            <dxe:ComboBoxEdit.SelectedIndex>
                                                                <Binding Path="DataContext.SelectedCountryIndex" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:CompanyValidation FieldName="SelectedCountryIndex" ValidationStep="UpdatedValue" />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:ComboBoxEdit.SelectedIndex>
                                                        </dxe:ComboBoxEdit>

                                                        <!--Coordinates-->
                                                        <Label Content="{DynamicResource EditCompanyViewCoordinates}" Grid.Row="6" Grid.Column="0" HorizontalAlignment="Left" />
                                                        <dxe:TextEdit Text="{Binding DataContext.Coordinates,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                         Grid.Row="6" Grid.Column="2"
                                                         VerticalAlignment="Top" 
                                                         IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" ></dxe:TextEdit>

                                                    </Grid>
                                                </StackPanel>
                                            </DataTemplate>
                                        </dxlc:GroupBox.ContentTemplate>
                                    </dxlc:GroupBox>
                                    
                                    <!--[pallavi.kale][GEOS2-2497][07-03-25]-->
                                    <!--Company Logo-->
                                    <dxlc:GroupBox Grid.Row="13" Grid.Column="0"
                                          Header="{DynamicResource EditCompanyViewCorporateLogo}" VerticalAlignment="Top" >
                                        <dxlc:GroupBox.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Vertical">
                                                    <Grid >
                                                        <Grid.RowDefinitions>
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="Auto" />
                                                       
                                                        </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="100" />
                                                            <ColumnDefinition Width="20" />
                                                            <ColumnDefinition Width="290" />
                                                        </Grid.ColumnDefinitions>
                                                    <Label Content="{DynamicResource EditCompanyLogo}" Grid.Row="0" Grid.Column="0" Width="150" HorizontalAlignment="Left" />
                                                    <dxe:ComboBoxEdit Grid.Row="0" Grid.Column="2"
                                                        ItemsSource="{Binding DataContext.CompanyLogoList,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}" 
                                                        DisplayMember="Value" 
                                                        VerticalAlignment="Top" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True" IsTextEditable="False" ValidateOnTextInput="False"
                                                        IsReadOnly="{Binding DataContext.IsReadOnlyField,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}" >
                                                    <dxe:ComboBoxEdit.SelectedIndex>
                                                    <Binding Path="DataContext.SelectedCompanyLogoIndex" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                    <Binding.ValidationRules>
                                              <Validation:CompanyValidation FieldName="SelectedCompanyLogoIndex" ValidationStep="UpdatedValue" />
                                          </Binding.ValidationRules>
                                      </Binding>
                                  </dxe:ComboBoxEdit.SelectedIndex>
                                  <dxmvvm:Interaction.Triggers>
                                      <dxmvvm:EventToCommand EventName="PopupClosed"
                                      Command="{Binding DataContext.SelectionLogoChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                        PassEventArgsToCommand="True"/>
                                  </dxmvvm:Interaction.Triggers>
                                  <dxe:ComboBoxEdit.ItemContainerStyle>
                                      <Style TargetType="dxe:ComboBoxEditItem">
                                          <Style.Triggers>
                                              <DataTrigger Binding="{Binding InUse}" Value="False">
                                                  <Setter Property="IsEnabled" Value="False" />
                                              </DataTrigger>
                                          </Style.Triggers>
                                          <Setter Property="IsEnabled" Value="True" />
                                      </Style>
                                  </dxe:ComboBoxEdit.ItemContainerStyle>
                              </dxe:ComboBoxEdit>
                                                        <dxe:ImageEdit  Height="120" Source="{Binding DataContext.CompanyLogo,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                         Grid.Row="1" Grid.Column="2" ShowMenu="True" Stretch="Uniform"
                          IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">

                                                        </dxe:ImageEdit>

                                                    </Grid>
                           
                                                </StackPanel>
                                            </DataTemplate>
                                        </dxlc:GroupBox.ContentTemplate>
                                    </dxlc:GroupBox>

                                </Grid>

                                <Grid Grid.Row="1" Grid.Column="0" Grid.RowSpan="9" Margin="0,-390,0,0" >
                                    <Grid.RowDefinitions >
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>

                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                        <RowDefinition Height="Auto"></RowDefinition>
                                    </Grid.RowDefinitions>

                                    <Grid  Grid.Row="0" Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,-30,0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="{DynamicResource EditCompanyGroup}"  Width="150" HorizontalAlignment="Left"></TextBlock>
                                        <dxe:ComboBoxEdit x:Name="editor" Grid.Column="1" Height="25"
                                                  AutoComplete="True" ImmediatePopup="True" IsEnabled="False" 
                                                 IncrementalFiltering="True" IsTextEditable="False" ValidateOnTextInput="False" 
                                                 IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                            <dxe:ComboBoxEdit.EditValue >
                                                <Binding Path="DataContext.SelectedGroup" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                </Binding>
                                            </dxe:ComboBoxEdit.EditValue>
                                        </dxe:ComboBoxEdit>
                                    </Grid>
                                    <Grid  Grid.Row="3" Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,0,0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="{DynamicResource EditCompanyPlant}"  Width="150" HorizontalAlignment="Left"></TextBlock>
                                        <dxe:TextEdit  Height="30" Grid.Column="1"  HorizontalAlignment="Stretch" Text="{Binding DataContext.PlantName,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                            <dxe:TextEdit.EditValue>
                                                <Binding Path="DataContext.PlantName" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                    <Binding.ValidationRules>
                                                        <Validation:CompanyValidation FieldName="PlantName" />
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </dxe:TextEdit.EditValue>
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                            </dxmvvm:Interaction.Behaviors>
                                        </dxe:TextEdit>
                                    </Grid>
                                    <Grid  Grid.Row="4" Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,0,0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="{DynamicResource RegisteredName}"  Width="150"  HorizontalAlignment="Left"></TextBlock>
                                        <dxe:TextEdit Grid.Column="1"   Height="30"   HorizontalAlignment="Stretch" Text="{Binding DataContext.RegisteredName,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                          IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                            <dxe:TextEdit.EditValue>
                                                <Binding Path="DataContext.RegisteredName" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                    <Binding.ValidationRules>
                                                        <Validation:CompanyValidation FieldName="RegisteredName" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </dxe:TextEdit.EditValue>
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                            </dxmvvm:Interaction.Behaviors>
                                        </dxe:TextEdit>

                                    </Grid>
                                    <Grid  Grid.Row="5" Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,0,0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Text="{DynamicResource CompanyAbbreviation}" Width="150"></TextBlock>
                                        <dxe:TextEdit  Height="30" Grid.Column="1" Text="{Binding DataContext.Abbreviation,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                         HorizontalAlignment="Stretch" 
                                                    IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                            <dxe:TextEdit.EditValue>
                                                <Binding Path="DataContext.Abbreviation" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                    <Binding.ValidationRules>
                                                        <Validation:CompanyValidation FieldName="Abbreviation" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </dxe:TextEdit.EditValue>
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                            </dxmvvm:Interaction.Behaviors>
                                        </dxe:TextEdit>
                                    </Grid>
                                    <Grid  Grid.Row="6" Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,0,0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="{DynamicResource FiscalNumber}" Width="150"></TextBlock>
                                        <dxe:TextEdit   Height="30"  Grid.Column="1" HorizontalAlignment="Stretch" Text="{Binding DataContext.FiscalNumber,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                          IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                            <dxe:TextEdit.EditValue>
                                                <Binding Path="DataContext.FiscalNumber" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                    <Binding.ValidationRules>
                                                        <Validation:CompanyValidation FieldName="FiscalNumber" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </dxe:TextEdit.EditValue>
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                            </dxmvvm:Interaction.Behaviors>
                                        </dxe:TextEdit>

                                    </Grid>
                                    <Grid  Grid.Row="7" Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,0,0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="{DynamicResource EditCompanySize}"  Width="150"></TextBlock>
                                        <dxe:TextEdit   Height="30"   Grid.Column="1"  HorizontalAlignment="Stretch"
                                         Text="{Binding DataContext.Size,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                         IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                         MaskType="RegEx"
                                         Mask="\d+" MaskUseAsDisplayFormat="True">
                                            <dxe:TextEdit.EditValue>
                                                <Binding Path="DataContext.Size" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                    <Binding.ValidationRules>
                                                        <Validation:CompanyValidation FieldName="Size" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </dxe:TextEdit.EditValue>
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnTextEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                            </dxmvvm:Interaction.Behaviors>
                                        </dxe:TextEdit>

                                    </Grid>
                                    <!--[pallavi.kale][GEOS2-2497][07-03-25]-->
                                    <!--Business Center-->
                                    <Grid  Grid.Row="9" Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,0,0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock  Grid.Row="8" Grid.Column="0"  Height="30" Text="{DynamicResource EditCompanyBusinessType}" Width="150" Margin="0,0,0,0" HorizontalAlignment="Center"></TextBlock>
                                        <dxe:ComboBoxEdit Grid.Row="2" Grid.Column="1"
                                         ItemsSource="{Binding DataContext.BusinessCenterList,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}" 
                                         DisplayMember="Value" 
                                         VerticalAlignment="Top" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True" IsTextEditable="False" ValidateOnTextInput="False"
                                         IsReadOnly="{Binding DataContext.IsReadOnlyField,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}" >
                                            <dxe:ComboBoxEdit.SelectedIndex>
                                                <Binding Path="DataContext.SelectedBusinessCenterIndex" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                    <Binding.ValidationRules>
                                                        <Validation:CompanyValidation FieldName="SelectedBusinessCenterIndex" ValidationStep="UpdatedValue" />
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </dxe:ComboBoxEdit.SelectedIndex>
                                            <dxe:ComboBoxEdit.ItemContainerStyle>
                                                <Style TargetType="dxe:ComboBoxEditItem">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding InUse}" Value="False">
                                                            <Setter Property="IsEnabled" Value="False" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                    <Setter Property="IsEnabled" Value="True" />
                                                </Style>
                                            </dxe:ComboBoxEdit.ItemContainerStyle>
                                        </dxe:ComboBoxEdit>
                                    </Grid>
                                    <!-- Business Unit-->
                                    <Grid  Grid.Row="10" Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,0,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock  Grid.Row="2" Grid.Column="0"  Height="30" Text="{DynamicResource Editcompany_Businessunit}" Width="150" Margin="0,0,0,0" HorizontalAlignment="Center"></TextBlock>

                                                    <dxe:ComboBoxEdit Grid.Row="2" Grid.Column="1"
                   ItemsSource="{Binding DataContext.BusinessUnitList,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}" 
                   DisplayMember="Value" IsEnabled="{Binding DataContext.IsBusinessUnitEnable,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}"
                   VerticalAlignment="Top" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True" IsTextEditable="False" ValidateOnTextInput="False"
                   IsReadOnly="{Binding DataContext.IsReadOnlyField,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged}" >
                                                        <dxe:ComboBoxEdit.SelectedIndex>
                                                            <Binding Path="DataContext.SelectedBusinessUnitIndex" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                <Binding.ValidationRules>
                                                                    <Validation:CompanyValidation FieldName="SelectedBusinessUnitIndex" ValidationStep="UpdatedValue" />
                                                                </Binding.ValidationRules>
                                                            </Binding>
                                                        </dxe:ComboBoxEdit.SelectedIndex>
                                                    </dxe:ComboBoxEdit>
                                                </Grid>
                                           
                                 
                                    <DockPanel Grid.Row="11" Grid.Column="0" LastChildFill="True" Margin="0,0,0,10">
                                        <TextBlock Text="{DynamicResource EditCompanyDateofEstablishment}" VerticalAlignment="Center" DockPanel.Dock="Left" Width="150"></TextBlock>
                                        <dxe:DateEdit DockPanel.Dock="Left" Width="150" Height="30" 
                                                   IsReadOnly="{Binding DataContext.IsReadOnlyField,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                                            <dxe:DateEdit.EditValue>
                                                <Binding Path="DataContext.DateOfEstablishment" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                    <Binding.ValidationRules>
                                                        <Validation:CompanyValidation FieldName="DateOfEstablishment" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                                    </Binding.ValidationRules>
                                                </Binding>
                                            </dxe:DateEdit.EditValue>
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="EditValueChanging" Command="{Binding DataContext.OnDateEditValueChangingCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                            </dxmvvm:Interaction.Behaviors>
                                        </dxe:DateEdit>
                                        <TextBlock Text="{DynamicResource EditCompanyAge}" VerticalAlignment="Center" Width="50" DockPanel.Dock="Left" Margin="5,0,0,0"></TextBlock>
                                        <dxe:TextEdit DockPanel.Dock="Left" Height="30" Width="30" 
                                                   IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                                  Text="{Binding DataContext.Age, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                    </DockPanel >
                                    <TextBlock  Grid.Row="12" Grid.Column="0" Height="30" Text="{DynamicResource EditCompanyEntityType}" Width="100" Margin="0,0,0,0" HorizontalAlignment="Left"></TextBlock>
                                    <dxe:ListBoxEdit Grid.Column="1" Grid.Row="12" HorizontalAlignment="Right" ShowCustomItems="False"  ScrollViewer.VerticalScrollBarVisibility="Disabled" ShowBorder="False"  ItemsSource="{Binding DataContext.AllComapanyTypes, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" IsEnabled="{Binding Source={x:Static HrmApplication:HrmCommon.Instance}, Path=IsPermissionEnabled}"  >
                                        <dxe:ListBoxEdit.StyleSettings>
                                            <dxe:CheckedListBoxEditStyleSettings Margin="50"/>
                                        </dxe:ListBoxEdit.StyleSettings>
                                        <dxe:ListBoxEdit.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel Orientation="Horizontal"  >
                                                </StackPanel>
                                            </ItemsPanelTemplate>
                                        </dxe:ListBoxEdit.ItemsPanel>
                                        <dxe:ListBoxEdit.EditValue>
                                            <Binding Path="DataContext.SelectedComapanyTypes" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                <Binding.ValidationRules>
                                                    <Validation:CompanyValidation FieldName="SelectedComapanyTypes"   ValidationStep="UpdatedValue" />
                                                </Binding.ValidationRules>
                                            </Binding>
                                        </dxe:ListBoxEdit.EditValue>

                                    </dxe:ListBoxEdit>
                                    <!--IsStillActive [rdixit][26.08.2023][GEOS2-3483]-->
                                    

                                    <Grid  Grid.Row="13" Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,0,0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Row="13" Grid.Column="0"  Width="150" Height="30"   Margin="0,0,0,0"  Text="{DynamicResource InUseText}"></TextBlock>

                                        <dxe:ToggleSwitch Grid.Row="13"  Grid.Column="1"  CheckedStateContent="Yes" UncheckedStateContent="No"  ContentPlacement="Inside" 
Height="30" IsChecked="{Binding DataContext.IsStillActive,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow,Mode=FindAncestor}, UpdateSourceTrigger=PropertyChanged}">
                                        </dxe:ToggleSwitch>

                                    </Grid>

                                </Grid>

                            </Grid>

                        </ScrollViewer>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>


            <!--Contacts-->

            <dxlc:GroupBox x:Name="Contacts" Width="300" Height="140" MaximizeElementVisibility="Visible" >
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock Text="{DynamicResource EditCompanyViewContacts}" Margin="5,0,0,0" FontWeight="Bold"
                                    />
                            <TextBlock Name="ContactsCount" Text="{Binding DataContext.EmployeeContactsList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                       FontWeight="Bold"
                                    Width="50"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Margin="5,0,0,0"
                                    />
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>

                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.EmployeeContactsList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20" />
                                <RowDefinition Height="20" />
                                <RowDefinition Height="20" />
                                <RowDefinition Height="20" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="10" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <dxe:ImageEdit  
                                           Grid.Row="0" Grid.Column="0" Grid.RowSpan="4"
                                           ShowMenu="False" ShowLoadDialogOnClickMode="Never"
                                           HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                <dxe:ImageEdit.Style>
                                    <Style TargetType="{x:Type dxe:ImageEdit}">
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.EmployeeContactsList[0].ProfileImageInBytes,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="{x:Null}" />
                                                    <Condition Binding="{Binding DataContext.EmployeeContactsList[0].IdGender,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="1" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Source" Value="{DynamicResource EmployeeDefaultImageFemale}" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding DataContext.EmployeeContactsList[0].ProfileImageInBytes,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="{x:Null}" />
                                                    <Condition Binding="{Binding DataContext.EmployeeContactsList[0].IdGender,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="2" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Source" Value="{DynamicResource EmployeeDefaultImageMale}" />
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                        <Setter Property="Source" Value="{Binding DataContext.EmployeeContactsList[0].ProfileImageInBytes,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Converter={Converters:ByteArrayToImage}}" />
                                    </Style>
                                </dxe:ImageEdit.Style>
                            </dxe:ImageEdit>
                            <TextBlock  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                                       Grid.Row="0" Grid.Column="2" Style="{DynamicResource TextBlock16Style}" FontWeight="Bold" TextWrapping="WrapWithOverflow" >
                                    <Run Text="{Binding DataContext.EmployeeContactsList[0].FirstName,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                                                            <Run Text=""/>    
                                                            <Run Text="{Binding DataContext.EmployeeContactsList[0].LastName,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                            </TextBlock>
                            <TextBlock Text="{Binding DataContext.EmployeeContactsList[0].EmployeeJobDescription.JobDescription.JobDescriptionTitle,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                       HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                                       Grid.Row="1" Grid.Column="2" Style="{DynamicResource TextBlock12Style}" FontWeight="Bold"  TextWrapping="WrapWithOverflow"  />

                            <DockPanel Grid.Row="2" Grid.Column="2">
                                <Image Style="{DynamicResource PhoneColorImageStyle }" Height="16" Width="16" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
                                <TextBlock Text="{Binding DataContext.EmployeeContactsList[0].EmployeeContactCompanyMobiles,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                           Margin="5,0,0,0" 
                                           HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Style="{DynamicResource TextBlock12Style}" TextWrapping="WrapWithOverflow"  />
                            </DockPanel>

                            <DockPanel Grid.Row="3" Grid.Column="2">
                                <Image Style="{DynamicResource EmailColorImageStyle}" Height="16" Width="16" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
                                <TextBlock Margin="5,0,0,0" 
                                           HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                        <Hyperlink TargetName="_blank" 
                                                   Command="{Binding DataContext.HyperlinkForEmail,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                                   CommandParameter="{Binding DataContext.EmployeeContactsList[0].EmployeeContactEmail,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                   Style="{DynamicResource hyperlinkGridStyle}">
                                            <Hyperlink.Inlines>
                                                <Run Text="{Binding DataContext.EmployeeContactsList[0].EmployeeContactEmail,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                                            </Hyperlink.Inlines>
                                        </Hyperlink>
                                </TextBlock>
                            </DockPanel>

                        </Grid>

                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>

                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="33" />
                            </Grid.RowDefinitions>
                            <dxe:ListBoxEdit HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ItemsSource="{Binding DataContext.EmployeeContactsList,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                         
                                                 ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto"
                                         DisplayMember="FirstName" ItemContainerStyle="{DynamicResource EditorListBoxThemeKey_DefaultItemStyle}">
                                <dxe:ListBoxEdit.ItemTemplate>
                                    <DataTemplate>
                                        <Border Style="{DynamicResource BorderStyle}">
                                            <Grid Width="360" ScrollViewer.HorizontalScrollBarVisibility="Auto">
                                                <Grid Grid.Row="0" Margin="12" MaxWidth="400" ScrollViewer.HorizontalScrollBarVisibility="Auto">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="80" />
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="20" />
                                                        <RowDefinition Height="20" />
                                                        <RowDefinition Height="20" />
                                                        <RowDefinition Height="20" />
                                                    </Grid.RowDefinitions>

                                                    <dxe:ImageEdit Grid.Row="0" Grid.Column="0" Grid.RowSpan="4"  ShowMenu="False" ShowLoadDialogOnClickMode="Never">
                                                        <dxe:ImageEdit.Style>
                                                            <Style TargetType="{x:Type dxe:ImageEdit}">
                                                                <Style.Triggers>
                                                                    <MultiDataTrigger>
                                                                        <MultiDataTrigger.Conditions>
                                                                            <Condition Binding="{Binding ProfileImageInBytes}" Value="{x:Null}" />
                                                                            <Condition Binding="{Binding IdGender}" Value="1" />
                                                                        </MultiDataTrigger.Conditions>
                                                                        <Setter Property="Source" Value="{DynamicResource EmployeeDefaultImageFemale}" />
                                                                    </MultiDataTrigger>
                                                                    <MultiDataTrigger>
                                                                        <MultiDataTrigger.Conditions>
                                                                            <Condition Binding="{Binding ProfileImageInBytes}" Value="{x:Null}" />
                                                                            <Condition Binding="{Binding IdGender}" Value="2" />
                                                                        </MultiDataTrigger.Conditions>
                                                                        <Setter Property="Source" Value="{DynamicResource EmployeeDefaultImageMale}" />
                                                                    </MultiDataTrigger>
                                                                </Style.Triggers>
                                                                <Setter Property="Source" Value="{Binding ProfileImageInBytes,Converter={Converters:ByteArrayToImage}}" />
                                                            </Style>
                                                        </dxe:ImageEdit.Style>
                                                    </dxe:ImageEdit>
                                                    <TextBlock Grid.Row="0" Grid.Column="2"  TextWrapping="WrapWithOverflow" Style="{DynamicResource TextBlock16Style}" FontWeight="Bold" Margin="5,0,0,0" >
                                                            <Run Text="{Binding FirstName}" />
                                                            <Run Text=""/>    
                                                            <Run Text="{Binding LastName}" />
                                                    </TextBlock>
                                                    <TextBlock Grid.Row="1" Grid.Column="3" Text="{Binding EmployeeJobDescription.JobDescription.JobDescriptionTitle}" TextWrapping="WrapWithOverflow" Style="{DynamicResource TextBlock12Style}" FontWeight="Bold" Margin="5,2,0,2" />

                                                    <DockPanel Grid.Row="2" Grid.Column="2">
                                                        <Image Style="{DynamicResource PhoneColorImageStyle}" Height="16" Width="16" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="5,0,5,0" />
                                                        <TextBlock Text="{Binding EmployeeContactCompanyMobiles}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Style="{DynamicResource TextBlock12Style}" Margin="5,0,0,0"  />
                                                    </DockPanel>

                                                    <DockPanel Grid.Row="3" Grid.Column="2">
                                                        <Image Style="{DynamicResource EmailColorImageStyle}" Height="16" Width="16" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="5,0,5,0" />
                                                        <TextBlock Margin="5,0,0,0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" TextWrapping="Wrap">
                                                            <Hyperlink TargetName="_blank" 
                                                               Command="{Binding DataContext.HyperlinkForEmail,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                                               CommandParameter="{Binding EmployeeContactEmail}" 
                                                               Style="{DynamicResource hyperlinkGridStyle}">
                                                            <InlineUIContainer>
                                                                   <TextBlock Text="{Binding Path=EmployeeContactEmail}" TextWrapping="Wrap" />
                                                             </InlineUIContainer>
                                                            </Hyperlink>
                                                        </TextBlock>
                                                    </DockPanel>
                                                </Grid>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </dxe:ListBoxEdit.ItemTemplate>
                                <dxe:ListBoxEdit.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel />
                                    </ItemsPanelTemplate>
                                </dxe:ListBoxEdit.ItemsPanel>
                            </dxe:ListBoxEdit>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>


            <!--Change Log-->
            <dxlc:GroupBox x:Name="Change_Log" Width="300" Height="Auto" MaximizeElementVisibility="Visible" >
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock Margin="0,0,0,0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource EditCompanyViewChangeLog}" />
                            <TextBlock Width="50"
                                    Margin="5,0,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ContactCount"
                                    Text="{Binding DataContext.CompanyChangeLogDetailsList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.CompanyChangeLogDetailsList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource LogDate}" Grid.Row="0" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="3,0,0,0" Padding="2"  Text="{Binding DataContext.CompanyChangeLogDetailsList[0].ChangeLogDatetime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"/>
                            <Label Content="{DynamicResource LogUser}" Grid.Row="1" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Margin="3,0,0,0" Padding="2"  Text="{Binding DataContext.CompanyChangeLogDetailsList[0].ChangeLogUser.FullName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap"/>
                            <Label Content="{DynamicResource LogAction}" Grid.Row="2" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Margin="3,0,0,0" Padding="2"  Text="{Binding DataContext.CompanyChangeLogDetailsList[0].ChangeLogChange, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="WrapWithOverflow"/>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>
                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <dxg:GridControl MinHeight="130" MaxHeight="600" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                                 ItemsSource="{Binding DataContext.CompanyChangeLogDetailsList, 
                                            Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                                 ImplyNullLikeEmptyStringWhenFiltering="True">
                            <dxg:GridControl.Columns>
                                <dxg:GridColumn FieldName="ChangeLogUser.FullName" Header="{DynamicResource ChangeLogUser}" ReadOnly="True" FixedWidth="True" Width="150" FilterPopupMode="CheckedList"/>
                                <dxg:GridColumn FieldName="ChangeLogDatetime" Header="{DynamicResource ChangeLogDate}" ReadOnly="True" FixedWidth="True" Width="140" FilterPopupMode="CheckedList">
                                    <dxg:GridColumn.EditSettings>
                                        <dxe:DateEditSettings DisplayFormat="g" Name="changeLogTime" />
                                    </dxg:GridColumn.EditSettings>
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="ChangeLogChange" Header="{DynamicResource ChangeLogAction}" ReadOnly="True" FixedWidth="False" Width="*" FilterPopupMode="CheckedList">
                                    <dxg:GridColumn.EditSettings>
                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                    </dxg:GridColumn.EditSettings>
                                </dxg:GridColumn>

                            </dxg:GridControl.Columns>
                            <dxg:GridControl.View>
                                <dxg:TableView Name="ChangeLogTableView"  NavigationStyle="Row"
                                                                       VerticalScrollbarVisibility="Auto" 
                                                                       HorizontalScrollbarVisibility="Auto"
                                                                       AutoWidth="True"
                                                                       ShowGroupPanel="False" 
                                                                       ShowIndicator="False"
                                                                       AllowFixedColumnMenu="False"
                                                                       ShowFixedTotalSummary="False"                                                                       
                                                                       AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                                       ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                                       ItemsSourceErrorInfoShowMode="RowAndCell">
                                </dxg:TableView>
                            </dxg:GridControl.View>
                        </dxg:GridControl>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>

        </dxlc:FlowLayoutControl>

        <StackPanel Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2"
                    HorizontalAlignment="Center" 
                    Orientation="Horizontal"
                    Margin="0,0,0,0"
                    Width="250">

            <Button Content="{DynamicResource EditCompanyViewAcceptButton}"
                    Command="{Binding EditCompanyViewAcceptButtonCommand}" 
             
                    Height="30"
                    Width="100"
                    Margin="0,0,10,0"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom"
                    IsEnabled="{Binding IsAcceptEnabled}"/>

            <Button Content="{DynamicResource EditCompanyViewCancelButton}"
                    Command="{Binding EditCompanyViewCancelButtonCommand}" 
                    Height="30"
                    Width="100"
                    Margin="10,0,0,0"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom" />
        </StackPanel>
    </Grid>
    <!--</ScrollViewer-->
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="KeyDown">
            <behaviors:InvokeDelegateCommandAction Command="{Binding CommandTextInput}" CommandParameter="{Binding Path=InvokeParameter, RelativeSource={RelativeSource Self}}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>

</dxwui:WinUIDialogWindow>