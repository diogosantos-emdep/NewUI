<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Hrm.Views.ExpenseReportsPlantsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.Views"
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"  
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" 
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300"
             TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}"
             Style="{DynamicResource WinUIDialogWindowStyle}">


    <!--[pramod.misal] [GEOS2-5793] [20.06.2024] [HRM - Travel Reports currency exchange based on ticket IESD-86619] -->
    
    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape"  Command="{Binding PlantsViewCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>

    <Grid Margin="0,-50,0,0" ShowGridLines="False">
        <Grid.RowDefinitions>
            <RowDefinition Height="65"/>
            <RowDefinition Height="35"/>
            <RowDefinition Height="45"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="120"/>
            <ColumnDefinition Width="250"/>
        </Grid.ColumnDefinitions>

        <Label Content="{Binding WindowHeader}" HorizontalAlignment="Left" Style="{StaticResource LabelTitleStyle}" 
               Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" />

     
        <Label Grid.Row="1" Grid.Column="0" Content="{DynamicResource PlantTitle}" Height="30" FontSize="16"
               HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,10,0,10"/>
        <dxe:ComboBoxEdit Grid.Row="1" Grid.Column="1"
                          Name="CbePlant" 
                          Style="{DynamicResource ComboBoxEditStyle}" 
                          HorizontalAlignment="Stretch" 
                          VerticalAlignment="Stretch" 
                          IsTextEditable="False"
                          ImmediatePopup="True"
                          DisplayMember="Alias" 
                          ApplyItemTemplateToSelectedItem="True" 
                          IsSynchronizedWithCurrentItem="True" 
                          AllowUpdateTwoWayBoundPropertiesOnSynchronization="True" 
                          ItemsSource="{Binding DataContext.CompanyList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                          SelectedItem="{Binding DataContext.SelectedCompany, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                             
                                                             >
            <dxe:ComboBoxEdit.ItemTemplate>
                <DataTemplate>
                    <DockPanel>
                        <Image Source="{Binding SiteImage}" VerticalAlignment="Center" Height="24" Width="24" Margin="0,0,5,0" />
                        <TextBlock Text="{Binding Alias}" VerticalAlignment="Center" />
                    </DockPanel>
                </DataTemplate>
            </dxe:ComboBoxEdit.ItemTemplate>
        </dxe:ComboBoxEdit>


        <StackPanel Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2"
                    HorizontalAlignment="Left" 
                    Orientation="Horizontal"
                    Margin="0,0,0,0"
                    Width="250">

            <Button Content="{DynamicResource AcceptButton}"
                    Command="{Binding PlantsViewAcceptButtonCommand}"
                    Height="30"
                    Width="100"
                    Margin="0,0,10,0"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom"
                    IsEnabled="{Binding IsAcceptEnabled}"/>



            <Button Content="{DynamicResource CancelButton}"
                    Command="{Binding PlantsViewCancelButtonCommand}" 
                    Height="30"
                    Width="100"
                    Margin="10,0,0,0"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Bottom" />
        </StackPanel>

    </Grid>

</dxwui:WinUIDialogWindow>
