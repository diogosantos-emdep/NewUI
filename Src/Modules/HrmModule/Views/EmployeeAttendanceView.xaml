<UserControl x:Class="Emdep.Geos.Modules.Hrm.Views.EmployeeAttendanceView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
             xmlns:Converters="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
             xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
             xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
             xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys"
             xmlns:dxa="http://schemas.devexpress.com/winfx/2008/xaml/accordion"
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
              xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
             xmlns:dxsch="http://schemas.devexpress.com/winfx/2008/xaml/scheduling"
             xmlns:dxschc="http://schemas.devexpress.com/winfx/2008/xaml/scheduling/common"
             xmlns:dxschv="http://schemas.devexpress.com/winfx/2008/xaml/scheduling/visual"
             xmlns:dxscht="http://schemas.devexpress.com/winfx/2008/xaml/scheduling/themekeys"
             xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
             xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
             xmlns:dxp="http://schemas.devexpress.com/winfx/2008/xaml/printing" 
             xmlns:HrmApplication="clr-namespace:Emdep.Geos.Modules.Hrm" 
             xmlns:HrmApplication2="clr-namespace:Emdep.Geos.Modules.Hrm.ViewModels" 
             xmlns:dxschd="DevExpress.Xpf.Scheduling.Drawing;assembly=DevExpress.Xpf.Scheduling.v19.2"
             xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
             xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters" 
             xmlns:dxschp="clr-namespace:DevExpress.Xpf.Scheduling.Panels;assembly=DevExpress.Xpf.Scheduling.v19.2" 
             xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.ViewModels"
             xmlns:dxei="http://schemas.devexpress.com/winfx/2008/xaml/editors/internal"
             xmlns:dxi="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
             mc:Ignorable="d"
             x:Name="EmployeeAttendanceViewInstance">
	 <!--[rdixit][12.05.2025][GEOS2-7018][GEOS2-7761][GEOS2-7793][GEOS2-7796]-->
	<UserControl.Resources>

        <!--M049-40	Add weeks in monthly calendar in leaves [adadibathina] [31/10/2018]-->
        <ResourceDictionary>

            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Emdep.Geos.Modules.Hrm;component/Resources/SchedulerWeekViewResources.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <UIConverter:AppointmentTimeDifferenceConverter x:Key="AppointmentTimeDifferenceConverter" />
            <UIConverter:SchedulingAppointmentForegroundColorConverter x:Key="appointmentForegroundColorConverter" />
            <Converters:ByteToYesNoConverter x:Key="ByteToYesNoConverter"/>
            <DataTemplate x:Key="appointmentFlyoutContentTemplate">
                <dxlc:LayoutControl Width="230" MinHeight="100" IsHitTestVisible="False" Orientation="Vertical" Padding="11">
                    <StackPanel Orientation="Horizontal">
                        <Canvas Height="25" Width="Auto" Panel.ZIndex="1"  >
                            <!--<Line Stroke="Blue" StrokeThickness="5" 
                                        X1="2.5" Y1="0" X2="2.5" Y2="25">
                                <Line.Style>
                                    <Style TargetType="Line">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding  Appointment.CustomFields[AttendanceIsManual]}" Value="true">
                                                <Setter Property="Visibility" Value="Visible"></Setter>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Appointment.CustomFields[AttendanceIsManual]}" Value="false">
                                                <Setter Property="Visibility" Value="Collapsed"></Setter>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Line.Style>
                            </Line>-->
                            <!--00A2E8-->
                            <Line Stroke="#00A2E8" StrokeThickness="5" 
                                  X1="0" Y1="0" X2="0" Y2="25">
                                <Line.Style>
                                    <Style TargetType="Line">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding  Appointment.CustomFields[IsMobileApiAttendance]}" Value="true">
                                                <Setter Property="Visibility" Value="Visible"></Setter>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Appointment.CustomFields[IsMobileApiAttendance]}" Value="false">
                                                <Setter Property="Visibility" Value="Collapsed"></Setter>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Line.Style>
                            </Line>
                            
                            <Line Stroke="Red" StrokeThickness="5" 
                                  X1="5" Y1="0" X2="5" Y2="25">
                                <Line.Style>
                                    <Style TargetType="Line">
                                        <Style.Triggers>
                                            <!-- Condition: If AttendanceIsManual == true and IsMobileApiAttendance == true, hide the red line -->
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding Appointment.CustomFields[AttendanceIsManual]}" Value="true"/>
                                                    <Condition Binding="{Binding Appointment.CustomFields[IsMobileApiAttendance]}" Value="true"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </MultiDataTrigger>

                                            <!-- Condition: If AttendanceIsManual == true and IsMobileApiAttendance == false, show the red line -->
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding Appointment.CustomFields[AttendanceIsManual]}" Value="true"/>
                                                    <Condition Binding="{Binding Appointment.CustomFields[IsMobileApiAttendance]}" Value="false"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger>

                                            <!-- Optional: Handle other cases (e.g., AttendanceIsManual == false) -->
                                            <DataTrigger Binding="{Binding Appointment.CustomFields[AttendanceIsManual]}" Value="false">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Line.Style>
                            </Line>

                            <Line Stroke="SlateBlue" StrokeThickness="5" 
                                  X1="10" Y1="0" X2="10" Y2="25">
                                <Line.Style>
                                    <Style TargetType="Line">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding  Appointment.CustomFields[IsNightShift]}" Value="1">
                                                <Setter Property="Visibility" Value="Visible"></Setter>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Appointment.CustomFields[IsNightShift]}" Value="0">
                                                <Setter Property="Visibility" Value="Collapsed"></Setter>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Line.Style>
                            </Line>
                          <Line StrokeThickness="5" X1="15" Y1="0" X2="15" Y2="25">
                                <Line.Style>
                                    <Style TargetType="Line">
                                        <Setter Property="Stroke" Value="{Binding Appointment.CustomFields.AttendanceStatus.HtmlColor}"/>

                                    </Style>
                                </Line.Style>
                            </Line>
                            <!--<Line Stroke="Red" StrokeThickness="15" 
                                  X1="0" Y1="0" X2="0" Y2="27.5"></Line>
                            <Canvas.Style>
                                <Style TargetType="Canvas">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding  Appointment.CustomFields[AttendanceIsManual]}" Value="true">
                                            <Setter Property="Visibility" Value="Visible"></Setter>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Appointment.CustomFields[AttendanceIsManual]}" Value="false">
                                            <Setter Property="Visibility" Value="Hidden"></Setter>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Canvas.Style>-->
                        </Canvas>
                        <dxschv:DayAppointmentControl MinHeight="25"
                                                      Width="200"
                                                      
                                                      Padding="27,0,0,0"
                                                        Panel.ZIndex="0"
                                                        VerticalAlignment="Top"
                                                        Content="{Binding}"
                                                        ShowRecurrenceImage="False"
                                                        ShowReminderImage="False"
                                                        ShowInterval="False"
                                                        ShowStatus="False"
                                                        Style="{DynamicResource {dxscht:SchedulerFlyoutThemeKey ResourceKey=Appointment}}" 
                                                        Foreground="{Binding Label, Converter={StaticResource appointmentForegroundColorConverter}}">
                        </dxschv:DayAppointmentControl>

                    </StackPanel>

                        <!-- Tooltip Code-->
                    <dxlc:LayoutControl Margin="0,0,0,0" VerticalAlignment="Top" Orientation="Vertical" Padding="0">
                        <dxlc:LayoutItem Style="{DynamicResource {dxscht:SchedulerFlyoutThemeKey ResourceKey=LayoutItem_Description}}">
                            <dxlc:LayoutItem.Content>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock  Grid.Column="0" Text="{Binding Appointment.Description}"/>
                                    <!--<TextBlock Text="{Binding Appointment.CustomFields.AttendanceStatus}" HorizontalAlignment="Left" Grid.Column="2" TextAlignment="Center" Padding="1"
                                   Foreground="{Binding CustomFields.AttendanceStatus.HtmlColor, Converter={Converters:ForegroundColorConverter}}"
                                   Background="{Binding Appointment.CustomFields.AttendanceStatus.HtmlColor}"/>-->
                                    <!--<TextBlock Text="{Binding Appointment.CustomFields.AttendanceStatus}"   Background="{Binding RowData.Row.Status.HtmlColor}" Grid.Column="2"/>-->
                                </Grid>
                            </dxlc:LayoutItem.Content>
                            
                        </dxlc:LayoutItem>
                        <dxlc:LayoutItem Style="{DynamicResource {dxscht:SchedulerFlyoutThemeKey}}">
                            <dxlc:LayoutItem.Content>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="80"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <!--<TextBlock  Grid.Column="0" Text="{Binding Appointment.Description}"/>-->
                                    <TextBlock Text="{Binding Appointment.CustomFields.AttendanceStatus}" Grid.Column="2" TextAlignment="Center" Padding="1"
                                   Background="{Binding Appointment.CustomFields.AttendanceStatus.HtmlColor}">
                                       
                                    </TextBlock>

                                </Grid>
                            </dxlc:LayoutItem.Content>

                        </dxlc:LayoutItem>
                        <dxlc:LayoutItem Style="{DynamicResource {dxscht:SchedulerFlyoutThemeKey ResourceKey=LayoutItem_Start}}">
                            <dxlc:LayoutItem.Content>
                                <TextBlock Text="{Binding Appointment.Start, StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                            </dxlc:LayoutItem.Content>
                        </dxlc:LayoutItem>
                        <dxlc:LayoutItem Style="{DynamicResource {dxscht:SchedulerFlyoutThemeKey ResourceKey=LayoutItem_End}}">
                            <dxlc:LayoutItem.Content>
                                <TextBlock>
                                    <TextBlock.Text>
                                        <MultiBinding Converter="{StaticResource AppointmentTimeDifferenceConverter}" ConverterCulture="{x:Static sysglb:CultureInfo.CurrentCulture}">
                                            <Binding Path="Appointment.Start" />
                                            <Binding Path="Appointment.End" />
                                        </MultiBinding>
                                    </TextBlock.Text>
                                </TextBlock>
                            </dxlc:LayoutItem.Content>
                        </dxlc:LayoutItem>

                        <dxlc:LayoutItem Label="{DynamicResource Accounting}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.AccountingDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                            <dxlc:LayoutItem.Style>
                                <Style TargetType="{x:Type dxlc:LayoutItem}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Appointment.CustomFields.IdEmployeeAttendance}" Value="{x:Null}">
                                            <Setter Property="Visibility" Value="Collapsed"></Setter>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </dxlc:LayoutItem.Style>
                        </dxlc:LayoutItem>
                        
                        
                    </dxlc:LayoutControl>
                </dxlc:LayoutControl>
            </DataTemplate>

            <DataTemplate x:Key="cellTemplate">
                <DockPanel VerticalAlignment="Top" LastChildFill="False">
                    <DockPanel.Style>
                        <Style>
                            <Setter Property="DockPanel.Background" Value="Transparent" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="true">
                                    <Setter Property="DockPanel.Background">
                                        <Setter.Value>
                                            <MultiBinding Converter="{Converters:AppointmentHeaderBackgroundColorConverter}">
                                                <Binding Path="TotalDuration" ElementName="durationProvider" />
                                                <Binding Path="DailyWorkHours" ElementName="durationProvider" />
                                                <Binding Path="DataContext.OKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                                <Binding Path="DataContext.NotOKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                                <Binding Path="StartDate" ElementName="durationProvider" />
                                                <Binding Path="EndDate" ElementName="durationProvider" />
                                            </MultiBinding>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="false">
                                    <Setter Property="DockPanel.Background" Value="Transparent" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>

                        <!--<Style>
                            <Setter Property="DockPanel.Background" Value="Transparent" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="true">
                                    <Setter Property="DockPanel.Background">
                                        <Setter.Value>
                                            <MultiBinding Converter="{Converters:AppointmentHeaderBackgroundColorConverterForShift}">
                                                <Binding Path="TotalDuration" ElementName="durationProvider" />
                                                <Binding Path="DailyWorkHours" ElementName="durationProvider" />
                                                <Binding Path="FromTimeForShift" ElementName="durationProvider" />
                                                <Binding Path="ToTimeForShift" ElementName="durationProvider" />
                                                <Binding Path="BreakTimeForShift" ElementName="durationProvider" />
                                                <Binding Path="DataContext.OKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                                <Binding Path="DataContext.NotOKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                            </MultiBinding>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="false">
                                    <Setter Property="DockPanel.Background" Value="Transparent" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>-->

                    </DockPanel.Style>

                    <dxmvvm:Interaction.Behaviors>
                        <UIHelper:AppointmentDurationProvider x:Name="durationProvider" />
                    </dxmvvm:Interaction.Behaviors>

                    <dxschv:MonthCellDatePresenter DockPanel.Dock="Left"
                                                   Margin="3,3,3,3" FontSize="14" Foreground="{DynamicResource AppointmentHeaderForeground}">
                    </dxschv:MonthCellDatePresenter>

                    <dxschv:FastTextBlock Foreground="{DynamicResource AppointmentHeaderForeground}"
                                          Text="{Binding Path=TotalDurationString, ElementName=durationProvider}"
                                          DockPanel.Dock="Right"
                                          Margin="3,3,3,3" FontSize="14">
                        <dxschv:FastTextBlock.Style>
                            <Style>
                                <Setter Property="dxschv:FastTextBlock.Visibility" Value="Collapsed" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="true">
                                        <Setter Property="dxschv:FastTextBlock.Visibility" Value="Visible"></Setter>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="false">
                                        <Setter Property="dxschv:FastTextBlock.Visibility" Value="Collapsed"></Setter>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </dxschv:FastTextBlock.Style>
                    </dxschv:FastTextBlock>
                    <!--[rdixit][GEOS2-4049][27.01.2023]-->
                    <dxschv:FastTextBlock Foreground="{DynamicResource AppointmentHeaderForeground}"
                                          Text="{Binding Path=ShiftWorkingTime, ElementName=durationProvider}"
                                          DockPanel.Dock="Right" 
                                          Margin="3,3,3,3" FontSize="14">
                    </dxschv:FastTextBlock>
                </DockPanel>
            </DataTemplate>

            <Style x:Key="aptStyle" TargetType="dxschv:AppointmentControl">
                <!--<Setter Property="ShowStatus" Value="{Binding Appointment.CustomFields[IsNightShift],Converter={Converters:IntToBoolConverter}}" />-->
                <Setter Property="ShowStatus" Value="False" />
            </Style>

            <!--[Sprint-65][20/06/2019][skale]-Add a new filter criterion to Leaves and Attendance Window in GHRM-->
            <dx:BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter" />
            <ControlTemplate x:Key="ItemTemplate" TargetType="{x:Type dxe:ListBoxEditItem}">
                <Border x:Name="rootBorder" BorderThickness="0,0,0,1" BorderBrush="{dxi:ThemeResource ThemeKey={dxgt:GridRowThemeKey ResourceKey=GridDataRowDelimiterBrush}}"
                     Background="{TemplateBinding Background}">
                    <Grid x:Name="Root">
                        <Rectangle x:Name="FocusVisual" Opacity="0" Stroke="#FF3C3C3C" StrokeDashArray="1 2" StrokeThickness="1" />
                        <Border x:Name="InactiveSelectedState" Background="#FFDDDDDD" Opacity="0" 
                                />
                        <Border x:Name="SelectedState" Background="#FF92C0E0" Opacity="0" 
                                />
                        <Border x:Name="HoverState" Background="#FFCDE6F7" Opacity="0" 
                                Visibility="{Binding Path=(dxe:BaseEdit.OwnerEdit).AllowItemHighlighting, Converter={StaticResource BoolToVisibilityConverter}, RelativeSource={RelativeSource TemplatedParent}}" />
                        <Border x:Name="FocusedState" Background="#7F82B0D0" Opacity="0" 
                                />
                        <DockPanel HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" LastChildFill="True" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                            <dxei:ImagePresenter DockPanel.Dock="Left" Padding="{StaticResource {dxet:ComboBoxEditThemeKey ResourceKey=SelectedItemImagePadding}}" />
                            <dx:ContentContainer x:Name="content" Margin="{StaticResource {dxet:ComboBoxEditThemeKey ResourceKey=SelectedItemContentPadding}}">
                                <ContentPresenter x:Name="contentPresenter" Height="Auto" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" Width="Auto" />
                            </dx:ContentContainer>
                        </DockPanel>
                    </Grid>
                </Border>
                <ControlTemplate.Triggers>
                    <DataTrigger Value="True">
                        <DataTrigger.Binding>
                            <MultiBinding Converter="{Converters:ListItemBackgroundColorConverter}">
                                <Binding Path="(dxe:BaseEdit.OwnerEdit).ItemsSource" RelativeSource="{RelativeSource Self}" />
                                <Binding Path="." />
                            </MultiBinding>
                        </DataTrigger.Binding>

                        <Setter TargetName="rootBorder" Property="BorderThickness" Value="0" />
                    </DataTrigger>
                    <Trigger Property="IsKeyboardFocused" Value="True">
                        <Setter Property="Opacity" TargetName="SelectedState" Value="0" />
                        <Setter Property="Opacity" TargetName="HoverState" Value="0" />
                        <Setter Property="Opacity" TargetName="FocusVisual" Value="0" />
                    </Trigger>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Opacity" TargetName="SelectedState" Value="0" />
                        <Setter Property="Opacity" TargetName="HoverState" Value="0" />
                        <Setter Property="Opacity" TargetName="FocusVisual" Value="0" />
                    </Trigger>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Opacity" TargetName="SelectedState" Value="0" />
                        <Setter Property="Opacity" TargetName="HoverState" Value="0" />
                        <Setter Property="Opacity" TargetName="FocusVisual" Value="0" />
                    </Trigger>
                    <MultiTrigger>
                        <MultiTrigger.Conditions>
                            <Condition Property="IsSelected" Value="True" />
                            <Condition Property="IsFocused" Value="False" />
                        </MultiTrigger.Conditions>
                        <Setter Property="Opacity" TargetName="SelectedState" Value="0" />
                        <Setter Property="Opacity" TargetName="HoverState" Value="0" />
                        <Setter Property="Opacity" TargetName="FocusVisual" Value="0" />
                    </MultiTrigger>
                    <Trigger Property="IsEnabled" Value="False">
                        <Setter Property="Opacity" TargetName="content" Value="0.35" />
                    </Trigger>
                    <Trigger Property="dx:ThemeManager.IsTouchEnabled" Value="True">
                        <Setter Property="Margin" TargetName="content" Value="12" />
                    </Trigger>

                </ControlTemplate.Triggers>
            </ControlTemplate>


            <Style x:Key="AttendanceDepartmentNameStyle" TargetType="{x:Type dxe:ListBoxEditItem}">
                <Setter Property="Background" Value="{Binding DepartmentHtmlColor}" />
                <Setter Property="TextBlock.Foreground" Value="{Binding DepartmentHtmlColor,Converter={Converters:ForegroundColorConverter}}"></Setter>
                <Setter Property="Template" Value="{StaticResource ItemTemplate}"></Setter>
            </Style>

            <!--End-->
            <DataTemplate x:Key="aptTemplate">
                <dxschv:FastTextBlock Text="{Binding Appointment,Converter={UIConverter:AppointmentSubjectAndDurationConverter}}" Foreground="{Binding Label, Converter={StaticResource appointmentForegroundColorConverter}}" />
            </DataTemplate>

            <DataTemplate x:Key="DateHeaderTemplate">
                <DockPanel VerticalAlignment="Top" LastChildFill="True">
                    <DockPanel.Style>
                        <Style>
                            <Setter Property="DockPanel.Background" Value="Transparent" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="true">
                                    <Setter Property="DockPanel.Background">
                                        <Setter.Value>
                                            <MultiBinding Converter="{Converters:AppointmentHeaderBackgroundColorConverter}">
                                                <Binding Path="TotalDuration" ElementName="durationProvider" />
                                                <Binding Path="DailyWorkHours" ElementName="durationProvider" />
                                                <Binding Path="DataContext.OKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                                <Binding Path="DataContext.NotOKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                                <Binding Path="StartDate" ElementName="durationProvider" />
                                                <Binding Path="EndDate" ElementName="durationProvider" />
                                            </MultiBinding>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="false">
                                    <Setter Property="DockPanel.Background" Value="Transparent" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </DockPanel.Style>

                    <dxmvvm:Interaction.Behaviors>
                        <UIHelper:AppointmentDurationProvider x:Name="durationProvider" />
                    </dxmvvm:Interaction.Behaviors>

                    <TextBlock Foreground="{DynamicResource AppointmentHeaderForeground}" Text="{Binding Interval.Start, StringFormat='{}{0, 1:dddd, dd}'}" HorizontalAlignment="Left" VerticalAlignment="Center" />

                    <dxschv:FastTextBlock Foreground="{DynamicResource AppointmentHeaderForeground}"
                                          HorizontalAlignment="Right"
                                            Text="{Binding Path=TotalDurationString, ElementName=durationProvider}"
                                          Margin="3,3,3,3" FontSize="14">
                        <dxschv:FastTextBlock.Style>
                            <Style>
                                <Setter Property="dxschv:FastTextBlock.Visibility" Value="Collapsed" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="true">
                                        <Setter Property="dxschv:FastTextBlock.Visibility" Value="Visible"></Setter>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="false">
                                        <Setter Property="dxschv:FastTextBlock.Visibility" Value="Collapsed"></Setter>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </dxschv:FastTextBlock.Style>
                    </dxschv:FastTextBlock>
                </DockPanel>
            </DataTemplate>

            <ControlTemplate x:Key="{dxet:DateNavigatorThemeKey ResourceKey=LeftArrowTemplate}" TargetType="{x:Type RepeatButton}">
                <Grid Background="#00000000" Width="30" Height="30" SnapsToDevicePixels="True" d:Name="Grid_0003">
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="MouseOver">
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetName="Path" Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)" Duration="0" To="#FF373A3D" d:Name="ColorAnimation_0001" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Pressed">
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetName="Path" Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)" Duration="0" To="#FF373A3D" d:Name="ColorAnimation_0002" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Disabled" />
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <Path x:Name="Path" Stretch="Fill" Fill="#FFB9B9B9" Data="F1 M 208.5,17C 212.09,17 215,19.91 215,23.4999C 215,27.0897 212.09,29.9999 208.5,29.9999C 204.91,29.9999 202,27.0897 202,23.4999C 202,19.91 204.91,17 208.5,17 Z M 208.5,18.0004C 205.462,18.0004 203,20.4628 203,23.5004C 203,26.5378 205.462,29.0002 208.5,29.0002C 211.537,29.0002 214,26.5378 214,23.5004C 214,20.4628 211.537,18.0004 208.5,18.0004 Z M 205,24.0001L 205,24L 205,23.0002L 205,22.9999L 208,19.9999L 210,19.9999L 207,22.9999L 212,23.0002L 212,24L 207,23.9999L 210,26.9999L 208,26.9999L 205,24.0001 Z " Width="25" Height="25" d:Name="Path_0001" />
                </Grid>
            </ControlTemplate>

            <Style x:Key="{dxet:DateNavigatorThemeKey ResourceKey=LeftArrowStyle}" TargetType="{x:Type RepeatButton}">
                <Setter Property="Template" Value="{DynamicResource {dxet:DateNavigatorThemeKey ResourceKey=LeftArrowTemplate}}" />
                <Setter Property="dx:FocusHelper2.Focusable" Value="False" />
                <Setter Property="Margin" Value="2,0,0,0" />
                <Setter Property="ClickMode" Value="Press" />
                <Setter Property="Delay" Value="400" />
                <Setter Property="Interval" Value="400" />
            </Style>

            <ControlTemplate x:Key="{dxet:DateNavigatorThemeKey ResourceKey=RightArrowTemplate}" TargetType="{x:Type RepeatButton}">
                <Grid Background="#00000000" Width="30" Height="30" SnapsToDevicePixels="True" d:Name="Grid_0004">
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="MouseOver">
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetName="Path" Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)" Duration="0" To="#FF373A3D" d:Name="ColorAnimation_0003" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Pressed">
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetName="Path" Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)" Duration="0" To="#FF373A3D" d:Name="ColorAnimation_0004" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Disabled" />
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <Path x:Name="Path" Stretch="Fill" Fill="#FFB9B9B9" Data="F1 M 232.5,17.0001C 228.91,17.0001 226,19.9102 226,23.5C 226,27.0898 228.91,30 232.5,30C 236.09,30 239,27.0898 239,23.5C 239,19.9102 236.09,17.0001 232.5,17.0001 Z M 232.5,18.0004C 235.538,18.0004 238,20.4628 238,23.5004C 238,26.538 235.538,29.0004 232.5,29.0004C 229.463,29.0004 227,26.538 227,23.5004C 227,20.4628 229.463,18.0004 232.5,18.0004 Z M 236,24.0001L 236,24.0001L 236,23.0004L 236,23L 233,20L 231,20L 234,23L 229,23.0004L 229,24.0001L 234,24L 231,26.9999L 233,26.9999L 236,24.0001 Z " Width="25" Height="25" d:Name="Path_0002" />
                </Grid>
            </ControlTemplate>

            <Style x:Key="{dxet:DateNavigatorThemeKey ResourceKey=RightArrowStyle}" TargetType="{x:Type RepeatButton}">
                <Setter Property="Template" Value="{DynamicResource {dxet:DateNavigatorThemeKey ResourceKey=RightArrowTemplate}}" />
                <Setter Property="dx:FocusHelper2.Focusable" Value="False" />
                <Setter Property="Margin" Value="0,0,2,0" />
                <Setter Property="ClickMode" Value="Press" />
                <Setter Property="Delay" Value="400" />
                <Setter Property="Interval" Value="400" />
            </Style>

            <Style x:Key="appointmentStyle" TargetType="dxschv:AppointmentControl">
                <Setter Property="ShowInterval" Value="False" />
                <Setter Property="ShowDescription" Value="True" />
                <Setter Property="ShowStatus" Value="False" />
            </Style>

            <DataTemplate x:Key="appointmentContentTemplate">
                <dxschv:AppointmentContentPanel>

                    <dxschv:AppointmentContentPanel.IntervalSubject>
                                        <StackPanel Orientation="Horizontal">
                                <Canvas Height="25" Width="Auto" >
                                <!--Stroke="#00A2E8"-->
                                <Line Stroke="#00A2E8" StrokeThickness="8" 
                                           X1="1" Y1="0" X2="1" Y2="27.5">
                                    <Line.Style>
                                        <Style TargetType="Line">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding  Appointment.CustomFields[IsMobileApiAttendance]}" Value="true">
                                                    <Setter Property="Visibility" Value="Visible"></Setter>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Appointment.CustomFields[IsMobileApiAttendance]}" Value="false">
                                                    <Setter Property="Visibility" Value="Collapsed"></Setter>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Line.Style>
                                </Line>


                                <Line Stroke="Red" StrokeThickness="5.5" 
                                                X1="9" Y1="0" X2="9" Y2="27.5">
                                    <Line.Style>
                                        <Style TargetType="Line">
                                            <Style.Triggers>
                                                <!-- Condition: If AttendanceIsManual == true and IsMobileApiAttendance == true, hide the red line -->
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding Appointment.CustomFields[AttendanceIsManual]}" Value="true"/>
                                                        <Condition Binding="{Binding Appointment.CustomFields[IsMobileApiAttendance]}" Value="true"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </MultiDataTrigger>
                                                <!-- Condition: If AttendanceIsManual == true and IsMobileApiAttendance == false, show the red line -->
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding Appointment.CustomFields[AttendanceIsManual]}" Value="true"/>
                                                        <Condition Binding="{Binding Appointment.CustomFields[IsMobileApiAttendance]}" Value="false"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </MultiDataTrigger>
                                                
                                                <!-- Default condition: Show the line if AttendanceIsManual is false -->
                                                <DataTrigger Binding="{Binding Appointment.CustomFields[AttendanceIsManual]}" Value="false">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Line.Style>
                                </Line>


                                <Line Stroke="SlateBlue" StrokeThickness="5.5" 
                                  X1="14" Y1="0" X2="14" Y2="27.5">
                                        <Line.Style>
                                            <Style TargetType="Line">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding  Appointment.CustomFields[IsNightShift]}" Value="1">
                                                        <Setter Property="Visibility" Value="Visible"></Setter>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Appointment.CustomFields[IsNightShift]}" Value="0">
                                                        <Setter Property="Visibility" Value="Collapsed"></Setter>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Line.Style>
                                    </Line>

                                <Line StrokeThickness="5.5" HorizontalAlignment="Right" X1="19" Y1="0" X2="19" Y2="27.5">
                                    <Line.Style>
                                        <Style TargetType="Line">
                                            <Setter Property="Stroke" Value="{Binding Appointment.CustomFields.AttendanceStatus.HtmlColor}"/>
                                          
                                        </Style>
                                    </Line.Style>
                                </Line>
                                </Canvas>
                                <dxschv:FastTextBlock Text="{Binding Appointment,Converter={UIConverter:AppointmentSubjectAndDurationConverter}}" 
                                                  Foreground="{Binding Label, Converter={StaticResource appointmentForegroundColorConverter}}"
                                              Margin="30.5,0,0,0" />
                            </StackPanel>
                         


                    </dxschv:AppointmentContentPanel.IntervalSubject>


                </dxschv:AppointmentContentPanel>
                <!--<dxschv:AppointmentContentPanel>
                    <dxschv:AppointmentContentPanel.Background>
                        -->
                <!--For vertical lines-->
                <!--
                        <VisualBrush 
              TileMode="None" Viewport="0,0,10,20" 
              ViewportUnits="Absolute" Viewbox="0,0,1,1"    
              ViewboxUnits="Absolute">
                            <VisualBrush.Visual>
                                <Canvas>
                                    
                                    <Path Stroke="Red" Data="M 0 0 l 0 2"  Margin="0,0,0,0" />
                                    <Canvas.Style>
                                        <Style TargetType="Canvas">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding  Appointment.CustomFields[AttendanceIsManual]}" Value="true">
                                                    <Setter Property="Visibility" Value="Visible"></Setter>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Appointment.CustomFields[AttendanceIsManual]}" Value="false">
                                                    <Setter Property="Visibility" Value="Hidden"></Setter>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Canvas.Style>

                                </Canvas>
                            </VisualBrush.Visual>
                        </VisualBrush>

                    </dxschv:AppointmentContentPanel.Background>
                    <dxschv:AppointmentContentPanel.IntervalSubject>
                       
                        <dxschv:FastTextBlock Text="{Binding Appointment,Converter={UIConverter:AppointmentSubjectAndDurationConverter}}" Foreground="{Binding Label, Converter={StaticResource appointmentForegroundColorConverter}}" Margin="7.5,0,0,0" />
                    </dxschv:AppointmentContentPanel.IntervalSubject>
                </dxschv:AppointmentContentPanel>-->
            </DataTemplate>

            <DataTemplate x:Key="departmentDataTemplate">
                <StackPanel>
                    <TextBlock Text="{Binding DepartmentName}" TextTrimming="CharacterEllipsis" />
                </StackPanel>
            </DataTemplate>

            <DataTemplate x:Key="employeeDataTemplate">
                <StackPanel Orientation="Horizontal">
                    <!--sjadhav[GEOS2-2223]-->
                    <Rectangle Name="RVR" Height="Auto" Width="3" Fill="Red" Margin="0,0,2,0">
                        <Rectangle.Style>
                            <Style TargetType="{x:Type Rectangle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsEmployeeExitDateInCurrentMonth}" Value="True">
                                        <Setter Property="Visibility" Value="Visible"></Setter>
                                        <Setter Property="ToolTip" Value="{Binding EmployeeExitDateInCurrentMonth}"></Setter>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsEmployeeExitDateInCurrentMonth}" Value="False">
                                        <Setter Property="Visibility" Value="Hidden"></Setter>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Rectangle.Style>
                    </Rectangle>
                    <Rectangle Name="BVB" Height="Auto" Width="3" Fill="Blue" Margin="0,0,2,0">
                        <Rectangle.Style>
                            <Style TargetType="{x:Type Rectangle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsEmployeeTransferredCompanyInCurrentMonth}" Value="True">
                                        <Setter Property="Visibility" Value="Visible"></Setter>
                                        <Setter Property="ToolTip" Value="{Binding EmployeeTransferredCompanyInCurrentMonth}"></Setter>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsEmployeeTransferredCompanyInCurrentMonth}" Value="False">
                                        <Setter Property="Visibility" Value="Hidden"></Setter>

                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Rectangle.Style>
                    </Rectangle>
                      <!--//Shubham[skadam]  GEOS2-3917 Include the “Draft” employees in Leaves 07 07 2023 
                      //Shubham[skadam] GEOS2-3916 Include the “Draft” employees in Attendance 07 07 2023--> 
                    <Rectangle Name="EmployeeStatus" Height="Auto" Width="3" Fill="Green" Margin="0,0,2,0">
                        <Rectangle.Style>
                            <Style TargetType="{x:Type Rectangle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsEmployeeStatus}" Value="True">
                                        <Setter Property="Visibility" Value="Visible"></Setter>
                                        <Setter Property="ToolTip" Value="{Binding EmployeeContractStartDate}"></Setter>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsEmployeeStatus}" Value="False">
                                        <Setter Property="Visibility" Value="Hidden"></Setter>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Rectangle.Style>
                    </Rectangle>
                    <TextBlock TextTrimming="CharacterEllipsis">
                        <Run Text="{Binding FirstName}"/>
                        <Run Text="{Binding LastName}" />
                        <Run Text=" - " /><!--[Sudhir.Jangra][GEOS2-4055][05/01/2023]-->
                        <Run Text="{Binding EmployeeMainJDAbbreviation}" />
                        <!--<TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IdEmployeeStatus}" Value="136">
                                        --><!--<TextBlock Text="{Binding Appointment.Start, StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />--><!--
                                        <Setter Property="ToolTip" Value="{Binding ExitDate, StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"></Setter>
                                    </DataTrigger>
                                    --><!--<DataTrigger Binding="{Binding IdEmployeeStatus}" Value="{x:Null}">
                                        <Setter Property="Visibility" Value="Visible"></Setter>
                                    </DataTrigger>-->
                                    <!--<DataTrigger Binding="{Binding Employees.IdEmployeeStatus}" Value="138">
                                        <Setter Property="Visibility" Value="Hidden"></Setter>
                                    </DataTrigger>--><!--
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>-->
                    </TextBlock>
                </StackPanel>
            </DataTemplate>

            <UIHelper:AccordianTemplateSelector x:Key="accordianTemplateSelector"
                                                EmployeeDataTemplate="{StaticResource employeeDataTemplate}"
                                                DepartmentDataTemplate="{StaticResource departmentDataTemplate}" />

            <!--Style for Toggle Button-->
            <Style x:Key="HideButtonStyle" TargetType="{x:Type ToggleButton}">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                            <Border BorderThickness="0" Background="{TemplateBinding Background}">
                                <Grid>
                                    <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                   Source="/Emdep.Geos.Modules.Warehouse;component/Assets/Images/ArrowRight.png"
                                   Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter Inverse=True}}" />
                                    <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                   Source="/Emdep.Geos.Modules.Warehouse;component/Assets/Images/ArrowLeft.png"
                                   Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter}}" />
                                </Grid>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <ControlTemplate x:Key="HideButtonTemplate1" TargetType="ToggleButton">
                <Border BorderThickness="0" >
                    <Grid>
                        <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"                                
                               Source="/Emdep.Geos.Modules.HRM;component/Assets/Images/ArrowLeft.png"/>
                    </Grid>
                </Border>
            </ControlTemplate>

            <ControlTemplate x:Key="HideButtonTemplate2" TargetType="ToggleButton">
                <Border BorderThickness="0" >
                    <Grid>
                        <Image x:Name="test" Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"                         
                               Source="/Emdep.Geos.Modules.HRM;component/Assets/Images/ArrowRight.png"/>
                    </Grid>
                </Border>
                
            </ControlTemplate>

            <Style x:Key="DynamicToggleButtonStyle" TargetType="ToggleButton">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsAccordionControlVisible}" Value="Collapsed">
                        <Setter Property="Template" Value="{StaticResource HideButtonTemplate2}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding IsAccordionControlVisible}" Value="Visible">
                        <Setter Property="Template" Value="{StaticResource HideButtonTemplate1}" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <!--<Style x:Key="HideButtonStyle1" TargetType="{x:Type ToggleButton}">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                            <Border BorderThickness="0" Background="{TemplateBinding Background}">
                                <Grid>
                                    <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"                                
                                           Source="/Emdep.Geos.Modules.Warehouse;component/Assets/Images/ArrowLeft.png"/>
                                </Grid>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="HideButtonStyle2" TargetType="{x:Type ToggleButton}">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                            <Border BorderThickness="0" Background="{TemplateBinding Background}">
                                <Grid>
                                    <Image x:Name="test" Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"                       
                                           Source="/Emdep.Geos.Modules.Warehouse;component/Assets/Images/ArrowRight.png"/>
                                </Grid>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="ToggleButtonDynamicStyle" TargetType="ToggleButton">
                <Setter Property="Template" Value="{StaticResource HideButtonStyle1}" />
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsAccordionControlVisible}" Value="Collapsed">
                        <Setter Property="Template" Value="{StaticResource HideButtonStyle2}" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>-->

        </ResourceDictionary>
    </UserControl.Resources>

    <dxmvvm:Interaction.Behaviors>
        <dxmvvm:EventToCommand EventName="Loaded" PassEventArgsToCommand="True" 
                               Command="{Binding LoadedEmployeeAttendanceViewInstanceCommand,Mode=TwoWay}" 
                               CommandParameter="{Binding ElementName=EmployeeAttendanceViewInstance}">
        </dxmvvm:EventToCommand>
    </dxmvvm:Interaction.Behaviors>

    <Grid ShowGridLines="False" >
        <Grid.RowDefinitions>
            <RowDefinition Height="50" />
            <RowDefinition Height="145*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition>
                <ColumnDefinition.Style>
                    <Style TargetType="ColumnDefinition">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsAccordionControlVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="Collapsed">
                                <Setter Property="Width" Value="0" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsAccordionControlVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="Visible">
                                <Setter Property="Width"  Value="240" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </ColumnDefinition.Style>
            </ColumnDefinition>
            <ColumnDefinition Width="20"></ColumnDefinition>
            <ColumnDefinition Width="200*"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <Grid Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition>
                    <ColumnDefinition.Style>
                        <Style TargetType="ColumnDefinition">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsAccordionControlVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="Collapsed">
                                    <Setter Property="Width" Value="0" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding IsAccordionControlVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="Visible">
                                    <Setter Property="Width"  Value="240" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ColumnDefinition.Style>
                </ColumnDefinition>
                <ColumnDefinition Width="20"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <dxa:AccordionControl x:Name="accordionControl" Grid.Column="0" Grid.Row="0"
                HorizontalAlignment="Stretch"
                                ShowSearchControl="True" 
                                SelectedItem="{Binding SelectedItem,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                SelectionUnit="SubItemOrRootItem"
                                SearchControlFilterCondition="Contains"
                                ItemsSource="{Binding DepartmentsForFilter,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                DisplayMemberPath="{Binding DepartmentName}"
                                ItemTemplateSelector="{StaticResource accordianTemplateSelector}" 
                                ChildrenPath="Employees"      
                                ExpandMode="Multiple" 
                                ExpandItemOnHeaderClick="False"
                                Visibility="{Binding IsAccordionControlVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                <dxmvvm:Interaction.Triggers>
                    <!--[rdixit][GEOS2-4054][05/01/2023]-->
                    <dxmvvm:EventToCommand EventName="SelectedItemChanged"
                                       Command="{Binding CommandDepartmentSelection}"
                                       PassEventArgsToCommand="True">
                        <dxmvvm:EventToCommand.CommandParameter>
                            <MultiBinding Converter="{Converters:ConverterForRefresh}">
                                <Binding ElementName="scheduler" />
                                <Binding ElementName="accordionControl" Mode="TwoWay" />
                                <Binding Path="accordionControl.Count" />
                            </MultiBinding>
                        </dxmvvm:EventToCommand.CommandParameter>
                    </dxmvvm:EventToCommand>

                    <dxmvvm:EventToCommand EventName="MouseDoubleClick"
                                       Command="{Binding EditEmployeeDoubleClickCommand}"
                                       PassEventArgsToCommand="True">
                        <dxmvvm:EventToCommand.CommandParameter>
                            <MultiBinding Converter="{Converters:ConverterForRefresh}">
                                <Binding ElementName="scheduler" />
                                <Binding ElementName="accordionControl" />
                            </MultiBinding>
                        </dxmvvm:EventToCommand.CommandParameter>
                    </dxmvvm:EventToCommand>
                </dxmvvm:Interaction.Triggers>

            </dxa:AccordionControl>

            <ToggleButton x:Name="expandButton" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Center" Command="{Binding DataContext.HidePanelCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                          Style="{StaticResource HideButtonStyle}" IsChecked="True"/>
        </Grid>

        <Grid Grid.Row="1" Grid.Column="2" Grid.ColumnSpan="2" >
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <dxg:GridControl x:Name="dxgGridControl1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.Row="0"
                         ItemsSource="{Binding Path=EmployeeAttendanceListForFilter,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" SelectionMode="Row"
                         SelectedItem="{Binding Path=SelectedAttendanceRecord,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                         ImplyNullLikeEmptyStringWhenFiltering="True" AllowLiveDataShaping="True" 
                         Visibility="{Binding IsGridViewVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">

                <dxg:GridColumn Header="{DynamicResource AttendanceCompany}" FieldName="CurrentContractForAttendance" FilterPopupMode="CheckedList" MinWidth="80" Width="80"  AllowResizing="true" ReadOnly="True" />
                <dxg:GridColumn Header="{DynamicResource EmployeeCode}" FieldName="Employee.EmployeeCode" FilterPopupMode="CheckedList" MinWidth="110" Width="110"  AllowResizing="true" ReadOnly="True" />
                <dxg:GridColumn Header="{DynamicResource EmpFullName}" FieldName="Employee.FullName" FilterPopupMode="CheckedList" MinWidth="190" Width="190"  AllowResizing="true" ReadOnly="True" />
                <dxg:GridColumn Header="{DynamicResource AttendanceJDCode}" FieldName="Employee.EmpJobCodes" Width="130" MinWidth="100" AllowResizing="true" ColumnFilterMode="DisplayText" FilterPopupMode="CheckedList" ReadOnly="True" />
                <dxg:GridColumn Header="{DynamicResource AttendanceJobTitle}" FieldName="Employee.EmployeeJobTitles" Width="150" MinWidth="140" AllowResizing="true" FilterPopupMode="CheckedList" ReadOnly="True" />
                <dxg:GridColumn Header="{DynamicResource Location}" FieldName="Location" Width="100"  AllowResizing="true" MinWidth="100" FilterPopupMode="CheckedList" ReadOnly="True" />

                <dxg:GridColumn Header="{DynamicResource EmployeeStatus}" FieldName="Status.Value" FilterPopupMode="CheckedList" MinWidth="110" AllowResizing="true" Width="110" ReadOnly="True">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:TextEdit x:Name="PART_Editor1" IsPrintingMode="True" HorizontalAlignment="Stretch" 
                                      Background="{Binding RowData.Row.Status.HtmlColor}" ShowBorder="False"
                                        Foreground="{Binding RowData.Row.Status.HtmlColor, Converter={Converters:ForegroundColorConverter}}"
                                      Text="{Binding RowData.Row.Status.Value}"
                                      VerticalAlignment="Stretch" IsReadOnly="True" Padding="10" Margin="10" Height="20"
                                      />
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>
                <!--[Sprint-65][20/06/2019][skale]-Add a new filter criterion to Leaves and Attendance Window in GHRM-->
                <dxg:GridColumn Header="{DynamicResource ProfessionalJobDescriptionDepartment}" FieldName="Employee.LstEmployeeDepartments" MinWidth="150" FilterPopupMode="CheckedList" Width="150"  AllowResizing="true"  ReadOnly="True" Name="Departments">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:ListBoxEdit ItemsSource="{Binding RowData.Row.Employee.LstEmployeeDepartments}" ShowBorder="False"
                                         ValueMember="DepartmentName" DisplayMember="DepartmentName" ItemContainerStyle="{StaticResource AttendanceDepartmentNameStyle}">
                                <dxe:ListBoxEdit.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <UniformGrid Columns="1"></UniformGrid>
                                    </ItemsPanelTemplate>
                                </dxe:ListBoxEdit.ItemsPanel>
                            </dxe:ListBoxEdit>
                        </DataTemplate>

                    </dxg:GridColumn.CellTemplate>

                    <dxg:GridColumn.PrintCellStyle>
                        <Style BasedOn="{StaticResource {dxgt:TableViewThemeKey ResourceKey=DefaultPrintCellStyle}}" TargetType="{x:Type dxe:TextEdit}">
                            <Setter Property="dxp:ExportSettings.TargetType" Value="Panel" />

                            <Setter Property="DisplayTemplate">
                                <Setter.Value>
                                    <ControlTemplate>
                                        <TextBlock dxp:TextExportSettings.FontSize="12" Text="{Binding RowData.Row.Employee.LstEmployeeDepartments, Converter={Converters:ListToWrapTextConverter},ConverterParameter=Departments}"
                                                   dxp:ExportSettings.TargetType="Text" dxp:ExportSettings.BorderThickness="1"
                                                   TextWrapping="WrapWithOverflow" />
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </dxg:GridColumn.PrintCellStyle>
                </dxg:GridColumn>

                <dxg:GridColumn Header="{DynamicResource AttendanceType}" FieldName="CompanyWork.Name" FilterPopupMode="CheckedList" MinWidth="120" AllowResizing="true" Width="120" ReadOnly="True">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:TextEdit x:Name="PART_Editor" IsPrintingMode="True" HorizontalAlignment="Stretch" 
                                      Background="{Binding RowData.Row.CompanyWork.HtmlColor}" ShowBorder="False"
                                      Foreground="{Binding RowData.Row.CompanyWork.HtmlColor, Converter={Converters:ForegroundColorConverter}}"
                                      VerticalAlignment="Stretch" IsReadOnly="True" 
                                      />
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>

                <dxg:GridColumn Header="{DynamicResource AttendanceManual}"  Binding="{Binding IsManual, Converter={StaticResource ByteToYesNoConverter}, Mode=TwoWay}"
                               MinWidth="70" Width="70"  AllowResizing="true" FilterPopupMode="CheckedList" ReadOnly="True" />

                <dxg:GridColumn Header="{DynamicResource AttendanceGridColumnMonthNumber}" FieldName="StartDate.Month" FilterPopupMode="CheckedList" Width="70" MinWidth="70"
                                AllowResizing="true" ReadOnly="True">
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings HorizontalContentAlignment="Left" />
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>

                <dxg:GridColumn Header="{DynamicResource AttendanceGridColumnWeekNumber}" FieldName="WeekNumber" FilterPopupMode="CheckedList" Width="70" MinWidth="70" 
                                AllowResizing="true" ReadOnly="True">
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings HorizontalContentAlignment="Left" />
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>

                <dxg:GridColumn Header="{DynamicResource AccountingDateColHeader}" FieldName="AccountingDate" Width="110"  AllowResizing="true" 
                                FilterPopupMode="CheckedList" ReadOnly="True" MinWidth="110">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding RowData.Row.AccountingDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" VerticalAlignment="Center" />
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>

                <dxg:GridColumn Header="{DynamicResource EmpEducationStartDate}" FieldName="StartDate" Width="100" MinWidth="110" AllowResizing="true" FilterPopupMode="CheckedList" ReadOnly="True">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding RowData.Row.StartDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" VerticalAlignment="Center" />
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>

                <dxg:GridColumn Header="{DynamicResource LeaveStartTime}" FieldName="StartTime" Width="90" MinWidth="90" AllowResizing="true"  FilterPopupMode="CheckedList" ReadOnly="True">
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings MaskType="DateTime"
                                           MaskUseAsDisplayFormat="True"
                                           Mask="{Binding TimeEditMask,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    />
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>

                <dxg:GridColumn Header="{DynamicResource EmpEducationEndDate}" FieldName="EndDate" Width="100" MinWidth="100" AllowResizing="true" FilterPopupMode="CheckedList" ReadOnly="True">
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding RowData.Row.EndDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" VerticalAlignment="Center" />
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                </dxg:GridColumn>

                <dxg:GridColumn Header="{DynamicResource LeaveEndTime}" FieldName="EndTime" FilterPopupMode="CheckedList" Width="90" MinWidth="90" AllowResizing="true" ReadOnly="True">
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings MaskType="DateTime"
                                           Mask="{Binding TimeEditMask,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    MaskUseAsDisplayFormat="True"
                                           />
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>

                <dxg:GridColumn Header="{DynamicResource TotalTime}" FieldName="TotalTime" FilterPopupMode="CheckedList" Width="100" MinWidth="100" AllowResizing="true" ReadOnly="True">
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings MaskType="DateTime"
                                           MaskUseAsDisplayFormat="True"
                                           Mask="{Binding TimeEditMask,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    />
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>
                <dxg:GridColumn Header="{DynamicResource EmployeeAttendanceBreakTime}" FieldName="CompanyShift.BreakTime" FilterPopupMode="CheckedList" Width="100" 
                                MinWidth="100" AllowResizing="true" ReadOnly="True">
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings MaskType="DateTimeAdvancingCaret" MaskUseAsDisplayFormat="True"
                                           Mask="HH:mm" />
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>

                <dxmvvm:Interaction.Behaviors>
                    <UIHelper:GridSelectingBehavior />
                    <dxmvvm:EventToCommand EventName="CustomRowFilter"
                                       Command="{Binding CustomRowFilterCommand}"
                                       PassEventArgsToCommand="True" />
                </dxmvvm:Interaction.Behaviors>

                <dxg:GridControl.TotalSummary>
                    <dxg:GridSummaryItem x:Name="summary" FieldName="DepartmentName" SummaryType="Count" DisplayFormat="Total Count: {0}" Visible="True" Alignment="Left" />
                    <dxg:GridSummaryItem FieldName="TotalTime" SummaryType="Sum">
                        <dxg:GridSummaryItem.TotalSummaryElementStyle>
                            <Style TargetType="Run">
                                <Setter Property="Text" Value="{Binding Value,Converter={UIConverter:TimespanToHoursAndMinutesConverter},Mode=OneWay}">
                                </Setter>
                            </Style>
                        </dxg:GridSummaryItem.TotalSummaryElementStyle>
                    </dxg:GridSummaryItem>
                </dxg:GridControl.TotalSummary>

                <dxg:GridControl.GroupSummary>
                    <dxg:GridSummaryItem FieldName="TotalTime" SummaryType="Sum">
                        <dxg:GridSummaryItem.GroupColumnSummaryElementStyle>
                            <Style TargetType="Run">
                                <Setter Property="Text" Value="{Binding Value,Converter={UIConverter:TimespanToHoursAndMinutesConverter},Mode=OneWay}">
                                </Setter>
                            </Style>
                        </dxg:GridSummaryItem.GroupColumnSummaryElementStyle>
                    </dxg:GridSummaryItem>
                </dxg:GridControl.GroupSummary>

                <dxg:GridControl.View>
                    <dxg:TableView x:Name="AttendanceTableView"
                                NavigationStyle="Row"
                                RowDetailsVisibilityMode="Visible"
                                ShowHorizontalLines="True"
                                ShowSearchPanelMode="Always"
                                ShowColumnHeaders="True"
                                VerticalScrollbarVisibility="Auto" 
                                HorizontalScrollbarVisibility="Auto"
                                AllowFixedColumnMenu="False"
                                ShowFixedTotalSummary="True" 
                                ShowTotalSummary="True"
                                SearchPanelHorizontalAlignment="Stretch"
                                ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                AllowGrouping="True"
                                ShowGroupPanel="False"
                                   IsColumnChooserVisible="{Binding IsAttendanceColumnChooserVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"                                               
                                AllowPerPixelScrolling="True" 
                                FocusedRow="{Binding Path=SelectedAttendanceRecord,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                ShowIndicator="False" AutoWidth="False"
                                GroupSummaryDisplayMode="AlignByColumns" 
                                SearchString="{Binding MyFilterString,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">

                        <dxg:TableView.Resources>
                            <DataTemplate x:Key="AttendanceReportPrintHeaderTemplate">
                                <Grid Width="{Binding UsablePageWidth}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="130" />
                                    </Grid.ColumnDefinitions>
                                    <dxe:TextEdit Text=" " Width="{Binding UsablePageWidth}" Grid.ColumnSpan="3" IsPrintingMode="True" Background="#333E5E" HorizontalAlignment="Stretch" 
                                              VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold" Height="50" />
                                    <dxe:TextEdit Text="Attendance Report" IsPrintingMode="True" HorizontalAlignment="Stretch" 
                                              VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold" />
                                    <Image Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/GeosReportLogo.png" Height="50" Width="80" dxp:ExportSettings.TargetType="Image" Grid.Column="2" />
                                </Grid>
                            </DataTemplate>

                            <DataTemplate x:Key="AttendanceReportPrintFooterTemplate">
                                <dxe:TextEdit HorizontalContentAlignment="Center" 
                                            Width="{Binding Path=UsablePageWidth, Mode=OneWay}" 
                                            dxp:ExportSettings.TargetType="PageNumber" 
                                            dxp:PageNumberExportSettings.Kind="NumberOfTotal" 
                                            dxp:PageNumberExportSettings.Format="Page {0} of {1}" />
                            </DataTemplate>

                        </dxg:TableView.Resources>

                        <dxmvvm:Interaction.Behaviors>
                            <dxmvvm:EventToCommand Command="{Binding EditAttendanceGridDoubleClickCommand}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=AttendanceTableView}">
                                <dxmvvm:EventToCommand.EventArgsConverter>
                                    <dx:EventArgsToDataRowConverter />
                                </dxmvvm:EventToCommand.EventArgsConverter>
                            </dxmvvm:EventToCommand>
                            <dxmvvm:EventToCommand Command="{Binding TableViewLoadedCommand}" EventName="Loaded" PassEventArgsToCommand="True" />
                            <dxmvvm:EventToCommand EventName="ShowFilterPopup" Command="{Binding CustomShowFilterPopupCommand}" PassEventArgsToCommand="True" />
                        </dxmvvm:Interaction.Behaviors>
                    </dxg:TableView>
                </dxg:GridControl.View>
            </dxg:GridControl>

            <UIHelper:SchedulerControlEx x:Name="scheduler" AllowInplaceEditor="False" FocusManager.IsFocusScope="True"
                             AllowAppointmentResize="False" ShowBorder="True" 
                             FlyoutContentTemplate="{StaticResource appointmentFlyoutContentTemplate}" 
                             Grid.Row="0" AllowAppointmentEdit="True" AllowAppointmentDrag="False" AllowAppointmentConflicts="True" CommandBarStyle="Ribbon"  
                             Visibility="{Binding IsSchedulerViewVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Margin="0 -50 0 0">

                <dxsch:SchedulerControl.RibbonActions>
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Groups_Home_Appointment }" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Items_Home_Navigate_GotoToday }" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Items_Home_GroupBy_GroupByDate }" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Groups_Home_Arrange }" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Groups_Home_GroupBy }" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Groups_Home_Layout }" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Groups_Home_Window }" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Pages_Home }" />
                    <dxb:UpdateAction ElementName="{x:Static dxsch:DefaultBarItemNames.Items_Home_Navigate_Backward}" PropertyName="Content" Value="" />
                    <dxb:UpdateAction ElementName="{x:Static dxsch:DefaultBarItemNames.Items_Home_Navigate_Forward}" PropertyName="Content" Value="" />
                    <dxb:UpdateAction ElementName="{x:Static dxsch:DefaultBarItemNames.RibbonControl}" PropertyName="ToolbarShowMode" Value="ShowBelow" />
                    <dxb:UpdateAction ElementName="{x:Static dxsch:DefaultBarItemNames.RibbonControl}" PropertyName="IsMinimized" Value="true" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Pages_Appointment}" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Categories_Appointment}" />
                    <dxb:RemoveAction ElementName="{x:Static dxsch:DefaultBarItemNames.Categories_Default}" />
                    <dxb:InsertAction ElementName="{x:Static dxsch:DefaultBarItemNames.RibbonControl}">
                        <dxb:InsertAction.CollectionTag>
                            <dxr:RibbonCollections>ToolbarItems</dxr:RibbonCollections>
                        </dxb:InsertAction.CollectionTag>
                        <dxb:BarStaticItem Content="{Binding Path=(dxsch:SchedulerControl.Scheduler).Name, RelativeSource={RelativeSource Self}}">
                            <dxb:BarStaticItem.ContentTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="*"/>

                                        </Grid.ColumnDefinitions>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Grid.Column="0">
                                            <RepeatButton HorizontalAlignment="Left" Content="&lt;" x:Name="PART_ArrowLeft" dx:FocusHelper2.Focusable="False" Style="{DynamicResource {dxet:DateNavigatorThemeKey ResourceKey=LeftArrowStyle,IsThemeIndependent=True}}" Command="{x:Static UIHelper:CustomAttendanceCommand.Back}" CommandParameter="{Binding Path=(dxsch:SchedulerControl.Scheduler), RelativeSource={RelativeSource Self}}" Height="50" />
                                            <dxe:TextEdit ShowBorder="False" Text="{Binding Path=(dxsch:SchedulerControl.Scheduler).DisplayName,RelativeSource={RelativeSource Self}}" Width="300" FontSize="25" HorizontalAlignment="Center" HorizontalContentAlignment="Center" VerticalAlignment="Center" >
                                                <dxmvvm:Interaction.Behaviors>
                                                    <dxmvvm:EventToCommand EventName="EditValueChanged" Command="{Binding DataContext.MonthChangedCommand, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=UserControl}}" PassEventArgsToCommand="True">
                                                        <dxmvvm:EventToCommand.CommandParameter>
                                                            <MultiBinding Converter="{Converters:ConverterForRefresh}">
                                                                <Binding ElementName="scheduler" />
                                                                <Binding ElementName="accordionControl" />
                                                            </MultiBinding>
                                                        </dxmvvm:EventToCommand.CommandParameter>
                                                    </dxmvvm:EventToCommand>
                                                </dxmvvm:Interaction.Behaviors>
                                            </dxe:TextEdit>
                                            <RepeatButton HorizontalAlignment="Right" Content="&gt;" x:Name="PART_ArrowRight" dx:FocusHelper2.Focusable="False" Style="{DynamicResource {dxet:DateNavigatorThemeKey ResourceKey=RightArrowStyle,IsThemeIndependent=True}}" Command="{x:Static UIHelper:CustomAttendanceCommand.Forw}" CommandParameter="{Binding Path=(dxsch:SchedulerControl.Scheduler), RelativeSource={RelativeSource Self}}" Height="50" />
                                        </StackPanel>

                                        <Grid Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center" >
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="10"/>
                                                <ColumnDefinition Width="90"/>
                                                <ColumnDefinition Width="20"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="10"/>
                                                <ColumnDefinition Width="90"/>
                                                <ColumnDefinition Width="20"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Text="Expected Time :" Grid.Column="0" TextAlignment="Left" FontSize="23"/>
                                            <Border BorderThickness="1" Grid.Column="2"  Style="{DynamicResource BorderBrushStyle}" HorizontalAlignment="Stretch">
                                                <TextBlock Text="{Binding DataContext.StringMonthlyExpectedTotalHoursCount, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=UserControl}}" Width="Auto" HorizontalAlignment="Center"  Grid.Column="2" TextAlignment="Center" FontSize="23"/>
                                            </Border>
                                            <TextBlock Text="Registered Time :" Grid.Column="4" TextAlignment="Left" FontSize="23"/>
                                            <Border BorderThickness="1" Style="{DynamicResource BorderBrushStyle}" Grid.Column="6"  HorizontalAlignment="Stretch">
                                                <TextBlock Text="{Binding DataContext.StringMonthlyTotalHoursCount, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=UserControl}}"  
                                               Background="{Binding DataContext.StringRegisterHoursColour, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                               Width="100" TextAlignment="Center" HorizontalAlignment="Center" Grid.Column="6"  FontSize="23"/>
                                            </Border>
                                            <!--BorderBrush="{DynamicResource BroderColorStyle}"-->

                                        </Grid>
                                    </Grid>
                                </DataTemplate>
                            </dxb:BarStaticItem.ContentTemplate>
                        </dxb:BarStaticItem>
                    </dxb:InsertAction>

                    <dxb:UpdateAction ElementName="{x:Static dxsch:DefaultBarItemNames.Items_Home_Navigate_Backward}" PropertyName="Command" Value="{x:Static UIHelper:CustomAttendanceCommand.Back}" />
                    <dxb:UpdateAction ElementName="{x:Static dxsch:DefaultBarItemNames.Items_Home_Navigate_Forward}" PropertyName="Command" Value="{x:Static UIHelper:CustomAttendanceCommand.Forw}" />
                    <dxb:UpdateAction ElementName="{x:Static dxsch:DefaultBarItemNames.Items_Home_Navigate_Backward}" PropertyName="CommandParameter" Value="{Binding Path=(dxsch:SchedulerControl.Scheduler), RelativeSource={RelativeSource Self}}" />
                    <dxb:UpdateAction ElementName="{x:Static dxsch:DefaultBarItemNames.Items_Home_Navigate_Forward}" PropertyName="CommandParameter" Value="{Binding Path=(dxsch:SchedulerControl.Scheduler), RelativeSource={RelativeSource Self}}" />
                </dxsch:SchedulerControl.RibbonActions>

                <dxsch:SchedulerControl.DataSource>
                    <dxsch:DataSource x:Name="source" 
                          AppointmentLabelsSource="{Binding LabelItems}"
                          AppointmentStatusesSource="{Binding StatusItems}"
                          AppointmentsSource="{Binding AppointmentItems,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                        <dxsch:DataSource.AppointmentMappings>
                            <dxsch:AppointmentMappings AllDay="AllDay" 
                                           Description="Description"
                                           End="EndDate"
                                           Id="UniqueID"
                                           LabelId="Label"
                                           Location="Location"
                                           QueryEnd="QueryEnd"
                                           QueryStart="QueryStart"
                                           RecurrenceInfo="RecurrenceInfo"
                                           Reminder="ReminderInfo"
                                           ResourceId="ResourceIDs"
                                           Start="StartDate"
                                           StatusId="IsNightShift"
                                           Subject="Subject"
                                           Type="Type">
                                <dxsch:CustomFieldMapping Mapping="DailyHoursCount" Name="DailyHoursCount" />
                                <dxsch:CustomFieldMapping Mapping="IdEmployeeAttendance" Name="IdEmployeeAttendance" />
                                <dxsch:CustomFieldMapping Mapping="TotalLeaveDurationInHours" Name="TotalLeaveDurationInHours" />
                                <dxsch:CustomFieldMapping Mapping="IdEmployeeLeave" Name="IdEmployeeLeave" />
                                <dxsch:CustomFieldMapping Mapping="AccountingDate" Name="AccountingDate" />
                                <dxsch:CustomFieldMapping Mapping="IsNightShift" Name="IsNightShift" />
                                <dxsch:CustomFieldMapping Mapping="AttendanceIsManual" Name="AttendanceIsManual" />
                                <dxsch:CustomFieldMapping Mapping="IsMobileApiAttendance" Name="IsMobileApiAttendance" />
                                <dxsch:CustomFieldMapping Mapping="AttendanceStatus" Name="AttendanceStatus" />
                            </dxsch:AppointmentMappings>

                        </dxsch:DataSource.AppointmentMappings>
                        <dxsch:DataSource.AppointmentLabelMappings>
                            <dxsch:AppointmentLabelMappings Caption="Caption" Id="Id">
                                <dxsch:AppointmentLabelMappings.Color>
                                    <dxsch:Mapping ConversionBehavior="InPlaceOfMapping" Converter="{dxmvvm:BrushToColorConverter}" FieldName="Color" />
                                </dxsch:AppointmentLabelMappings.Color>
                            </dxsch:AppointmentLabelMappings>
                        </dxsch:DataSource.AppointmentLabelMappings>
                        <dxsch:DataSource.AppointmentStatusMappings>
                            <dxsch:AppointmentStatusMappings Caption="Caption" Id="Id" Brush="Brush" />
                        </dxsch:DataSource.AppointmentStatusMappings>
                    </dxsch:DataSource>
                </dxsch:SchedulerControl.DataSource>

                <dxsch:MonthView Name="view"
                 CellContentTemplate="{StaticResource cellTemplate}"
                     VerticalScrollBarVisibility="Disabled"
                 AppointmentStyle="{StaticResource aptStyle}"
                 AppointmentContentTemplate="{StaticResource appointmentContentTemplate}"
                 WeekCount="5" NavigationButtonsVisibility="Never">
                </dxsch:MonthView>

                <dxsch:WeekView NavigationButtonsVisibility="Never" 
                    TimeIndicatorVisibility="Never" TimeMarkerVisibility="Never" 
                    DateHeaderContentTemplate="{StaticResource DateHeaderTemplate}"
                    ShowAllDayArea="False" ShowWorkTimeOnly="False"
                    AppointmentStyle="{StaticResource aptStyle}"
                    AppointmentContentTemplate="{StaticResource appointmentContentTemplate}">

                    <dxsch:WeekView.DateHeaderStyle>
                        <Style TargetType="ContentControl">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                        </Style>
                    </dxsch:WeekView.DateHeaderStyle>
                </dxsch:WeekView>


                <dxmvvm:Interaction.Triggers>
                    <dxmvvm:EventToCommand EventName="Loaded"
                                Command="{Binding DefaultLoadCommand}" 
                                PassEventArgsToCommand="True" />
                    <dxmvvm:EventToCommand EventName="MouseUp"
                                Command="{Binding SelectedIntervalCommand}" 
                                PassEventArgsToCommand="True" />
                    <dxmvvm:EventToCommand EventName="AppointmentWindowShowing"
                                Command="{Binding DisableAppointmentCommand}" 
                                PassEventArgsToCommand="True" />
                    <dxmvvm:EventToCommand EventName="PopupMenuShowing"
                                Command="{Binding PopupMenuShowingCommand}"
                                PassEventArgsToCommand="True" />
                    <dxmvvm:EventToCommand EventName="VisibleIntervalsChanged"
                                Command="{Binding scheduler_VisibleIntervalsChangedCommand}" PassEventArgsToCommand="True">
                        <dxmvvm:EventToCommand.CommandParameter>
                            <MultiBinding Converter="{Converters:ConverterForRefresh}">
                                <Binding ElementName="scheduler" />
                                <Binding ElementName="accordionControl" />
                            </MultiBinding>
                        </dxmvvm:EventToCommand.CommandParameter>
                    </dxmvvm:EventToCommand>
                    <dxmvvm:EventToCommand EventName="EditOccurrenceWindowShowing"
                                Command="{Binding EditOccurrenceWindowShowingCommand}" 
                                PassEventArgsToCommand="True" />
                    <dxmvvm:EventToCommand EventName="PreviewKeyDown"
                                Command="{Binding DeleteAppointmentCommand}" 
                                PassEventArgsToCommand="True" />
                    <dxmvvm:EventToCommand EventName="BeforeAppointmentItemDelete"
                                Command="{Binding DeleteAppointmentCommand}" 
                                PassEventArgsToCommand="True" />
                </dxmvvm:Interaction.Triggers>

            </UIHelper:SchedulerControlEx>

        </Grid>
        <Grid Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="4" HorizontalAlignment="Stretch">
            <Grid.RowDefinitions>
                <RowDefinition Height="AUTO" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
                <ColumnDefinition Width="AUTO" />
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="0">
                <Label x:Name="LabelAttendance" Content="{DynamicResource Attendance}" 
                   Style="{StaticResource LabelTitleStyle}" 
                   HorizontalAlignment="Left" VerticalAlignment="Center" />
                <Label x:Name="LabelLoadingFullYearAttendanceInBackground" 
                   Content="{Binding Source={x:Static HrmApplication:HrmCommon.Instance},Path=AttendanceLoadingMessage}"
                   Style="{StaticResource Label20Style}" Margin="10,6,0,0" Foreground="Red"
                   HorizontalAlignment="Left" VerticalAlignment="Center"/>
            </StackPanel>
            <!--Plant-->
            <TextBlock Grid.Column="0" Grid.Row="0" Text="{DynamicResource CommonPlant}" FontWeight="Bold" Margin="10,2,5,0" HorizontalAlignment="Right" Height="25" IsEnabled="True" />

            <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}" Grid.Column="1" Grid.Row="0" Width="150" Height="30"
                                ItemsSource="{Binding Source={x:Static HrmApplication:HrmCommon.Instance}, Path=IsCompanyList}"
                                EditValue="{Binding Source={x:Static HrmApplication:HrmCommon.Instance}, Path=SelectedAuthorizedPlantsList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                Margin="5,0,5,0"
                                
                               DisplayMember="ShortName">
                <dxe:ComboBoxEdit.StyleSettings>
                    <dxe:CheckedComboBoxStyleSettings />
                </dxe:ComboBoxEdit.StyleSettings>
                <dxmvvm:Interaction.Triggers>
                    <!--<dxmvvm:EventToCommand EventName="PopupClosed"
                                               Command="{Binding DataContext.PlantOwnerPopupClosedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                               CommandParameter="{Binding ElementName=scheduler}" PassEventArgsToCommand="True" />-->

                    <dxmvvm:EventToCommand EventName="EditValueChanged" 
                                           Command="{Binding DataContext.PlantOwnerEditValueChangedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}">
                        <dxmvvm:EventToCommand.CommandParameter>

                            <MultiBinding Converter="{Converters:ConverterForRefresh}">
                                <Binding ElementName="scheduler" />
                                <Binding ElementName="accordionControl" />
                            </MultiBinding>
                        </dxmvvm:EventToCommand.CommandParameter>
                    </dxmvvm:EventToCommand>
                </dxmvvm:Interaction.Triggers>
            </dxe:ComboBoxEdit>

            <!--Period-->
            <DockPanel Grid.Column="2" Grid.Row="0" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="5,0,0,0">
                <Image Style="{DynamicResource CalendarImageStyle}" Width="30" Height="20" Margin="2,0,3,0" />
                <TextBlock Text="{DynamicResource AnnualSalesPerformanceViewPeriod}" FontWeight="Bold" Margin="0,0,0,0" IsEnabled="True" />
            </DockPanel>

            <!--[GEOS2-8239][rdixit][07.07.2025]-->
            <dxe:DateEdit Grid.Row="0" Grid.Column="3" Name="cmbPeriod" IsTextEditable="False" Margin="5,0,0,0"              
                          HorizontalAlignment="Left" IsEnabled="True" Height="30" Width="100" PopupFooterButtons="OkCancel"            
                          MaxLength="4" Mask="MM-yyyy" MaskUseAsDisplayFormat="True" VerticalAlignment="Center"                                         
                          EditValue="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=SelectedHRMAttendanceDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                <dxe:DateEdit.StyleSettings>
                    <dxe:DateEditPickerStyleSettings />
                </dxe:DateEdit.StyleSettings>

                <dxmvvm:Interaction.Triggers>
                    <dxmvvm:EventToCommand EventName="EditValueChanged"
                           Command="{Binding DataContext.SelectedYearChangedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                           PassEventArgsToCommand="True">
                        <dxmvvm:EventToCommand.CommandParameter>
                            <MultiBinding Converter="{Converters:ConverterForRefresh}">
                                <Binding ElementName="scheduler" />
                                <Binding ElementName="accordionControl" />
                            </MultiBinding>
                        </dxmvvm:EventToCommand.CommandParameter>
                    </dxmvvm:EventToCommand>
                </dxmvvm:Interaction.Triggers>
            </dxe:DateEdit>

            <!--Add Attendance Button-->
            <Button Visibility="Visible" Grid.Row="0" Grid.Column="4" Height="40" Width="40" HorizontalAlignment="Right" 
                                Command="{Binding ButtonAddNewAttendance}" Margin="5,0,0,0"
                    IsEnabled="{Binding IsAcceptEnabled}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{Converters:ConverterForRefresh}">
                        <Binding ElementName="AttendanceTableView" />
                        <Binding ElementName="scheduler" />
                        <Binding ElementName="accordionControl" />
                    </MultiBinding>
                </Button.CommandParameter>
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource AddAttendance}" />
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="24" Width="24" Margin="-10" />
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!--ImportButton-->
            <Button Visibility="Visible" Grid.Row="0" Grid.Column="5" Height="40" Width="40" HorizontalAlignment="Right" 
                                Margin="5,0,0,0"
                    Command="{Binding ImportButtonCommand}"
                    IsEnabled="{Binding IsAcceptEnabled}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{Converters:ConverterForRefresh}">
                        <Binding ElementName="AttendanceTableView" />
                        <Binding ElementName="scheduler" />
                        <Binding ElementName="accordionControl" />
                    </MultiBinding>
                </Button.CommandParameter>
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonImport}" />
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{DynamicResource ImportButtonImageStyle}" Height="24" Width="24" Margin="-10" />
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!--Split Button-->
            <Button Grid.Row="0"                
                    Grid.Column="6"                
                    Height="40"                
                    Width="40"                
                    HorizontalAlignment="Right"                                     
                    Margin="5,0,0,0"
                    Visibility="{Binding IsSplitButtonVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"                     
                    IsEnabled="{Binding IsSplitButtonEnable,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"                
                    CommandParameter="{Binding ElementName=pageViewAttendanceSplit}"                
                    Command="{Binding SplitButtonCommand}"                
                    Content=" " >
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonSplit}" />
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Image Grid.Column="0"
                            Height="24"
                            Width="24"
                            Margin="-10"
                            Source="{DynamicResource SplitImageSource}"  />
                        </Grid>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>
            
            <!--RefreshButton-->
            <Button Visibility="Visible" Margin="5,0,0,0" Grid.Row="0" Grid.Column="7" Height="40" Width="40" HorizontalAlignment="Right" 
                                Command="{Binding RefreshButtonCommand}">
                <Button.CommandParameter>
                    <MultiBinding Converter="{Converters:ConverterForRefresh}">
                        <Binding ElementName="scheduler" />
                        <Binding ElementName="accordionControl" />
                        <Binding ElementName="AttendanceTableView" />
                    </MultiBinding>
                </Button.CommandParameter>
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource RefreshButton}" />
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{DynamicResource RefreshButtonImageStyle}" Height="24" Width="24" Margin="-10" />
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!-- Print Button-->
            <Button Visibility="Visible" Grid.Row="0" Grid.Column="8" Height="40" Width="40" HorizontalAlignment="Right" 
                                Command="{Binding PrintButtonCommand}"
                    CommandParameter="{Binding ElementName=AttendanceTableView}" Margin="5,0,0,0"
                    >
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonPrint}" />
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{DynamicResource PrinterButtonImageStyle}" Height="24" Width="24" Margin="-10" />
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!--ExportButton-->
            <Button Visibility="Visible" Grid.Row="0" Grid.Column="9" Height="40" Width="40" HorizontalAlignment="Right" 
                                Margin="5,0,0,0"
                    Command="{Binding ExportButtonCommand}" CommandParameter="{Binding ElementName=AttendanceTableView}">
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ExportButton}" />
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{DynamicResource ExcelExportButtonImageStyle}" Height="24" Width="24" Margin="-10" />
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!-- Switch View -->
            <dx:DropDownButton x:Name="dropdownButton" Content="Dropdown button" 
                                   HorizontalAlignment="Right" Height="40" Width="40" Grid.Row="0" Grid.Column="10" Margin="5,0,0,0" VerticalAlignment="Center">
                <dx:DropDownButton.Style>
                    <Style>
                        <Setter Property="dx:DropDownButtonBase.ArrowAlignment" Value="Right" />
                        <Setter Property="dx:DropDownButtonBase.ArrowPadding" Value="0" />
                    </Style>
                </dx:DropDownButton.Style>

                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource SwitchViewButtonTooltip}"></TextBlock>
                </Button.ToolTip>

                <Button.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Image Style="{ DynamicResource SwitchOrganizationImageStyle}" Grid.Column="0" Height="24" Width="24" Margin="-20" />
                        </Grid>
                    </DataTemplate>
                </Button.ContentTemplate>

                <dxb:PopupMenu>
                    <dxb:BarButtonItem Name="SchedulerView" Content="Scheduler View" Glyph="{DynamicResource SwitchActivityCalendar}" Command="{Binding ShowSchedulerViewCommand}" CommandParameter="{Binding ElementName=scheduler}" >
                        <dxb:BarButtonItem.Style>
                            <Style>
                                <Style.Triggers>
                                    <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="True">
                                        <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityCalendarMouseOver}" />
                                    </Trigger>
                                    <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="False">
                                        <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityCalendar}" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </dxb:BarButtonItem.Style>
                    </dxb:BarButtonItem>

                    <dxb:BarButtonItem Name="GridView" Content="Grid View" Glyph="{DynamicResource SwitchActivityGridview}" Command="{Binding ShowGridViewCommand}" CommandParameter="{Binding ElementName=dxgGridControl1}" >
                        <dxb:BarButtonItem.Style>
                            <Style>
                                <Style.Triggers>
                                    <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="True">
                                        <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityGridviewMouseOver}" />
                                    </Trigger>
                                    <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="False">
                                        <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityGridview}" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </dxb:BarButtonItem.Style>
                    </dxb:BarButtonItem>
                </dxb:PopupMenu>
            </dx:DropDownButton>


            <!--FilterButton  Rupali Sarode -->

            <!--Rupali Sarode - GEOS2-3751 Start    ="{Binding DataContext.AttendanceFilterAttendanceVisible, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=UserControl}}"-->
            <dxe:ComboBoxEdit IsEnabled="{Binding DataContext.AttendanceFilterAttendanceIsEnabled, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=UserControl}}"                            
							  Visibility="Collapsed"
                              Width="{Binding DataContext.AttendanceFilterAttendanceWidth, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=UserControl}}"
                              Style="{DynamicResource ComboBoxEditStyle}"  Name="filter" Grid.Column="11" Grid.Row="0"  VerticalAlignment="Top" HorizontalAlignment="Stretch" Height="40"                             
                              ItemsSource="{Binding DataContext.FilterAttendanceList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=UserControl}}"  Margin="5,5,5,5">
                <dxe:ComboBoxEdit.StyleSettings>
                    <dxe:CheckedComboBoxStyleSettings/>
                </dxe:ComboBoxEdit.StyleSettings>

                <dxe:ComboBoxEdit.Buttons>
                    <dxe:ButtonInfo IsLeft="True" GlyphKind="Custom" ButtonKind="Simple" IsDefaultButton="True" >
                        <dxe:ButtonInfo.ToolTip>
                            <TextBlock Text="{DynamicResource AppointmentFilterTooltip}"></TextBlock>
                        </dxe:ButtonInfo.ToolTip>
                        <dxe:ButtonInfo.ContentTemplate>
                            <DataTemplate>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <Image Style="{DynamicResource AppointmentFilterImageForDashboardStyle}" Grid.Column="0" Height="28" Width="36" />
                                </Grid>
                            </DataTemplate>
                        </dxe:ButtonInfo.ContentTemplate>
                    </dxe:ButtonInfo>
                </dxe:ComboBoxEdit.Buttons>
                <dxmvvm:Interaction.Triggers>
                    <dxmvvm:EventToCommand EventName="EditValueChanged" 
                                           Command="{Binding DataContext.FilterOptionEditValueChangedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}">
                        <dxmvvm:EventToCommand.CommandParameter>
                            <Binding ElementName="filter"></Binding>
                        </dxmvvm:EventToCommand.CommandParameter>
                    </dxmvvm:EventToCommand>
                    <dxmvvm:EventToCommand EventName="Loaded" Command="{Binding DataContext.FilterOptionLoadedCommand, Mode=OneTime, RelativeSource={RelativeSource AncestorType=UserControl}}">
                        <dxmvvm:EventToCommand.CommandParameter>
                            <Binding ElementName="filter"></Binding>
                        </dxmvvm:EventToCommand.CommandParameter>
                    </dxmvvm:EventToCommand>
                </dxmvvm:Interaction.Triggers>
            </dxe:ComboBoxEdit>
            <!--Rupali Sarode - GEOS2-3751 End-->

        </Grid>

    </Grid>

</UserControl>
