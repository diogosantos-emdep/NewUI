<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Hrm.Views.AddEditJobOfferView"
               xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.Views"
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
             xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"  
             xmlns:Interactive="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"            
             xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
             xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:dxeh="http://schemas.devexpress.com/winfx/2008/xaml/editors/internal"
             xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
             xmlns:dxci="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"  
             xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
             xmlns:Converter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
             xmlns:core="http://schemas.devexpress.com/winfx/2008/xaml/core"          
             Height="{Binding DataContext.SystemParameters.PrimaryScreenHeight}" 
             Width="{Binding DataContext.SystemParameters.PrimaryScreenWidth}"
             Template="{StaticResource Maximized_DXDialogWindow}"
             Style="{DynamicResource WinUIDialogWindowStyle}"            
             HorizontalAlignment="Stretch"
             HorizontalContentAlignment="Stretch"
             VerticalAlignment="Stretch"
             VerticalContentAlignment="Stretch">	
	<dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding DataContext.CancelButtonCommand,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"/>
    </dxwui:WinUIDialogWindow.InputBindings>
    <!--[nsatpute][28-04-2025][GEOS2-6502]-->
    <dxwui:WinUIDialogWindow.TitleStyle>
        <Style TargetType="ContentControl">
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="45"/>
                                <ColumnDefinition Width="45"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Margin="20,0,0,0" Text="{Binding DataContext.WindowHeader,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}" Grid.Column="0" Style="{DynamicResource CustomTitleStyle}" />
                          
                            <dxe:ListBoxEdit x:Name="WorkflowStatusBtns" Grid.Column="1"
                                 ItemsSource="{Binding DataContext.WorkflowStatusButtons,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}"
                                 SelectedItem="{Binding DataContext.SelectedWorkflowStatusButton, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}"
                                 AllowItemHighlighting="False" SelectionMode="Single" Focusable="False" Margin="100,0,0,0" ShowBorder="False" >
                                <dxe:ListBoxEdit.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" >
                                        </StackPanel>
                                    </ItemsPanelTemplate>
                                </dxe:ListBoxEdit.ItemsPanel>
                                <dxe:ListBoxEdit.ItemTemplate>
                                    <DataTemplate>
                                        <Button x:Name="WorkflowStatusBtn" Style="{DynamicResource Button16Style}"
                                                     Content="{Binding Name}"
                                                     IsEnabled="True"
                                                     Height="30"
                                                     Width="200"
                                                Command="{Binding DataContext.WorkflowButtonClickCommand, RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}"
                                                CommandParameter="{Binding IdWorkflowStatus}"
                                                Background="{Binding HtmlColor}" core:ThemeManager.ThemeName="None"/>
                                    </DataTemplate>
                                </dxe:ListBoxEdit.ItemTemplate>
                            </dxe:ListBoxEdit>
                            <!--ERF button-->
                            <Button Visibility="Visible" Grid.Row="0" Grid.Column="1" Height="40" Width="40" HorizontalAlignment="Right" 
                                      Command="{Binding PrintButtonCommand}"
                                      CommandParameter="{Binding ElementName=EmployeeProfileTableView}" Margin="0,0,5,5">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource ButtonPrint}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource ERFButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                            <!--Print button-->                           
                            <Button Visibility="Visible" Grid.Row="0" Grid.Column="2" Height="40" Width="40" HorizontalAlignment="Right" 
                                         Command="{Binding PrintButtonCommand}"
                                         CommandParameter="{Binding ElementName=EmployeeProfileTableView}" Margin="0,0,5,5">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource ButtonPrint}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource PrinterButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                            <!--Badge button-->
                            <Button Visibility="Visible" Grid.Row="0" Grid.Column="3" Height="40" Width="40" HorizontalAlignment="Right" 
                               Command="{Binding PrintButtonCommand}"
                               CommandParameter="{Binding ElementName=EmployeeProfileTableView}" Margin="0,0,5,5">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource ButtonPrint}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource PrinterEmployeeIdBadgeButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                        </Grid>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </dxwui:WinUIDialogWindow.TitleStyle>
    <dxwui:WinUIDialogWindow.Resources>

		   <Converter:DelegatedToImageURLConverter x:Key="DelegatedToImageURLConverter" />
		<ControlTemplate x:Key="popupContentTemplate">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>
				<dxg:GridControl Grid.Row="0" x:Name="PART_GridControl" AutoExpandAllGroups="True"  >
					<dxg:GridControl.Columns>
						<dxg:GridColumn Header=" " FieldName="OwnerImage">
							<dxg:GridColumn.CellTemplate>
								<DataTemplate>
									<Image Source="{Binding RowData.Row.EmployeeCodeWithIdGender, Converter={StaticResource DelegatedToImageURLConverter},ConverterParameter='image/png'}"                            
										   VerticalAlignment="Center" Height="60" Width="Auto" Margin="2,0,0,0" >
										<Image.ToolTip>
											<Image  Source="{Binding RowData.Row.EmployeeCodeWithIdGender, Converter={StaticResource DelegatedToImageURLConverter}, ConverterParameter='image/png'}"                                       
													VerticalAlignment="Center" Height="200" Width="300" Margin="2,0,0,0" />
										</Image.ToolTip>
									</Image>
								</DataTemplate>
							</dxg:GridColumn.CellTemplate>
						</dxg:GridColumn>						
						<dxg:GridColumn FieldName="EmployeeCode" />
						<dxg:GridColumn FieldName="FirstName" />
						<dxg:GridColumn FieldName="LastName" />
						<dxg:GridColumn FieldName="EmployeeJobDescription.JobDescription.JobDescriptionCode" />
						<dxg:GridColumn FieldName="Organization" />
						<dxg:GridColumn FieldName="UserName" />
					</dxg:GridControl.Columns>
					<dxg:GridControl.View>
						<dxg:TableView Name="View"
                                       ShowGroupedColumns="True"
                                       AutoWidth="True"
                                       AllowPerPixelScrolling="True"
                                       SearchPanelAllowFilter="False"
                                       ScrollAnimationDuration="0"
                                       ShowAutoFilterRow="True"
                                       ShowTotalSummary="True"
                                       IsSynchronizedWithCurrentItem="False" >
							<dxg:TableView.RowStyle>
								<Style TargetType="{x:Type dxg:RowControl}">
									<Style.Triggers>
										<MultiDataTrigger>
											<MultiDataTrigger.Conditions>
												<Condition Binding="{Binding Row.IsInActive}" Value="True" />
											</MultiDataTrigger.Conditions>
											<MultiDataTrigger.Setters>
												<Setter Property="Foreground" Value="Gray" />
												<Setter Property="IsEnabled" Value="False" />
											</MultiDataTrigger.Setters>
										</MultiDataTrigger>
									</Style.Triggers>
								</Style>
							</dxg:TableView.RowStyle>
						</dxg:TableView>
					</dxg:GridControl.View>
				</dxg:GridControl>
			</Grid>
		</ControlTemplate>
        <Converter:DateTimeConverterForEmployeeTrip x:Key="DateOnlyConverter"/>
        <Converter:ImageUrlToByteArrayConverter x:Key="ImageUrlToByteArrayConverter"/>	
        <Converter:ForegroundColorConverter x:Key="ForegroundColorConverter"/>
        <dx:BooleanToVisibilityConverter x:Key="boolToVisibilityConverter" />
        <Style x:Key="myGroupBoxStyle" TargetType="{x:Type dxlc:GroupBox}">
            <Setter Property="MaximizeElementVisibility" Value="Visible" />
            <Setter Property="Width" Value="300" />
            <Setter Property="Height" Value="150" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding MaximizedElementPosition}" Value="Bottom">
                    <Setter Property="Width" Value="300" />
                    <Setter Property="Height" Value="27" />
                </DataTrigger>
                <DataTrigger Binding="{Binding MaximizedElementPosition}" Value="Top">
                    <Setter Property="Width" Value="300" />
                    <Setter Property="Height" Value="27" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <DataTemplate x:Key="SummaryTemplate">
            <ContentControl>
                <dxg:GridSummaryItem FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}"
                                     SummaryType="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).Type, RelativeSource={RelativeSource Self}}"
                                     DisplayFormat= "{Binding Path=(dxci:DependencyObjectExtensions.DataContext).DisplayFormat, RelativeSource={RelativeSource Self}}">
                </dxg:GridSummaryItem>
            </ContentControl>
        </DataTemplate>
    </dxwui:WinUIDialogWindow.Resources>
    <!--<ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">-->
    <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Width="{Binding DialogWidth}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="45"/>
        </Grid.RowDefinitions>
        <dxlc:FlowLayoutControl x:Name="flowLayoutControl"
                               Grid.Row="0"
                               BreakFlowToFit="False"
                               AllowMaximizedElementMoving="False"
                               Background="Transparent"
                               MaximizedElementPosition="Right"
                               Orientation="Horizontal"
                               Padding="5"
                               ItemSpace="5"
                               LayerSpace="5">
            <dxmvvm:Interaction.Behaviors>
                <UIHelper:FlowLayoutControlForMinimiseMaximise/>
            </dxmvvm:Interaction.Behaviors>
            <!--Information-->
            <dxlc:GroupBox x:Name="Information" MaximizeElementVisibility="Visible" Style="{StaticResource myGroupBoxStyle}">
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock VerticalAlignment="Center"
                                                   FontWeight="Bold"
                                                   Text="{DynamicResource Employeerecruitment_Information}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ExpenseCount"                                 
                                    Text="{Binding DataContext.TripCount, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"/>
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource Tripdetailswithcomma_Code}" Grid.Row="0" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="3,0,0,0" Padding="2"  Text="{Binding DataContext.Code, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}">
                            </TextBlock>
                            <Label Content="{DynamicResource Tripdetailswithcomma_From}" Grid.Row="1" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>                            
                            <StackPanel Grid.Row="1" Grid.Column="1" Margin="3,0,0,0" HorizontalAlignment="Left" Orientation="Horizontal">
                                <Image Source="{Binding DataContext.SelectedOrigin.Country, Converter={StaticResource ImageUrlToByteArrayConverter}, UpdateSourceTrigger=PropertyChanged, ConverterParameter='image/png', RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                   ToolTip="{Binding DataContext.SelectedOrigin.Country.CountryName, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                   VerticalAlignment="Center" 
                                   Grid.Column="0" 
                                   Height="24" 
                                   Width="24" 
                                   Margin="0,0,10,0" />
                                <TextBlock Grid.Column="1" 
                                        Text="{Binding DataContext.SelectedOrigin.Alias, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                        ToolTip="{Binding DataContext.SelectedOrigin.Alias, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"  
                                        VerticalAlignment="Top" />
                            </StackPanel>
                            <Label Content="{DynamicResource Tripdetailswithcomma_To}" Grid.Row="2" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>
                            
                            <StackPanel Grid.Row="2" Grid.Column="1" Margin="3,0,0,0" HorizontalAlignment="Left" Orientation="Horizontal">
                                <Image Source="{Binding DataContext.SelectedDestination.Country.CountryIconUrl,Converter={StaticResource ImageUrlToByteArrayConverter},UpdateSourceTrigger=PropertyChanged ,ConverterParameter='image/png', RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"   
                                       VerticalAlignment="Center" Grid.Column="0" Height="24" Width="24" Margin="0,0,10,0" />
                                <TextBlock Grid.Column="1" Text="{Binding DataContext.SelectedDestination.Name, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"  ToolTip="{Binding DataContext.SelectedDestination.Name, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"  VerticalAlignment="Top" />
                            </StackPanel>
                            <Label Content="{DynamicResource Tripdetailswithcomma_Departsat}" Grid.Row="3" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" Margin="3,0,0,0" Padding="2"  
                                   Text="{Binding DataContext.DepartureDate, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"
                                                ToolTip="{Binding DataContext.DepartureDateWithFormat, RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}"  TextWrapping="WrapWithOverflow" Width="Auto" TextTrimming="CharacterEllipsis">
                            </TextBlock>
                            <Label Content="{DynamicResource Tripdetailswithcomma_Traveler}" Grid.Row="4" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>
                           
                            <TextBlock Grid.Row="4" Grid.Column="1" Margin="3,0,0,0" Padding="2"  
                                       TextWrapping="WrapWithOverflow"
                                       Width="Auto"
                                       TextTrimming="CharacterEllipsis">
                                <TextBlock.Text>
                                    <PriorityBinding>
                                        <Binding Path="DataContext.SelectedTraveller.FullName" 
                                                 RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" />
                                        <Binding Path="DataContext.CustomTraveler" 
                                                 RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" />
                                    </PriorityBinding>
                                </TextBlock.Text>
                                <TextBlock.ToolTip>
                                    <PriorityBinding>
                                        <Binding Path="DataContext.SelectedTraveller.FullName" 
                                                 RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" />
                                        <Binding Path="DataContext.CustomTraveler" 
                                                 RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" />
                                    </PriorityBinding>
                                </TextBlock.ToolTip>
                            </TextBlock>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>
                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto" HorizontalAlignment="Stretch">
                            <Grid >
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="5"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="200"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="200"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="200"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="5"/>
                                    <ColumnDefinition Width="50"/>
                                </Grid.ColumnDefinitions>
                                
                                
                               <!--Row 1-->
                                <!--Code-->
                                <TextBlock Text="{DynamicResource Employeejoboffer_Code}" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="1"  Grid.Column="0"/>

                                <dxe:TextEdit Name="Code" Grid.Row="1"  Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Center"
                                Height="25" MinWidth="50"                                                          
												  IsEnabled="True"                                              
												  Text="{Binding DataContext.TravelerEmail,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" >
                                    <dxe:TextEdit.EditValue>
                                        <Binding Path="DataContext.TravelerEmail" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                            <Binding.ValidationRules>
                                                <Validation:AddEditTripValidations FieldName="Code" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:TextEdit.EditValue>
                                </dxe:TextEdit>
                                
                                <!--Closed Date-->
                                <TextBlock Text="{DynamicResource Employeejoboffer_Closedate}" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="1"  Grid.Column="4"/>

                                <dxe:ComboBoxEdit  Grid.Row="1" Grid.Column="6"  MinWidth="30" Style="{DynamicResource ComboBoxEditStyle}" ValueMember="IdLookupValue"
														  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsTextEditable="False" DisplayMember="Value"
														  ApplyItemTemplateToSelectedItem="True" IsSynchronizedWithCurrentItem="True" AllowUpdateTwoWayBoundPropertiesOnSynchronization="True"
														  IsEnabled="{Binding DataContext.IsControlsEnable,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
														  ItemsSource="{Binding DataContext.TypeList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
								<dxe:ComboBoxEdit.SelectedItem>
												<Binding Path="DataContext.SelectedType" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}"
														 ValidatesOnDataErrors="True"  UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
													<Binding.ValidationRules>
														<Validation:AddEditTripValidations FieldName="SelectedType" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
													</Binding.ValidationRules>
												</Binding>
								</dxe:ComboBoxEdit.SelectedItem>
				            </dxe:ComboBoxEdit>
                                
                                
                                <!--Type-->
                                <TextBlock Text="{DynamicResource Employeejoboffer_Type}" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="1"  Grid.Column="8"/>


                                <dxe:ComboBoxEdit  Grid.Row="1" Grid.Column="10"  MinWidth="30" Style="{DynamicResource ComboBoxEditStyle}" ValueMember="IdLookupValue"
														  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsTextEditable="False" DisplayMember="Value"
														  ApplyItemTemplateToSelectedItem="True" IsSynchronizedWithCurrentItem="True" AllowUpdateTwoWayBoundPropertiesOnSynchronization="True"
														  IsEnabled="{Binding DataContext.IsControlsEnable,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
														  ItemsSource="{Binding DataContext.TypeList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                    <dxe:ComboBoxEdit.SelectedItem>
                                        <Binding Path="DataContext.SelectedType" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}"
														 ValidatesOnDataErrors="True"  UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:AddEditTripValidations FieldName="SelectedType" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedItem>
                                </dxe:ComboBoxEdit>

                                <!--Status-->
                                <TextBlock Text="{DynamicResource Employeejoboffer_Status}" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="1"  Grid.Column="12"/>


                                <dxe:ComboBoxEdit  Grid.Row="1" Grid.Column="22"  MinWidth="30" Style="{DynamicResource ComboBoxEditStyle}" ValueMember="IdLookupValue"
												  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsTextEditable="False" DisplayMember="Value"
												  ApplyItemTemplateToSelectedItem="True" IsSynchronizedWithCurrentItem="True" AllowUpdateTwoWayBoundPropertiesOnSynchronization="True"
												  IsEnabled="{Binding DataContext.IsControlsEnable,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
												  ItemsSource="{Binding DataContext.TypeList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                    <dxe:ComboBoxEdit.SelectedItem>
                                        <Binding Path="DataContext.SelectedType" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}"
												 ValidatesOnDataErrors="True"  UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                            <Binding.ValidationRules>
                                                <Validation:AddEditTripValidations FieldName="SelectedType" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedItem>
                                </dxe:ComboBoxEdit>

                            </Grid>
                        </ScrollViewer>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>
            <!--Candidates-->
            <dxlc:GroupBox x:Name="Candidates" MaximizeElementVisibility="Visible" Style="{StaticResource myGroupBoxStyle}">
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <DockPanel.Style>
                                <Style TargetType="DockPanel">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsMaximized, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="False">
                                            <Setter Property="Height" Value="0"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DockPanel.Style>
                            <TextBlock VerticalAlignment="Center"
                                                   FontWeight="Bold"
                                                   Text="{DynamicResource Employeerecruitment_Candidates}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ExpenseCount"                                 
                                    Text="{Binding DataContext.ExpenseCount, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"/>
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>            
                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                       
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>
            <!-- Links -->
            <dxlc:GroupBox x:Name="Links" Style="{StaticResource myGroupBoxStyle}" State="{Binding DataContext.Attachmentvisiblevisibility, Mode=Twoway, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" >
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock Margin="5,0,0,0"
               VerticalAlignment="Center"
               FontWeight="Bold"
               Text="{DynamicResource Employeerecruitment_Links}"/>
                            <TextBlock Width="50"
               Margin="5,1,0,0"
               HorizontalAlignment="Left"
               VerticalAlignment="Center"
               FontWeight="Bold"
               Name="AttachmentCount"
               Text="{Binding DataContext.ListAttachment.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid Margin="-5" x:Name="PART_Root">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="25" />
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <!-- Row 0 -->
                            <TextBlock Grid.Row="0" Grid.Column="0" Margin="3,0,0,0" Padding="2" FontWeight="Bold" Text="{DynamicResource AttachmentsFileNameWithColon}"  TextWrapping="Wrap">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.ListAttachment[0].FileName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="3,0,0,0" Padding="2" ToolTip="{Binding DataContext.ListAttachment[0].FileName,Mode=Twoway, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Text="{Binding DataContext.ListAttachment[0].FileName,Mode=Twoway, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.ListAttachment[0].FileName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <!-- Row 1 -->
                            <TextBlock Grid.Row="1" Grid.Column="0" Margin="3,0,0,0" Padding="2" FontWeight="Bold" Text="{DynamicResource AttachmentsFileNameWithColon}">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.ListAttachment[1].FileName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <TextBlock Grid.Row="1" Grid.Column="1" Margin="3,0,0,0" Padding="2" Text="{Binding DataContext.ListAttachment[1].FileName,Mode=Twoway, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" ToolTip="{Binding DataContext.ListAttachment[1].FileName,Mode=Twoway, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.ListAttachment[1].FileName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <!-- Row 2 -->
                            <TextBlock Grid.Row="2" Grid.Column="0" Margin="3,0,0,0" Padding="2" FontWeight="Bold" Text="{DynamicResource AttachmentsFileNameWithColon}">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.ListAttachment[2].FileName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <TextBlock Grid.Row="2" Grid.Column="1" Margin="3,0,0,0" Padding="2" Text="{Binding DataContext.ListAttachment[2].FileName,Mode=Twoway, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"  ToolTip="{Binding DataContext.ListAttachment[2].FileName,Mode=Twoway, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextWrapping="Wrap">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.ListAttachment[2].FileName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>                            
                            <Grid.Style>
                                <Style TargetType="{x:Type Grid}">
                                    <Setter Property="Visibility" Value="Visible" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.ListAttachment.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="0">
                                            <Setter Property="Visibility" Value="Hidden" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>
                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="10" />
                                <RowDefinition Height="30" />
                            </Grid.RowDefinitions>
                            <dxg:GridControl HorizontalAlignment="Stretch"
                 VerticalAlignment="Stretch"
                 Padding="0" 
                 MaxHeight="1000"
                 ImplyNullLikeEmptyStringWhenFiltering="True" 
                 ItemsSource="{Binding DataContext.ListAttachment, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}, Mode=TwoWay}"
                                 SelectedItem= "{Binding DataContext.SelectedAttachment, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}, Mode=TwoWay}">
                                <dxg:GridColumn FieldName="TripAttachmentType.Value" Header="{DynamicResource Tripdetails_Type}" FixedWidth="False" Width="50" HorizontalHeaderContentAlignment="Left" FilterPopupMode="CheckedList" />
                                <dxg:GridColumn FieldName="FileName" Header="{DynamicResource Tripdetails_Filename}" FixedWidth="False" Width="80*" HorizontalHeaderContentAlignment="Left" FilterPopupMode="CheckedList" />
                                <dxg:GridColumn FieldName="Description" Header="{DynamicResource Tripdetails_Description}" FixedWidth="False" Width="100*" SortMode="Custom" HorizontalHeaderContentAlignment="Left" FilterPopupMode="CheckedList" />
                                <dxg:GridColumn FixedWidth="True" Width="50" HorizontalHeaderContentAlignment="Center" FilterPopupMode="CheckedList">
                                    <dxg:GridColumn.CellTemplate>
                                        <DataTemplate>                                            
                                            <Image Source="{Binding Path=Data.AttachmentImage}" Height="24" Width="24" />
                                        </DataTemplate>
                                    </dxg:GridColumn.CellTemplate>
                                </dxg:GridColumn>
                                <dxg:GridColumn  FixedWidth="True" Width="45" HorizontalHeaderContentAlignment="Center">
                                    
                                    <dxg:GridColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Name="download"
                                    Command="{Binding DataContext.DownloadFileCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}}}"
                                    CommandParameter="{Binding RowData.Row}"
                                    Content="" >
                                                <Button.ContentTemplate>
                                                    <DataTemplate>
                                                        <Image Height="16" Width="16" Source="{DynamicResource DownloadAttachmentButtonImage}" />
                                                    </DataTemplate>
                                                </Button.ContentTemplate>
                                            </Button>
                                        </DataTemplate>
                                    </dxg:GridColumn.CellTemplate>
                                </dxg:GridColumn>
                                <dxg:GridColumn Width="45" FieldName="" FixedWidth="True" HorizontalHeaderContentAlignment="Center">
                                    
                                    <dxg:GridColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Name="delete" ToolTip="{DynamicResource Delete}"
                                    Command="{Binding DataContext.DeleteFileCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}}}"
                                    CommandParameter="{Binding RowData.Row}"
                                    Content="">
                                                <Button.ContentTemplate>
                                                    <DataTemplate>
                                                        <Image Height="16" Width="16"  Style="{ DynamicResource DeleteStyle}" />
                                                    </DataTemplate>
                                                </Button.ContentTemplate>
                                                <Button.Style>
                                                    <Style TargetType="{x:Type Button}">
                                                        <Style.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Cursor" Value="Hand"/>
                                                            </Trigger>
                                                            <DataTrigger Binding="{Binding DataContext.IsAllControlDisabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                             Value="True">
                                                                <Setter Property="IsEnabled" Value="False" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Button.Style>
                                            </Button>
                                        </DataTemplate>
                                    </dxg:GridColumn.CellTemplate>
                                </dxg:GridColumn>
                                <dxmvvm:Interaction.Behaviors>
                                    <dxmvvm:EventToCommand EventName="CustomColumnSort"
                               Command="{Binding DataContext.CustomSortColumnDataCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}}}"
                               PassEventArgsToCommand="True"/>
                                </dxmvvm:Interaction.Behaviors>
                                <dxg:GridControl.View>
                                    <dxg:TableView x:Name="attachmentTable" NavigationStyle="Row" 
                               AutoWidth="True" 
                               ShowGroupPanel="False" 
                               AllowEditing="True" 
                               Focusable="True" 
                               FadeSelectionOnLostFocus="False"
                               HorizontalScrollbarVisibility="Hidden" 
                               VerticalScrollbarVisibility="Auto" 
                               ShowIndicator="False"
                               SearchPanelHorizontalAlignment="Stretch"
                               ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                               >
                                        <dxg:TableView.ColumnHeaderStyle>
                                            <Style TargetType="dxg:BaseGridHeader">
                                                <Setter Property="Height" Value="30" />
                                            </Style>
                                        </dxg:TableView.ColumnHeaderStyle>
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding DataContext.EditFileCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                    EventName="MouseDoubleClick"
                                    CommandParameter="{Binding ElementName=attachmentTable}">
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter />
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </dxmvvm:Interaction.Behaviors>
                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>
                            <Button Grid.Row="2" Grid.Column="1" HorizontalAlignment="Right"  Padding="5,0,5,0"
                        IsEnabled="{Binding DataContext.IsControlsEnable,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                    Command="{Binding DataContext.AddAttachmentFileCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource Tripdetailsattachment_Addattachment}"/>
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{DynamicResource AddNewButtonImageStyle}" Height="20" Width="20" />
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                            <dxe:FlyoutControl PlacementTarget="{Binding ElementName=btnAddNewAttachment}" StaysOpen="True">
                                <dxmvvm:Interaction.Behaviors>
                                    <UIHelper:FlyoutControlBehavior IsOpen="{Binding DataContext.ShowCommentsFlyout, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                </dxmvvm:Interaction.Behaviors>
                                <dxe:FlyoutControl.Settings>
                                    <dxe:FlyoutSettings Placement="Left" />
                                </dxe:FlyoutControl.Settings>
                                <Grid HorizontalAlignment="Stretch" VerticalAlignment="Bottom">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <dxe:ComboBoxEdit x:Name="editor" Width="650" Height="60" NullText="{DynamicResource ActivityNoFileChose}"
                                    EditValue="{Binding DataContext.OTAttachmentList,RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                    ItemsSource="{Binding DataContext.OTAttachmentList,RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                                    DisplayMember="FileUploadName" HorizontalAlignment="Stretch"
                                    AllowDefaultButton="False"
                                    AutoComplete="True"
                                    ImmediatePopup="True"
                                    ValidateOnEnterKeyPressed="True" 
                                    ValidateOnTextInput="True"
                                    IsTextEditable="False" Style="{DynamicResource ComboBoxEditStyle}">
                                        <dxe:ComboBoxEdit.StyleSettings>
                                            <dxe:TokenComboBoxStyleSettings NewTokenPosition="Far" EnableTokenWrapping="True" />
                                        </dxe:ComboBoxEdit.StyleSettings>
                                    </dxe:ComboBoxEdit>
                                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right"
                    >
                                        <Button Height="30"
                        Width="Auto" Margin="0 5 0 0"
                        HorizontalAlignment="Right"
                        CommandParameter="{Binding ElementName=gcattachment}"
                        Content="{DynamicResource ActivityFileChoose}"/>
                        <Button Height="30"
                        Margin="5 0 0 0"
                      VerticalAlignment="Bottom"
                      HorizontalAlignment="Right"
                        DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                      FontWeight="Bold"
                      Command="{Binding UploadFileCommand}"
                         Name="btnAttachFile">
                                            <Button.Style>
                                                <Style TargetType="{x:Type Button}">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding DataContext.OTAttachmentList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="0">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Button.Style>
                                            <Button.ContentTemplate>
                                                <DataTemplate>
                                                    <Image Height="24"
                           Width="24"
                           Margin="-10"
                           VerticalAlignment="Stretch"
                           HorizontalAlignment="Stretch"
                           Style="{DynamicResource UploadAttachmentButtonImageStyle}" />
                                                </DataTemplate>
                                            </Button.ContentTemplate>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </dxe:FlyoutControl>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>
            <!--Change Logs-->
            <dxlc:GroupBox x:Name="ChangLog" MaximizeElementVisibility="Visible" Style="{StaticResource myGroupBoxStyle}">
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock VerticalAlignment="Center"
                                                   FontWeight="Bold"
                                                   Text="{DynamicResource Employeerecruitment_Changelog}" />
                            <TextBlock Width="50"
                                                   Margin="5,1,0,0"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   FontWeight="Bold"
                                                   Name="DetectionChangeLogListCount"
                                                   Text="{Binding DataContext.TripChangeLogList.Count, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="{DynamicResource DateUserWithColon}" Grid.Row="0" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="3,0,0,0" Padding="2"  Text="{Binding DataContext.TripChangeLogList[0].DateTimeChangeLog, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"
                                           >
                            </TextBlock>
                            <Label Content="{DynamicResource UserWithColon}" Grid.Row="1" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Margin="3,0,0,0" Padding="2" 
                                           ToolTip="{Binding DataContext.TripChangeLogList[0].UserName,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                           Text="{Binding DataContext.TripChangeLogList[0].UserName, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" TextWrapping="Wrap">
                            </TextBlock>
                            <Label Content="{DynamicResource ActionWithColon}" Grid.Row="2" Grid.Column="0" Margin="3,0,0,0" Padding="2"  FontWeight="Bold"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Margin="3,0,0,0" Padding="2"  
                               Text="{Binding DataContext.TripChangeLogList[0].Comments, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                           ToolTip="{Binding DataContext.TripChangeLogList[0].Comments, RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}"  TextWrapping="WrapWithOverflow" Width="Auto" TextTrimming="CharacterEllipsis">
                            </TextBlock>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>
                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <dxg:GridControl VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                                                     ItemsSource="{Binding DataContext.TripChangeLogList,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}" SelectionMode="Row"
                                                     ImplyNullLikeEmptyStringWhenFiltering="True"
                                                     SelectedItem="{Binding DataContext.SelectedTripChangeLog, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                            <dxg:GridControl.Resources>
                                <dx:ListOfObjectToIEnumerableOfStringConverter x:Key="listConverter"/>
                                <dx:EditorStringIdConverter x:Key="EditorStringIdConverter" />
                                <dx:BoolInverseConverter x:Key="boolInverseConverter"/>
                                <dx:VisibilityToBoolInverseConverter x:Key="visibilityToBoolInverseConverter"/>
                                <dx:StringToVisibilityConverter x:Key="stringToVisibilityConverter"/>
                                <Style x:Key="{dxet:SearchControlThemeKey ResourceKey=FindButtonStyle}" TargetType="{x:Type Button}">
                                    <Setter Property="Margin" Value="0,0,6,0"/>
                                    <Setter Property="dx:FocusHelper2.Focusable" Value="False" />
                                    <Setter Property="Content" Value="{Binding Path=IsTabStop, RelativeSource={RelativeSource Self}, ConverterParameter=LookUpFind, Converter={StaticResource EditorStringIdConverter}}" />
                                </Style>
                                <Style x:Key="{dxet:SearchControlThemeKey ResourceKey=CloseButtonStyle}" TargetType="{x:Type Button}">
                                    <Setter Property="dx:FocusHelper2.Focusable" Value="False" />
                                    <Setter Property="Content" Value="{Binding Path=IsTabStop, RelativeSource={RelativeSource Self}, ConverterParameter=LookUpClose, Converter={StaticResource EditorStringIdConverter}}" />
                                </Style>
                                <dx:BoolToObjectConverter x:Key="NullValueButtonPlacementConverter">
                                    <dx:BoolToObjectConverter.TrueValue>EditBox</dx:BoolToObjectConverter.TrueValue>
                                    <dx:BoolToObjectConverter.FalseValue>None</dx:BoolToObjectConverter.FalseValue>
                                </dx:BoolToObjectConverter>
                                <dx:BooleanToVisibilityConverter x:Key="boolToVisibilityConverter" />
                                <ControlTemplate x:Key="{dxet:SearchControlThemeKey ResourceKey=Template, IsThemeIndependent=true}">
                                    <ContentControl dx:FocusHelper2.Focusable="False" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="2" />
                                            </Grid.ColumnDefinitions>
                                            <dxe:ComboBoxEdit MinHeight="22" Grid.Column="0" HorizontalAlignment="Stretch" 
                                                            ImmediatePopup="{Binding Path= SearchControlPropertyProvider.ActualImmediateMRUPopup, RelativeSource={RelativeSource TemplatedParent}}"
                                                            x:Name="editor" AllowDefaultButton="False"
                                                            ShowNullText="{Binding Path=SearchControlPropertyProvider.ActualShowFindButton, RelativeSource={RelativeSource TemplatedParent}, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource boolInverseConverter}}"
                                                            dxeh:MVVMFocusBehavior.IsFocused="{Binding Path=IsKeyboardFocusWithin, RelativeSource={RelativeSource TemplatedParent}, UpdateSourceTrigger=PropertyChanged}"
                                                            ItemsSource="{Binding Path=MRU, RelativeSource={RelativeSource TemplatedParent}}"
                                                            Margin="0"
                                                            ValidateOnEnterKeyPressed="True"
                                                            IncrementalFiltering="False"
                                                            IsCaseSensitiveSearch="True"
                                                            EditValuePostDelay="{Binding Path=SearchTextPostDelay, RelativeSource={RelativeSource TemplatedParent}}"
                                                            EditValuePostMode="{Binding Path=SearchControlPropertyProvider.ActualPostMode, RelativeSource={RelativeSource TemplatedParent}}"
                                                            EditValue="{Binding Path=SearchText, RelativeSource={RelativeSource TemplatedParent}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                            IsTabStop="{Binding IsEditorTabStop, RelativeSource={RelativeSource TemplatedParent}, UpdateSourceTrigger=PropertyChanged}">
                                                <dxe:ComboBoxEdit.NullText>
                                                    <MultiBinding>
                                                        <Binding Path="NullText" RelativeSource="{RelativeSource TemplatedParent}" />
                                                        <Binding Path="IsTabStop" RelativeSource="{RelativeSource Self}" Converter="{StaticResource EditorStringIdConverter}" ConverterParameter="LookUpSearch" />
                                                        <MultiBinding.Converter>
                                                            <dx:SearchControlNullTextConverter />
                                                        </MultiBinding.Converter>
                                                    </MultiBinding>
                                                </dxe:ComboBoxEdit.NullText>
                                                <dxe:ComboBoxEdit.StyleSettings>
                                                    <dxe:SearchControlStyleSettings/>
                                                </dxe:ComboBoxEdit.StyleSettings>
                                                <dxe:ComboBoxEdit.Buttons>
                                                    <dxe:ButtonInfo GlyphKind="Custom" x:Name="buttonClear"
                                                                                Command="{Binding Path=SearchControlPropertyProvider.ClearSearchTextCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                                                Visibility="{Binding Path=SearchControlPropertyProvider.ActualShowClearButton, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource boolToVisibilityConverter}}">
                                                        <dxe:ButtonInfo.Template>
                                                            <DataTemplate>
                                                                <dxe:ButtonClose Command="{Binding Command}" Visibility="{Binding Visibility}" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="2,0" />
                                                            </DataTemplate>
                                                        </dxe:ButtonInfo.Template>
                                                    </dxe:ButtonInfo>
                                                    <dxe:ButtonInfo GlyphKind="DropDown"
                                                                                Command="{Binding Path=OpenPopupCommand, ElementName=editor}"
                                                                                Visibility="{Binding Path=ShowMRUButton, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource boolToVisibilityConverter}}" />
                                                </dxe:ComboBoxEdit.Buttons>
                                            </dxe:ComboBoxEdit>
                                        </Grid>
                                    </ContentControl>
                                </ControlTemplate>
                            </dxg:GridControl.Resources>
                            <dxg:GridColumn Header="{DynamicResource User}" FieldName="UserName" MinWidth="100" Width="150" ReadOnly="True" FixedWidth="True"  UnboundType="String" FilterPopupMode="CheckedList">
                            </dxg:GridColumn>
                            <dxg:GridColumn Header="{DynamicResource DateUser}" FieldName="DateTimeChangeLog"  MinWidth="100" Width="150"  ReadOnly="True" FixedWidth="True" FilterPopupMode="CheckedList">
                                <dxg:GridColumn.EditSettings>
                                    <dxe:DateEditSettings DisplayFormat="g" Name="changeLogTime" />
                                </dxg:GridColumn.EditSettings>
                            </dxg:GridColumn>
                            <dxg:GridColumn Header="{DynamicResource Action}" FieldName="Comments"  MinWidth="100" Width="*" ReadOnly="True" FixedWidth="True" FilterPopupMode="CheckedList"/>
                            <dxg:GridControl.TotalSummary>
                                <dxg:GridSummaryItem x:Name="summary" FieldName="" SummaryType="Count" DisplayFormat="Total Count : {0}" Visible="True" Alignment="Left" />
                            </dxg:GridControl.TotalSummary>
                            <dxg:GridControl.View>
                                <dxg:TableView x:Name="ChangeLogTableView"
                                                           NavigationStyle="Row"
                                                           AllowHorizontalScrollingVirtualization="True" 
                                                           RowDetailsVisibilityMode="Visible"
                                                           ShowHorizontalLines="True"
                                                           ShowSearchPanelMode="Always"
                                                           ShowColumnHeaders="True"
                                                           VerticalScrollbarVisibility="Auto" 
                                                           HorizontalScrollbarVisibility="Auto"
                                                           AllowFixedColumnMenu="False"
                                                           AutoWidth="False"
                                                           ShowFixedTotalSummary="True"
                                                           ShowSearchPanelCloseButton="True"
                                                           SearchPanelHorizontalAlignment="Stretch"
                                                           ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                           AllowGrouping="True"
                                                           ShowGroupPanel="False"
                                                           ShowIndicator="False"
                                                           AllowColumnMoving="False">
                                </dxg:TableView>
                            </dxg:GridControl.View>
                        </dxg:GridControl>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>
        </dxlc:FlowLayoutControl>
        <Grid Grid.Row="2" VerticalAlignment="Center" HorizontalAlignment="Center">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Button Grid.Row="1" Grid.Column="0"
                    Style="{DynamicResource Button16Style}"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Content="{DynamicResource AddCatalogueAcceptButton}"
                    Command="{Binding DataContext.AcceptButtonCommand, RelativeSource={RelativeSource AncestorType=dx:DXWindow, Mode=FindAncestor}}"
                    CommandParameter="{Binding ElementName=LayoutRoot}"
                    Height="30"
                    Width="100" />
            <Button Grid.Row="1" Grid.Column="2"
                    Style="{DynamicResource Button16Style}"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Content="{DynamicResource AddCatalogueCancelButton}"
                    Command="{Binding DataContext.CancelButtonCommand, RelativeSource={RelativeSource AncestorType=dx:DXWindow, Mode=FindAncestor}}"
                    Height="30"
                    Width="100" />
        </Grid>
    </Grid>
    <!--</ScrollViewer>-->
</dxwui:WinUIDialogWindow>