<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Hrm.Views.EditShiftView"              
						 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"             
						 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"             
						 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"              
						 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"             
						 xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.Views"          
						 xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"            
						 xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"         
						 xmlns:HrmApplication="clr-namespace:Emdep.Geos.Modules.Hrm"             
						 xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys"           
						 xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"           
						 xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm" 
						 xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"           
						 xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"             
						 xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"           
						 mc:Ignorable="d" Title="{DynamicResource EditShift}"                         
						 TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}"            
						 Style="{DynamicResource WinUIDialogWindowStyle}">
    
    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding EditShiftCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="130"></ColumnDefinition>
            <ColumnDefinition Width="180"></ColumnDefinition>
            <ColumnDefinition Width="150"></ColumnDefinition>
            <ColumnDefinition Width="400"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="20"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="20"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Grid.Column="0" Grid.Row="0" HorizontalAlignment="Left" Grid.ColumnSpan="7">
            <Label Width="110" Grid.Row="0" Margin="8 5 5 5" Content="{DynamicResource WorkSchedule}" FontSize="16" Height="30"/>
            <dxe:ComboBoxEdit  Margin="5" Height="30" Width="200" 
                               IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                               SelectedItem="{Binding SelectedWorkSchedule}" ItemsSource="{Binding WorkSchedules}" 
                               DisplayMember="Name"   >
              
                <dxmvvm:Interaction.Behaviors>
                    <dxmvvm:EventToCommand EventName="EditValueChanged" Command="{Binding EditShiftWorkScheduleSelectionChangedCommand}"/>
                </dxmvvm:Interaction.Behaviors>
                <dxe:ComboBoxEdit.EditValue>
                    <Binding  Path="SelectedWorkSchedule" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged" ValidatesOnNotifyDataErrors="True" ValidatesOnDataErrors="True" >
                        <Binding.ValidationRules>
                            <Validation:ShiftsValidations FieldName="SelectedWorkSchedule" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True" />
                        </Binding.ValidationRules>
                    </Binding>
                </dxe:ComboBoxEdit.EditValue>
            </dxe:ComboBoxEdit>

            <Label Content="{DynamicResource AddShiftName }" Margin="15 0 0 0" Width="50" FontSize="16" 
					 HorizontalAlignment="Center" VerticalAlignment="Center" Height="30"/>
            <dxe:TextEdit Height="30" Width="150" IsReadOnly="{Binding IsPermissionReadOnly, Mode=OneTime, Source={x:Static HrmApplication:HrmCommon.Instance}, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Left" >
                <dxe:TextEdit.Text>
                    <Binding Path="ShiftName" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged" ValidatesOnNotifyDataErrors="True" ValidatesOnDataErrors="True" >
                        <Binding.ValidationRules>
                            <Validation:ShiftsValidations FieldName="ShiftName" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True" />
                        </Binding.ValidationRules>
                    </Binding>
                </dxe:TextEdit.Text>
            </dxe:TextEdit>
            <Label Width="110" Grid.Row="0" Margin="8 5 5 5" Content="{DynamicResource EditShiftType}" FontSize="16" Height="30"/>
            <dxe:ComboBoxEdit  Margin="-70,0,0,0" Height="30" Width="150"  ShowCustomItems="False"  IsTextEditable="False" ValidateOnTextInput="False"
                               ItemsSource="{Binding TypeList}"  
                            
                               DisplayMember="Value" ValueMember="IdLookupValue" >
                <dxe:ComboBoxEdit.SelectedIndex>
                    <Binding  Path="SelectedIndexType"  Mode="TwoWay" UpdateSourceTrigger="PropertyChanged" ValidatesOnNotifyDataErrors="True" ValidatesOnDataErrors="True" >
                        <Binding.ValidationRules>
                            <Validation:ShiftsValidations FieldName="SelectedIndexType" ValidationStep="UpdatedValue"  ValidatesOnTargetUpdated="True" />
                        </Binding.ValidationRules>
                    </Binding>
                </dxe:ComboBoxEdit.SelectedIndex>
            </dxe:ComboBoxEdit>

            <!--<dxe:CheckEdit Margin="15 0 0 0" VerticalAlignment="Center" Content="Night Shift" FontSize="16"
                           IsChecked="{Binding IsNightShift,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"></dxe:CheckEdit>-->

        </StackPanel>

        <!--Monday-->
        <Label Grid.Column="0" Width="110" Grid.Row="2" Margin="5" Content="{DynamicResource AddShiftViewMonday}" FontSize="16" Height="30"/>
        <StackPanel Grid.Column="1" Grid.Row="2" Orientation="Horizontal">
            <Label Content="{DynamicResource AddShiftFrom}"
                           Width="45" Height="30"  FontSize="16"/>
            <dxe:TextEdit Height="30" Mask="HH:mm" Margin="5" Width="80"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding MondayStartTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="2">
            <Label Content="{DynamicResource AddShiftTo}" Width="30" Height="30" FontSize="16" />
            <dxe:TextEdit Width="80" Margin="5" Height="30" Mask="HH:mm"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding MondayEndTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="2">
            <Label Content="{DynamicResource AddShiftBreakTime}" Width="90" Height="30" FontSize="16" Margin="10 0 0 0"/>
            <dxe:TextEdit Width="80" Height="30" Mask="HH:mm" Margin="5" IsReadOnly="{Binding IsPermissionReadOnly, Mode=OneTime, Source={x:Static HrmApplication:HrmCommon.Instance}, UpdateSourceTrigger=PropertyChanged}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding MondayBreakTime}" />
        </StackPanel>

        <!--Tuesday-->
        <Label Grid.Column="0" Width="110" Grid.Row="3" Margin="5" Content="{DynamicResource AddShiftViewTuesday}" FontSize="16" Height="30"/>
        <StackPanel Grid.Column="1" Grid.Row="3" Orientation="Horizontal">
            <Label Content="{DynamicResource AddShiftFrom}"
                           Width="45" Height="30"  FontSize="16"/>
            <dxe:TextEdit Height="30" Mask="HH:mm" Margin="5" Width="80"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding TuesdayStartTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="3">
            <Label Content="{DynamicResource AddShiftTo}" Width="30" Height="30" FontSize="16" />
            <dxe:TextEdit Width="80" Margin="5" Height="30" Mask="HH:mm"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding TuesdayEndTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="3">
            <Label Content="{DynamicResource AddShiftBreakTime}" Width="90" Height="30" FontSize="16" Margin="10 0 0 0"/>
            <dxe:TextEdit Width="80" Height="30" Mask="HH:mm" Margin="5" IsReadOnly="{Binding IsPermissionReadOnly, Mode=OneTime, Source={x:Static HrmApplication:HrmCommon.Instance}, UpdateSourceTrigger=PropertyChanged}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding TuesdayBreakTime}" />
        </StackPanel>

        <!--wednesday-->
        <Label Grid.Column="0" Width="110" Grid.Row="4" Margin="5" Content="{DynamicResource AddShiftViewWednesday}" FontSize="16" Height="30"/>
        <StackPanel Grid.Column="1" Grid.Row="4" Orientation="Horizontal">
            <Label Content="{DynamicResource AddShiftFrom}"
                           Width="45" Height="30"  FontSize="16"/>
            <dxe:TextEdit Height="30" Mask="HH:mm" Margin="5" Width="80"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding WednesdayStartTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="4">
            <Label Content="{DynamicResource AddShiftTo}" Width="30" Height="30" FontSize="16" />
            <dxe:TextEdit Width="80" Margin="5" Height="30" Mask="HH:mm"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding WednesdayEndTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="4">
            <Label Content="{DynamicResource AddShiftBreakTime}" Width="90" Height="30" FontSize="16" Margin="10 0 0 0"/>
            <dxe:TextEdit Width="80" Height="30" Mask="HH:mm" Margin="5" IsReadOnly="{Binding IsPermissionReadOnly, Mode=OneTime, Source={x:Static HrmApplication:HrmCommon.Instance}, UpdateSourceTrigger=PropertyChanged}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding WednesdayBreakTime}" />
        </StackPanel>

        <!--Thursday-->
        <Label Grid.Column="0" Width="110" Grid.Row="5" Margin="5" Content="{DynamicResource AddShiftViewThursday}" FontSize="16" Height="30"/>
        <StackPanel Grid.Column="1" Grid.Row="5" Orientation="Horizontal">
            <Label Content="{DynamicResource AddShiftFrom}"
                           Width="45" Height="30"  FontSize="16"/>
            <dxe:TextEdit Height="30" Mask="HH:mm" Margin="5" Width="80"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding ThursdayStartTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="5">
            <Label Content="{DynamicResource AddShiftTo}" Width="30" Height="30" FontSize="16" />
            <dxe:TextEdit Width="80" Margin="5" Height="30" Mask="HH:mm"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding ThursdayEndTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="5">
            <Label Content="{DynamicResource AddShiftBreakTime}" Width="90" Height="30" FontSize="16" Margin="10 0 0 0"/>
            <dxe:TextEdit Width="80" Height="30" Mask="HH:mm" Margin="5" IsReadOnly="{Binding IsPermissionReadOnly, Mode=OneTime, Source={x:Static HrmApplication:HrmCommon.Instance}, UpdateSourceTrigger=PropertyChanged}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding ThursdayBreakTime}" />
        </StackPanel>

        <!--Friday-->
        <Label Grid.Column="0" Width="110" Grid.Row="6" Margin="5" Content="{DynamicResource AddShiftViewFriday}" FontSize="16" Height="30"/>
        <StackPanel Grid.Column="1" Grid.Row="6" Orientation="Horizontal">
            <Label Content="{DynamicResource AddShiftFrom}"
                           Width="45" Height="30"  FontSize="16"/>
            <dxe:TextEdit Height="30" Mask="HH:mm" Margin="5" Width="80"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding FridayStartTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="6">
            <Label Content="{DynamicResource AddShiftTo}" Width="30" Height="30" FontSize="16" />
            <dxe:TextEdit Width="80" Margin="5" Height="30" Mask="HH:mm"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding FridayEndTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="6">
            <Label Content="{DynamicResource AddShiftBreakTime}" Width="90" Height="30" FontSize="16" Margin="10 0 0 0"/>
            <dxe:TextEdit Width="80" Height="30" Mask="HH:mm" Margin="5" IsReadOnly="{Binding IsPermissionReadOnly, Mode=OneTime, Source={x:Static HrmApplication:HrmCommon.Instance}, UpdateSourceTrigger=PropertyChanged}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding FridayBreakTime}" />
        </StackPanel>

        <!--Saturday-->
        <Label Grid.Column="0" Width="110" Grid.Row="7" Margin="5" Content="{DynamicResource AddShiftViewSaturday}" FontSize="16" Height="30"/>
        <StackPanel Grid.Column="1" Grid.Row="7" Orientation="Horizontal">
            <Label Content="{DynamicResource AddShiftFrom}"
                           Width="45" Height="30"  FontSize="16"/>
            <dxe:TextEdit Height="30" Mask="HH:mm" Margin="5" Width="80"
                      IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding SaturdayStartTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="7">
            <Label Content="{DynamicResource AddShiftTo}" Width="30" Height="30" FontSize="16" />
            <dxe:TextEdit Width="80" Margin="5" Height="30" Mask="HH:mm"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding SaturdayEndTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="7">
            <Label Content="{DynamicResource AddShiftBreakTime}" Width="90" Height="30" FontSize="16" Margin="10 0 0 0"/>
            <dxe:TextEdit Width="80" Height="30" Mask="HH:mm" Margin="5" IsReadOnly="{Binding IsPermissionReadOnly, Mode=OneTime, Source={x:Static HrmApplication:HrmCommon.Instance}, UpdateSourceTrigger=PropertyChanged}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding SaturdayBreakTime}" />
        </StackPanel>

        <!--Sunday-->
        <Label Grid.Column="0" Width="110" Grid.Row="8" Margin="5" Content="{DynamicResource AddShiftViewSunday}" FontSize="16" Height="30"/>
        <StackPanel Grid.Column="1" Grid.Row="8" Orientation="Horizontal">
            <Label Content="{DynamicResource AddShiftFrom}"
                           Width="45" Height="30"  FontSize="16"/>
            <dxe:TextEdit Height="30" Mask="HH:mm" Margin="5" Width="80"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding SundayStartTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="8">
            <Label Content="{DynamicResource AddShiftTo}" Width="30" Height="30" FontSize="16" />
            <dxe:TextEdit Width="80" Margin="5" Height="30" Mask="HH:mm"
                       IsReadOnly="{Binding IsReadOnlyField,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding SundayEndTime}" />
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="8">
            <Label Content="{DynamicResource AddShiftBreakTime}" Width="90" Height="30" FontSize="16" Margin="10 0 0 0"/>
            <dxe:TextEdit Width="80" Height="30" Mask="HH:mm" Margin="5" IsReadOnly="{Binding IsPermissionReadOnly, Mode=OneTime, Source={x:Static HrmApplication:HrmCommon.Instance}, UpdateSourceTrigger=PropertyChanged}"
                      MaskType="DateTimeAdvancingCaret" DisplayFormatString="HH:mm" EditValue="{Binding SundayBreakTime }" />
        </StackPanel>
        <!--[InUSE][sudhir.jangra][GEOS2-2716][18/10/2022]-->
        <TextBlock Width="110" Height="30" FontSize="16" Margin="5" Grid.Row="10" Grid.Column="0" Text="{DynamicResource InUseText}"></TextBlock>
        <StackPanel Orientation="Horizontal" Grid.Row="10" Grid.Column="1">
            <dxe:ToggleSwitch VerticalAlignment="Center" HorizontalAlignment="Center" CheckedStateContent="Yes" UncheckedStateContent="No"  ContentPlacement="Inside" 
                                     Height="30" Width="88" IsChecked="{Binding DataContext.IsInUse,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow,Mode=FindAncestor}, UpdateSourceTrigger=PropertyChanged}">
            </dxe:ToggleSwitch>
        </StackPanel>
		<!--[GEOS2-6509][05.11.2024][rdixit]-->
        <StackPanel Orientation="Horizontal" Grid.Column="1" Grid.Row="11" Grid.ColumnSpan="4" HorizontalAlignment="Center" >
            <Button Content="{DynamicResource AddShiftAccept}" Margin="20" FontSize="16" Height="30"
                            Width="100"  Style="{DynamicResource Button16Style}"
                            Command="{Binding EditShiftAcceptButtonCommand}" HorizontalAlignment="Right"
                            IsEnabled="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsHRMManageShiftPermission}"/> 
            <Button Content="{DynamicResource AddShiftCancel}" Margin="20"
                     Command="{Binding EditShiftCancelButtonCommand}" 
                     FontSize="16" 
                     Height="30" Grid.ColumnSpan="3"
                     Width="100"
                     Style="{DynamicResource Button16Style}"/>
        </StackPanel>

    </Grid>
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="KeyDown">
            <behaviors:InvokeDelegateCommandAction Command="{Binding CommandTextInput}" CommandParameter="{Binding Path=InvokeParameter, RelativeSource={RelativeSource Self}}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
</dxwui:WinUIDialogWindow>
