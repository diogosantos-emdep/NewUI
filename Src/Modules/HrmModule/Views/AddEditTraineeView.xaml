<dxwui:WinUIDialogWindow    x:Class="Emdep.Geos.Modules.Hrm.Views.AddEditTraineeView"
                            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                            xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                            xmlns:local="clr-namespace:Emdep.Geos.Modules.Hrm.Views"
                              xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
                         xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
                         xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                         xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
                         xmlns:ve="http://schemas.devexpress.com/winfx/2008/xaml/docking/visualelements"
                         xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
                         xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys"
                         xmlns:dxeh="http://schemas.devexpress.com/winfx/2008/xaml/editors/internal"
                            xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
                            xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
                            xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
                             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                           
                            mc:Ignorable="d" 
                            d:DesignHeight="900" d:DesignWidth="500"
                            Style="{DynamicResource WinUIDialogWindowStyle}"
                            Title="{Binding WindowHeader}"
                            TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}">

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding EscapeButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="40"/>
        </Grid.RowDefinitions>

        <dxg:GridControl x:Name="AllTraineesGrid" Width="1200" Height="600" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.Row="0" Grid.Column="0" 
                                                 ItemsSource="{Binding Path=AllTraineesList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" SelectionMode="Row"
                                                 SelectedItem="{Binding Path=SelectedAllTrainees,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                 ImplyNullLikeEmptyStringWhenFiltering="True" AllowLiveDataShaping="True" 
                                                 Visibility="{Binding IsGridViewVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">

            <dxg:GridColumn FieldName="IsChecked" Header=" " Width="50" FixedWidth="True" 
                                AllowBestFit="true" 
                                AllowCellMerge="False"
                                AllowMoving="false"
                                AllowAutoFilter="False"
                                ShowInColumnChooser="False" 
                                FilterPopupMode="Default"
                                ShowCheckBoxInHeader="True">
                <dxg:GridColumn.CellTemplate>
                    <DataTemplate>
                        <CheckBox x:Name="Part_Editor" IsChecked="{Binding RowData.Row.IsChecked,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                  HorizontalAlignment="Center" VerticalAlignment="Center" /> <!--IsChecked="{Binding RowData.Row.IsChecked,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"-->
                    </DataTemplate>
                </dxg:GridColumn.CellTemplate>
            </dxg:GridColumn>

            <dxg:GridColumn Header="{DynamicResource EmployeeCode}" FieldName="EmployeeCode" FilterPopupMode="CheckedList" MinWidth="50" Width="100" FixedWidth="True" ReadOnly="True" />
            <dxg:GridColumn Header="{DynamicResource EmployeeFirstName}" FieldName="FirstName" FilterPopupMode="CheckedList" MinWidth="100" Width="300" FixedWidth="True" ReadOnly="True" />
            <dxg:GridColumn Header="{DynamicResource EmployeeLastName}" FieldName="LastName" MinWidth="100" Width="300" FilterPopupMode="CheckedList" ReadOnly="True"/>
            <dxg:GridColumn Header="{DynamicResource Department}" FieldName="EmployeeDepartments" MinWidth="80" Width="200" FilterPopupMode="CheckedList" ReadOnly="True" FixedWidth="True" />
            <dxg:GridColumn Header="{DynamicResource Organization}" FieldName="Organization" MinWidth="80" Width="200" FilterPopupMode="CheckedList" ReadOnly="True" FixedWidth="True" />

            <dxg:GridControl.View>
                <dxg:TableView x:Name="AllTraineesTableView"
                                                       NavigationStyle="Row"
                                                       RowDetailsVisibilityMode="Visible"
                                                       ShowHorizontalLines="True"
                                                       ShowSearchPanelMode="Always"
                                                       ShowColumnHeaders="True"
                                                       VerticalScrollbarVisibility="Auto" 
                                                       HorizontalScrollbarVisibility="Auto"
                                                       ImmediateUpdateRowPosition="True"
                                                       AllowFixedColumnMenu="False"
                                                       SearchPanelHorizontalAlignment="Stretch"
                                                       ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                       AllowGrouping="True" 
                                                       ShowGroupPanel="False"
                                                       AllowPerPixelScrolling="True"
                                                       FocusedRow="{Binding SelectedAllTrainees, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                       ShowIndicator="False" AutoWidth="True"
                                                       GroupSummaryDisplayMode="AlignByColumns"
                                                       AllowColumnFiltering="True" 
                                                       FilterEditorShowOperandTypeIcon="True"
                                                       GroupRowCheckBoxFieldName="IsChecked" >
               
                <dxmvvm:Interaction.Behaviors>
                        <dxmvvm:EventToCommand EventName="ShowFilterPopup"
                                                                       Command="{Binding DataContext.CommandShowFilterPopupForTranieeClick, RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}"
                                                                       PassEventArgsToCommand="True"/>
                   
                    </dxmvvm:Interaction.Behaviors>
                    
                </dxg:TableView>
            </dxg:GridControl.View>
        </dxg:GridControl>

        <!--Accept and Cancel Buttons-->
        <Grid Grid.Row="2" ShowGridLines="False" Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Center">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button  HorizontalAlignment="Right"
                     Style="{DynamicResource Button16Style}"
                     VerticalAlignment="Top"
                     Content="{DynamicResource AddEditSkillsAcceptButton}"
                     Command="{Binding AddEditTraineeAcceptButtonCommand}"
                     Height="30"
                     Width="100" />

            <Button Grid.Row="10" Grid.Column="2"
                    HorizontalAlignment="Left"
                    Style="{DynamicResource Button16Style}"
                    VerticalAlignment="Top"
                    Content="{DynamicResource AddEditSkillsCancelButton}"
                    Command="{Binding CancelButtonCommand }"
                    Height="30"
                    Width="100" />
        </Grid>
    </Grid>
</dxwui:WinUIDialogWindow>
