<UserControl
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
            xmlns:local="clr-namespace:Emdep.Geos.Modules.Epc.Views"
            xmlns:dxnav="http://schemas.devexpress.com/winfx/2008/xaml/navigation"
            xmlns:viewModel="clr-namespace:Emdep.Geos.Modules.Epc.ViewModels"
            xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
            xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
            xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
            xmlns:dxn="http://schemas.devexpress.com/winfx/2008/xaml/navbar"
          
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
            x:Class="Emdep.Geos.Modules.Epc.Views.ValidationView"
            mc:Ignorable="d" 
            d:DesignHeight="300" d:DesignWidth="800">

    <UserControl.DataContext>
        <viewModel:ValidationViewModel/>
    </UserControl.DataContext>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Label Style="{StaticResource LabelStyle}"  Content="Validation" Margin="0" Padding="5" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3"/>

        <Border Style="{DynamicResource BorderStyle}" VerticalAlignment="Stretch" HorizontalAlignment="Left"  Width="Auto" Grid.Row="1" Grid.Column="0"  >
            <dxn:NavBarControl HorizontalAlignment="Left" VerticalAlignment="Top" Grid.Row="1" Grid.Column="0">
                <dxn:NavBarGroup Header="Products" DisplaySource="Content" >
                    <dxn:NavBarGroup.Content>
                        <dxnav:TileBar x:Name="productsTileBar" Orientation="Vertical"  HorizontalAlignment="Left"  VerticalAlignment="top" Padding="0" Margin="5" Width="150"
                                       SelectedItem="{Binding SelectedProduct,Mode=TwoWay}" 
                                       ItemsSource="{Binding TileCollectionProducts,Mode=TwoWay}" 
                                       ItemContainerStyle="{StaticResource TileBarItemStyleExtended}" 
                                       HorizontalContentAlignment="Center" VerticalContentAlignment="Stretch" >
                            <dxmvvm:Interaction.Behaviors>
                                <dxmvvm:EventToCommand Command="{Binding SelectedProductCommand}" EventName="SelectionChanged">
                                    <dxmvvm:EventToCommand.EventArgsConverter>
                                        <dx:EventArgsToDataRowConverter/>
                                    </dxmvvm:EventToCommand.EventArgsConverter>
                                </dxmvvm:EventToCommand>
                            </dxmvvm:Interaction.Behaviors>

                        </dxnav:TileBar>
                    </dxn:NavBarGroup.Content>

                </dxn:NavBarGroup>
                <dxn:NavBarControl.View>
                    <dxn:NavigationPaneView IsOverflowPanelVisible="False" MaxVisibleGroupCount="0"  ShowBorder="True" dxn:ScrollingSettings.ScrollMode="Buttons"/>
                </dxn:NavBarControl.View>
            </dxn:NavBarControl>
        </Border>

        <Border Style="{DynamicResource BorderStyle}" VerticalAlignment="Stretch" HorizontalAlignment="Left" Grid.Row="1" Grid.Column="1" >
            <dxn:NavBarControl HorizontalAlignment="Left" VerticalAlignment="Top" Width="Auto" Grid.Row="1" Grid.Column="1">
                <dxn:NavBarGroup Header="Versions" DisplaySource="Content" >
                    <dxn:NavBarGroup.Content>

                        <dxnav:TileBar x:Name="VersionsTileBar" Orientation="Vertical"  HorizontalAlignment="Left"  VerticalAlignment="Top" Padding="0" Margin="5" Width="150"
                                       ItemsSource="{Binding TileCollectionVersions, Mode=TwoWay}" 
                                       SelectedItem="{Binding SelectedVersion,Mode=TwoWay}" 
                                       ItemContainerStyle="{StaticResource TileBarItemStyleExtended}"
                                       HorizontalContentAlignment="Center" VerticalContentAlignment="Stretch">
                            <dxmvvm:Interaction.Behaviors>
                                <dxmvvm:EventToCommand Command="{Binding SelectedProductVersionCommand}" 
                                                       CommandParameter="{Binding Caption }"
                                                       EventName="SelectionChanged">
                                    <dxmvvm:EventToCommand.EventArgsConverter>
                                        <dx:EventArgsToDataRowConverter/>
                                    </dxmvvm:EventToCommand.EventArgsConverter>
                                </dxmvvm:EventToCommand>
                            </dxmvvm:Interaction.Behaviors>
                        </dxnav:TileBar>

                    </dxn:NavBarGroup.Content>
                </dxn:NavBarGroup>
                <dxn:NavBarControl.View>
                    <dxn:NavigationPaneView IsOverflowPanelVisible="False" IsExpanded="False" MaxVisibleGroupCount="0"  ShowBorder="True" dxn:ScrollingSettings.ScrollMode="Buttons"/>
                </dxn:NavBarControl.View>
            </dxn:NavBarControl>
        </Border>

        <dxg:TreeListControl Name="versionsTreeList" Grid.Row="1" Grid.Column="2"
                             ItemsSource="{Binding DataContext.ProductVersionData.ProductVersionItems, Mode=TwoWay}" 
                             EnableSmartColumnsGeneration="True" SelectionMode="Row" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
            <dxg:TreeListControl.Columns>
                <dxg:TreeListColumn Header="Item" FieldName="DataContext.RowData.Row.IdProductRoadmap" ReadOnly="True" AllowEditing="False" VisibleIndex="0" />

                <!--<dxg:TreeListColumn Header="Validation Date" FieldName="ValidationDate"  ReadOnly="True" AllowEditing="False" VisibleIndex="1" FixedWidth="True" Width="100" />
                <dxg:TreeListColumn Header="Validator" FieldName="Validator" AllowEditing="False"  VisibleIndex="2" FixedWidth="True" Width="100" />
                <dxg:TreeListColumn Header="Status" FieldName="IdRoadmapStatus" ReadOnly="False" IsSmart="True" VisibleIndex="3" FixedWidth="True" Width="100">
                    --><!--<dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:ComboBoxEdit x:Name="PART_Editor" DisplayMember="Value" ValueMember="IdLookupValue" ApplyItemTemplateToSelectedItem="True"
                                              IsTextEditable="False"
                                              ItemsSource="{Binding DataContext.RoadmapStatusList,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType=UserControl}}"
                                              SelectedItem="{Binding IdRoadmapStatus,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                            </dxe:ComboBoxEdit>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>--><!--
                </dxg:TreeListColumn>-->
            </dxg:TreeListControl.Columns>

            <dxg:TreeListControl.View>
                <dxg:TreeListView Name="versionsTreeListView" KeyFieldName="IdProjectRoadmap" ParentFieldName="IdProjectRoadmapType"  AutoExpandAllNodes="True" AutoWidth="True" AllowPerPixelScrolling="True" ShowTotalSummary="True" AllowBestFit="True" ShowNodeImages="True" ImageFieldName="RoadmapImageIcon" >
                </dxg:TreeListView>
            </dxg:TreeListControl.View>
            <dxmvvm:Interaction.Behaviors>
                <dxg:TreeListDragDropManager AllowDrag="True" AllowDrop="True" />
            </dxmvvm:Interaction.Behaviors>
        </dxg:TreeListControl>

    </Grid>
</UserControl>
