<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.SRM.Views.AddArticleSupplierView"
                  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                        xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
                        xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                        xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" 
                        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
                        xmlns:ViewModels="clr-namespace:Emdep.Geos.Modules.SRM.ViewModels"
                        xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol" 
                        xmlns:cmd="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                        xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm" 
                        xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
                        xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
                        xmlns:Validation="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
                        xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys"
                        xmlns:dxeh="clr-namespace:DevExpress.Xpf.Editors.Helpers;assembly=DevExpress.Xpf.Core.v19.2"
                        xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"                          
                        xmlns:sys="clr-namespace:System;assembly=mscorlib"
                        xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
                        xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
                        xmlns:dxefl="clr-namespace:DevExpress.Xpf.Editors.Flyout.Native;assembly=DevExpress.Xpf.Core.v19.2"
                        xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
                        xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
                        dxb:BarNameScope.IsScopeOwner="True"
                        xmlns:ve="http://schemas.devexpress.com/winfx/2008/xaml/docking/visualelements"
                        xmlns:dxm="http://schemas.devexpress.com/winfx/2008/xaml/map"
                        mc:Ignorable="d"        
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        VerticalContentAlignment="Stretch"
                        Height="{Binding DataContext.SystemParameters.PrimaryScreenHeight}" 
                        Width="{Binding DataContext.SystemParameters.PrimaryScreenWidth}"
                        Title="{DynamicResource AddCompaniesSuppliersTitle}"
                        Template="{StaticResource Maximized_DXDialogWindow}"
                        TitleStyle="{DynamicResource WinUIDialogWindowTitleStyleWithLeftMargin}"
                        Style="{DynamicResource WinUIDialogWindowStyle}">


    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding CancelButtonCommand}" />
    </dxwui:WinUIDialogWindow.InputBindings>

    <Window.Resources>
        <Style x:Key="{dxet:EditorListBoxThemeKey ResourceKey=CheckBoxItemStyle, IsThemeIndependent=True}" TargetType="{x:Type dxe:ListBoxEditItem}">
            <Setter Property="IsEnabled" Value="{Binding InUse}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type dxe:ListBoxEditItem}">
                        <Border Background="Transparent" SnapsToDevicePixels="True">
                            <dxe:CheckEdit x:Name="checkEdit" 
                                HorizontalAlignment="Stretch"
                                Margin="2"
                                Padding="4,0,0,0"
								dx:FocusHelper2.Focusable="False"
                                dxeh:ControlHelper.IsFocused="{Binding Path=IsKeyboardFocused, RelativeSource={RelativeSource TemplatedParent}}"
								IsHitTestVisible="True" 
								IsChecked="{Binding Path=IsSelected, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                                HorizontalContentAlignment="{Binding Path=(dxe:BaseEdit.OwnerEdit).HorizontalContentAlignment, RelativeSource={RelativeSource TemplatedParent}}"
                                VerticalContentAlignment="{Binding Path=(dxe:BaseEdit.OwnerEdit).VerticalContentAlignment, RelativeSource={RelativeSource TemplatedParent}}">
                                <ContentPresenter />
                            </dxe:CheckEdit>
                        </Border>
                        <ControlTemplate.Triggers>
                            <DataTrigger Binding="{Binding Path=(dxe:BaseEdit.OwnerEdit).ShowBorder, RelativeSource={RelativeSource Self}}" Value="False">
                                <Setter Property="Margin" TargetName="checkEdit" Value="0,2,0,2" />
                            </DataTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>



        <UIConverter:DateFormatConverter x:Key="DateFormatConverter" />
        <sys:String x:Key="ShortDateTimeFormat">dd/MM/yyyy hh:mm tt</sys:String>
        <sys:String x:Key="ShortTimeFormat">hh:mm tt</sys:String>
        <sys:String x:Key="ShortDateFormat">dd/MM/yyyy</sys:String>

        <dxb:PopupMenu x:Key="PopupMenu">
            <dxb:PopupMenu.Items>
                <dxb:BarButtonItem x:Name="CloseAll" Content="CloseAll" BarItemDisplayMode="Content" />
                <dxb:BarButtonItem x:Name="CloseAllButThis" Content="CloseAllButThis" BarItemDisplayMode="Content" />
            </dxb:PopupMenu.Items>
        </dxb:PopupMenu>
        <Style x:Key="myGroupBoxStyle" TargetType="{x:Type dxlc:GroupBox}">
            <Setter Property="MaximizeElementVisibility" Value="Visible" />
            <Setter Property="Width" Value="280" />
            <Setter Property="Height" Value="145" />


        </Style>

        <Style x:Key="myGroupBoxStyle1" TargetType="{x:Type dxlc:GroupBox}">
            <Setter Property="MaximizeElementVisibility" Value="Visible" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Height" Value="25" />
            <Setter Property="Width" Value="280" />
        </Style>

        <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <dxmvvm:ObjectToObjectConverter x:Key="NodeLevelValueToBooleanConverter" DefaultTarget="False">
            <dxmvvm:MapItem Source="0" Target="True" />
        </dxmvvm:ObjectToObjectConverter>
        <Style TargetType="{x:Type ve:AutoHideTray}">
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <ve:psvStackPanel HorizontalAlignment="Right" />
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <DataTemplate x:Key="AppointmentToolTipContentTemplate">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="2" Text="{Binding Subject}" />
            </Grid>
        </DataTemplate>

        <!-- Display image as per type. -->
        <DataTemplate x:Key="AppointmentContentTemplate">
            <StackPanel Orientation="Horizontal">
                <Image Height="16" Width="16" Margin="0,0,0,0" Stretch="Fill">
                    <Image.Style>
                        <Style>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Location}" Value="(Appointment)">
                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/Meeting.png" />
                                    <Setter Property="Image.ToolTip" Value="Appointment" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Location}" Value="(Call)">
                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/Call.png" />
                                    <Setter Property="Image.ToolTip" Value="Call" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Location}" Value="(Email)">
                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/At.png" />
                                    <Setter Property="Image.ToolTip" Value="Email" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Location}" Value="(Task)">
                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/Task.png" />
                                    <Setter Property="Image.ToolTip" Value="Task" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Location}" Value="(Tour)">
                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/Tour.png" />
                                    <Setter Property="Image.ToolTip" Value="Tour" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Image.Style>
                </Image>
                <TextBlock TextAlignment="Center" Text="{Binding Subject}" Foreground="{Binding Label, Converter={StaticResource appointmentForeColorConverter}}" />
            </StackPanel>
        </DataTemplate>
    </Window.Resources>
   
    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="45"/>
        </Grid.RowDefinitions>
      

        <dxlc:FlowLayoutControl Orientation="Vertical" Background="Transparent" ItemSpace="12" LayerSpace="12"
                                AllowMaximizedElementMoving="False" Grid.Row="0"  
                                BreakFlowToFit="True" MaximizedElementPosition="Right" AllowLayerSizing="False" Margin="5,5,5,5" Padding="0,0,0,0">


            <dxmvvm:Interaction.Behaviors>
                <UIHelper:FlowLayoutControlForMinimiseMaximise />
            </dxmvvm:Interaction.Behaviors>

            <!--Information-->
            <dxlc:GroupBox x:Name="SRM_Suplier_Information"
				    Selector.IsSelected="True"
				    Style="{StaticResource myGroupBoxStyle}">

                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock Margin="5,0,0,0"
								VerticalAlignment="Center"
								FontWeight="Bold"
								Text="{DynamicResource SRMEditSupplierInformation}"/>
                            <!--[rdixit][GEOS2-4643][14.07.2023]-->
                            <dxe:TextEdit FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center" ShowBorder="False" IsReadOnly="True">
                                <Binding Path="DataContext.InformationError" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                    <Binding.ValidationRules>
                                        <Validation:SRMArticleSupplierValidation FieldName="InformationError" ValidationStep="UpdatedValue" />
                                    </Binding.ValidationRules>
                                </Binding>
                            </dxe:TextEdit>
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>

                <dxlc:GroupBox.ContentTemplate>

                    <DataTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <Label Grid.Row="0"
								Grid.Column="0"
								Margin="2"
								Content="{DynamicResource SRMEditSupplierEmdepCodeColon}"
								FontWeight="Bold"
								Padding="2" />
                            <TextBlock Text="{Binding DataContext.ArticleSupplier.Code, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}" VerticalAlignment="Center"  Grid.Row="0" Grid.Column="1" Margin="3,0,0,0" Padding="2"/>
                            <Label Grid.Row="1"
								Grid.Column="0"
								Margin="2"
								Content="{DynamicResource SRMEditSupplierNameColon}"
								FontWeight="Bold"
								Padding="2" />
                            <TextBlock Text="{Binding DataContext.ArticleSupplier.Name, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}" VerticalAlignment="Center"  Grid.Row="1" Grid.Column="1" Margin="3,0,0,0" Padding="2"
                                ToolTip="{Binding DataContext.ArticleSupplier.Name, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}}"  TextWrapping="WrapWithOverflow" Width="Auto" TextTrimming="CharacterEllipsis"/>
                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>

                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <!--Informatiom-->
                        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                            <Grid ShowGridLines="False" HorizontalAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Visible">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="0" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="70" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="140" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="60" />
                                    <RowDefinition Height="35" />
                                    <RowDefinition Height="35" />

                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="50" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="470" />
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="760"/>
                                    <ColumnDefinition Width="50" />
                                </Grid.ColumnDefinitions>

                                <!--Code-->
                                <Label Content="{DynamicResource SRMEditSupplierEmdepCode}" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Left" />
                                <dxe:TextEdit Grid.Row="1" Grid.Column="2" Height="30" IsReadOnly="True"
                                              Text="{Binding DataContext.EmdepCode,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" />
                                <!--Group-->
                                <Label Content="{DynamicResource SRMEditSupplierEmdepGroup}" Grid.Row="2" Grid.Column="1" HorizontalAlignment="Left" />

                                <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}" Grid.Column="2"  Grid.Row="2"  Height="30" IsTextEditable="False"  
                                                  ItemsSource="{Binding DataContext.ArticleSupplierGroupList,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                  DisplayMember="Name" ValueMember="IdEnterpriseGroup" VerticalAlignment="Center" IsReadOnly="False"                                                              
                                                  SelectedItem="{Binding DataContext.SelectedArticleSupplierGroup,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                </dxe:ComboBoxEdit>
                                <!--Name-->
                                <Label Content="{DynamicResource SRMEditSupplierName}" Grid.Row="3" Grid.Column="1" HorizontalAlignment="Left" />
                                <dxe:TextEdit Grid.Row="3" Grid.Column="2" ScrollViewer.VerticalScrollBarVisibility="Auto" Height="60" 
                                              Text="{Binding DataContext.Name,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                              AcceptsReturn="True" VerticalContentAlignment="Stretch" HorizontalContentAlignment="Left" TextWrapping="WrapWithOverflow" IsReadOnly="False">
                                    <!--[rdixit][GEOS2-4738][18.10.2023]-->
                                    <dxe:TextEdit.EditValue>
                                        <Binding Path="DataContext.Name" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                            <Binding.ValidationRules>
                                                <Validation:SRMArticleSupplierValidation FieldName="DataContext.Name" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:TextEdit.EditValue>
                                </dxe:TextEdit>

                                <!--RegistrationNumber-->
                                <Label Content="{DynamicResource SRMEditSupplierRegistrationNumber}" Grid.Row="4" Grid.Column="1" HorizontalAlignment="Left" Margin="0,0,10,0" />
                                <dxe:TextEdit Grid.Row="4" Grid.Column="2" Height="30"
                                              Text="{Binding DataContext.RegistrationNumber,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                              IsReadOnly="False">
                                </dxe:TextEdit>

                                <!--Category-->
                                <Label Content="{DynamicResource SRMEditSupplierCategory}" Grid.Row="5" Grid.Column="1" HorizontalAlignment="Left" />
                                <dxe:ComboBoxEdit Grid.Row="5" Grid.Column="2" Height="30"  
                                            ItemsSource="{Binding DataContext.ArticleSupplierCategoryList,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                            DisplayMember="CategoryName" ValueMember="IdArticleSupplierType" VerticalAlignment="Center" Style="{DynamicResource ComboBoxEditStyle}"
                                            IsReadOnly="False" SelectedItem="{Binding DataContext.SelectedArticleSupplierCategory,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                    <dxe:ComboBoxEdit.SelectedIndex>
                                        <Binding Path="DataContext.SelectedArticleSupplierCategoryIndex" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}">
                                            <Binding.ValidationRules>
                                                <Validation:SRMArticleSupplierValidation FieldName="DataContext.SelectedArticleSupplierCategoryIndex" ValidationStep="UpdatedValue" />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedIndex>
                                </dxe:ComboBoxEdit>

                                <!--Observations-->
                                <Label Content="{DynamicResource SRMEditSupplierObservations}" Grid.Row="6" Grid.Column="1" HorizontalAlignment="Left" Margin="0,5,0,0" />
                                <dxe:TextEdit Grid.Row="6" Grid.Column="2" ScrollViewer.VerticalScrollBarVisibility="Auto" Height="120" 
                                              Text="{Binding DataContext.Observations,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                              AcceptsReturn="True" 
                                              TextWrapping="WrapWithOverflow"
                                              VerticalContentAlignment="Stretch" HorizontalContentAlignment="Left"
                                              IsReadOnly="False">
                                </dxe:TextEdit>

                                <!--Payment Terms-->
                                <Label Content="{DynamicResource SRMEditSupplierEmdepPaymentTerms}" Grid.Row="7" Grid.Column="1" HorizontalAlignment="Left" />

                                <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}" Grid.Column="2"  Grid.Row="7" Height="30" IsTextEditable="False" 
                                     ItemsSource="{Binding DataContext.ArticleSupplierPaymentList,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                     DisplayMember="PaymentType" ValueMember="IdPaymentType" VerticalAlignment="Center" ImmediatePopup="True" IncrementalFiltering="True"  IsReadOnly="False"  AutoComplete="True"                                      
                                     SelectedItem="{Binding DataContext.SelectedArticleSupplierPayment,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                                    <dxe:ComboBoxEdit.SelectedIndex>
                                        <Binding Path="DataContext.SelectedArticleSupplierPaymentIndex" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}">
                                            <Binding.ValidationRules>
                                                <Validation:SRMArticleSupplierValidation FieldName="DataContext.SelectedArticleSupplierPaymentIndex" ValidationStep="UpdatedValue" />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedIndex>
                                </dxe:ComboBoxEdit>

                                <!--Order Reception-->
                                <Label Content="{DynamicResource SRMEditSupplierEmdepOrderReception}" Grid.Row="8" Grid.Column="1" HorizontalAlignment="Left" />

                                <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}" Grid.Column="2"  Grid.Row="8" Height="30" IsTextEditable="False" DisplayMember="Value" ValueMember="IdLookupValue" VerticalAlignment="Center" IsReadOnly="False"
                                                  ItemsSource="{Binding DataContext.OrderReceptionList,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"                                                     
                                                  SelectedItem="{Binding DataContext.SelectedOrderReception,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"   >

                                    <dxe:ComboBoxEdit.SelectedIndex>
                                        <Binding  Path="DataContext.SelectedIndexOrderReception" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}">
                                            <Binding.ValidationRules>
                                                <Validation:SRMArticleSupplierValidation FieldName="DataContext.SelectedIndexOrderReception" ValidationStep="UpdatedValue" />
                                            </Binding.ValidationRules>
                                        </Binding>
                                    </dxe:ComboBoxEdit.SelectedIndex>

                                    <dxe:ComboBoxEdit.ItemContainerStyle>
                                        <Style TargetType="dxe:ComboBoxEditItem">
                                            <Setter Property="IsEnabled" Value="{Binding InUse}" />
                                        </Style>
                                    </dxe:ComboBoxEdit.ItemContainerStyle>
                                </dxe:ComboBoxEdit>
                                <!--Estimated Delivery-->
                                <Label Content="{DynamicResource SRMEditSupplierEstimatedDelivery}" Grid.Row="9" Grid.Column="1" HorizontalAlignment="Left" />
                                <Grid  Grid.Row="9" Grid.Column="2" HorizontalAlignment="Stretch">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="10" />
                                        <ColumnDefinition Width="auto" />
                                        <ColumnDefinition Width="5" />
                                    </Grid.ColumnDefinitions>
                                    <dxe:SpinEdit Grid.Column="0" AllowDefaultButton="False" Mask="D" MaskType="Numeric" HorizontalAlignment="Stretch" MinValue="0" NullText="0" MaxValue="100"  Height="30" 
                                              Text="{Binding DataContext.EstimatedDeliveryQuantity,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"/>

                                    <Label Grid.Column="2" Content="{DynamicResource SRMEditSupplierDays}" Margin="5,0,0,0" Width="90" Height="30" HorizontalAlignment="Stretch" />
                                </Grid>


                                <!--Carriage Method-->
                                <Label Content="{DynamicResource SRMEditSupplierCarriageMethod}"  Grid.Row="10" Grid.Column="1" HorizontalAlignment="Left" />

                                <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}" Grid.Column="2"  Grid.Row="10" Height="30" IsTextEditable="False" 
                                                  ItemsSource="{Binding DataContext.CarriageMethodList,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"                                                  
                                                  SelectedItem="{Binding DataContext.SelectedCarriageMethod,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"                                                  
                                                  DisplayMember="Value" ValueMember="IdLookupValue" VerticalAlignment="Center"  IsReadOnly="False" />
                                <!--Is Active-->
                                <TextBlock Width="110" Height="30" FontSize="16" Margin="5" Grid.Row="11" Grid.Column="1" Text="{DynamicResource SRMIsActiveText}"></TextBlock>
                                <StackPanel Orientation="Horizontal" Grid.Row="11" Grid.Column="2">
                                    <dxe:ToggleSwitch VerticalAlignment="Center" HorizontalAlignment="Center" CheckedStateContent="Yes" UncheckedStateContent="No"  ContentPlacement="Inside" 
                                     Height="30" Width="88" IsChecked="{Binding DataContext.IsActive,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, UpdateSourceTrigger=PropertyChanged}">
                                    </dxe:ToggleSwitch>
                                </StackPanel>
                                <!--CONTACT-->
                                <dxlc:GroupBox Grid.Row="1" Grid.RowSpan="5" Grid.Column="4" HorizontalAlignment="Stretch"
                                               Margin="0,0,0,-10"
                                                Header="{DynamicResource SRMEditSupplierContact}">
                                    <dxlc:GroupBox.ContentTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Vertical">
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />


                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="100" />
                                                        <ColumnDefinition Width="*" />
                                                        <ColumnDefinition Width="24" />
                                                    </Grid.ColumnDefinitions>

                                                    <!--Phone1-->
                                                    <Label Content="{DynamicResource SRMEditSupplierPhone1}" Grid.Row="0" Grid.Column="0" HorizontalAlignment="Left" />
                                                    <dxe:TextEdit EditValue="{Binding DataContext.Phone1, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                  Grid.Row="0"
                                                                  Grid.Column="1"
                                                                  Grid.ColumnSpan="2"
                                                                  AllowNullInput="True"
                                                                  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                                                  IsReadOnly="False" />

                                                    <!--Phone2-->
                                                    <Label Content="{DynamicResource SRMEditSupplierPhone2}" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" />
                                                    <dxe:TextEdit EditValue="{Binding DataContext.Phone2, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                  Grid.Row="1"
                                                                  Grid.Column="1"
                                                                  Grid.ColumnSpan="2"
                                                                  AllowNullInput="True"
                                                                  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                                                  IsReadOnly="False" />

                                                    <!--Email-->
                                                    <Label Content="{DynamicResource SRMEditSupplierEmail}" Grid.Row="2" Grid.Column="0" HorizontalAlignment="Left" />
                                                    <dxe:TextEdit x:Name="EmailToPerson" Text="{Binding DataContext.Email, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                  Grid.Row="2"
                                                                  Grid.Column="1"
                                                                  MaskType="RegEx"
                                                                  Mask="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}" 
                                                                  InvalidValueBehavior="AllowLeaveEditor"
                                                                  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                                                  IsReadOnly="False" />
                                                    <Button Grid.Row="2" Grid.Column="2"
                                                            Content="" Width="24" Height="24" HorizontalAlignment="Right" VerticalAlignment="Top"
                                                            Margin="-1,1,0,1">
                                                        <Button.ContentTemplate>
                                                            <DataTemplate>
                                                                <Image Style="{DynamicResource EmailColorImageStyle}" Grid.Column="0" Height="16" Width="16" Margin="-10" />
                                                            </DataTemplate>
                                                        </Button.ContentTemplate>
                                                        <Button.ToolTip>Email</Button.ToolTip>
                                                    </Button>

                                                    <!--Fax-->
                                                    <Label Content="{DynamicResource SRMEditSupplierFax}" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" />
                                                    <dxe:TextEdit EditValue="{Binding DataContext.Fax, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                  Grid.Row="3" Grid.Column="1"
                                                                  Grid.ColumnSpan="2"
                                                                  AllowNullInput="True"
                                                                  MaxLength="20"
                                                                  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                                                  IsReadOnly="False" />

                                                    <!--Website-->
                                                    <Label Content="{DynamicResource SRMEditSupplierWebsite}" Grid.Row="4" Grid.Column="0" HorizontalAlignment="Left" />
                                                    <dxe:TextEdit x:Name="GoToWebsite" 
                                                              Text="{Binding DataContext.Website, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                               EditValue="{Binding DataContext.Website, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                              Grid.Row="4" Grid.Column="1"
                                                                  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                                                  IsReadOnly="False" />
                                                    <Button Grid.Row="4" Grid.Column="2"
                                                            Margin="-1,1,0,1"
                                                            Content="" Width="24" Height="24" HorizontalAlignment="Right" VerticalAlignment="Top">
                                                        <Button.ContentTemplate>
                                                            <DataTemplate>
                                                                <Image Style="{DynamicResource WebColorImageStyle}" Grid.Column="0" Height="16" Width="16" Margin="-10" />
                                                            </DataTemplate>
                                                        </Button.ContentTemplate>
                                                        <Button.ToolTip>Go to Website</Button.ToolTip>
                                                    </Button>
                                                </Grid>
                                            </StackPanel>
                                        </DataTemplate>
                                    </dxlc:GroupBox.ContentTemplate>
                                </dxlc:GroupBox>

                                <!--Orders-->
                                <!--[Sudhir.Jangra][GEOS2-5491]-->
                                <dxlc:GroupBox Grid.Row="6" Grid.RowSpan="7" Grid.Column="4" Height="150" HorizontalAlignment="Stretch" VerticalAlignment="Top"  Margin="0,15,0,0"
                                                Header="{DynamicResource SRMEditSupplierOrdersGroupboxHeader}">
                                    <dxlc:GroupBox.ContentTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="45"/>
                                                    <RowDefinition Height="10"/>
                                                    <RowDefinition Height="45"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="5"/>
                                                    <ColumnDefinition Width="7*"/>
                                                </Grid.ColumnDefinitions>

                                                <dxlc:LayoutGroup Orientation="Vertical" Grid.Column="0" Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                                    <TextBlock Text="{DynamicResource SRMEditSupplierOrdersToGroupboxHeader}"/>

                                                    <Border Margin="-2,0,0,0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center">
                                                        <ContentControl>
                                                            <Image x:Name="AddTo"
                                                Width="20"
                                                Height="20"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Top"
                                                DataContext="{Binding DataContext,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                Style="{DynamicResource AddCustomerButtonImageStyle}">
                                                                <Image.ToolTip>
                                                                    <StackPanel>
                                                                        <TextBlock HorizontalAlignment="Stretch" Text="{DynamicResource CompanyOrdersToToolTip}" />
                                                                    </StackPanel>
                                                                </Image.ToolTip>
                                                            </Image>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <dxmvvm:EventToCommand Command="{Binding DataContext.AddToButtonCommand,  RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                           CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                    EventName="MouseLeftButtonUp"
                                                    PassEventArgsToCommand="True" />
                                                            </dxmvvm:Interaction.Behaviors>
                                                        </ContentControl>
                                                    </Border>

                                                </dxlc:LayoutGroup>

                                                <Grid Width="Auto" MaxWidth="700" Grid.Row="0" Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                                    <dxe:ListBoxEdit HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ItemsSource="{Binding DataContext.ToContactList,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                             ScrollViewer.HorizontalScrollBarVisibility="Disabled"  ScrollViewer.VerticalScrollBarVisibility="Auto" 
                                             DisplayMember="Firstname" ItemContainerStyle="{DynamicResource EditorListBoxThemeKey_DefaultItemStyle}">
                                                        <dxe:ListBoxEdit.ItemTemplate>
                                                            <DataTemplate>
                                                                <Border Style="{DynamicResource BorderStyle}">
                                                                    <ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto">
                                                                        <Grid ScrollViewer.VerticalScrollBarVisibility="Auto">
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="50" />
                                                                                <ColumnDefinition Width="Auto" />
                                                                                <ColumnDefinition Width="*" />
                                                                            </Grid.ColumnDefinitions>
                                                                            <Grid.RowDefinitions>
                                                                                <RowDefinition Height="38" />
                                                                            </Grid.RowDefinitions>
                                                                            <dxe:ImageEdit Grid.Row="0" Grid.Column="0" Source="{Binding OwnerImage}" ShowMenu="False" ShowLoadDialogOnClickMode="Never" />
                                                                            <TextBlock Grid.Row="0" Grid.Column="1" TextWrapping="WrapWithOverflow" TextTrimming="CharacterEllipsis" VerticalAlignment="Stretch" HorizontalAlignment="Center" Style="{DynamicResource TextBlock16Style}" FontWeight="Bold" Margin="5,0,0,0" >
                                                                                <TextBlock.Text>
                                                                                    <MultiBinding StringFormat="{}{0} {1}">
                                                                                        <Binding Path="Firstname"/>
                                                                                        <Binding Path="Lastname"/>
                                                                                    </MultiBinding>
                                                                                </TextBlock.Text>
                                                                            </TextBlock>

                                                                            <!--For close button-->

                                                                            <dxe:ButtonEdit Grid.Row="0"
                                                                                    Grid.Column="3"
                                                                                    HorizontalAlignment="Right" VerticalAlignment="Top"
                                                                                    Margin="5 4 4 0"
                                                                                    ShowText="False" Width="15" Height="15" 
                                                                                    Background="Transparent"
                                                                                    AllowDefaultButton="False">
                                                                                <dxe:ButtonEdit.Buttons>
                                                                                    <dxe:ButtonInfo GlyphKind="Cancel">
                                                                                        <dxmvvm:Interaction.Behaviors>
                                                                                            <dxmvvm:EventToCommand Command="{Binding DataContext.DeleteOrdersToButtonCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                                                           EventName="Click"
                                                                                                           CommandParameter="{Binding Path=.}" />
                                                                                        </dxmvvm:Interaction.Behaviors>
                                                                                    </dxe:ButtonInfo>
                                                                                </dxe:ButtonEdit.Buttons>
                                                                                <dxe:ButtonEdit.Style>
                                                                                    <Style TargetType="dxe:ButtonEdit">
                                                                                        <Setter Property="Visibility" Value="Visible"/>
                                                                                        <Style.Triggers>
                                                                                            <DataTrigger Binding="{Binding IsMainContact}" Value="True">
                                                                                                <Setter Property="Visibility" Value="Hidden"/>

                                                                                            </DataTrigger>
                                                                                        </Style.Triggers>
                                                                                    </Style>
                                                                                </dxe:ButtonEdit.Style>
                                                                            </dxe:ButtonEdit>
                                                                            <!--For close button-->
                                                                        </Grid>
                                                                    </ScrollViewer>


                                                                </Border>
                                                            </DataTemplate>
                                                        </dxe:ListBoxEdit.ItemTemplate>
                                                        <dxe:ListBoxEdit.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <WrapPanel />
                                                            </ItemsPanelTemplate>
                                                        </dxe:ListBoxEdit.ItemsPanel>


                                                    </dxe:ListBoxEdit>

                                                </Grid>



                                                <dxlc:LayoutGroup Orientation="Vertical" Grid.Column="0" Grid.Row="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                                    <TextBlock Text="{DynamicResource SRMEditSupplierOrdersCCGroupboxHeader}"/>

                                                    <Border Margin="-2,0,0,0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center">
                                                        <ContentControl>
                                                            <Image x:Name="AddCC"
                                                Width="20"
                                                Height="20"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Top"
                                                DataContext="{Binding DataContext,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                Style="{DynamicResource AddCustomerButtonImageStyle}">
                                                                <Image.ToolTip>
                                                                    <StackPanel>
                                                                        <TextBlock HorizontalAlignment="Stretch" Text="{DynamicResource CompanyOrdersCCToolTip}" />
                                                                    </StackPanel>
                                                                </Image.ToolTip>
                                                            </Image>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <dxmvvm:EventToCommand Command="{Binding DataContext.AddCCButtonCommand,  RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                           CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                    EventName="MouseLeftButtonUp"
                                                    PassEventArgsToCommand="True" />
                                                            </dxmvvm:Interaction.Behaviors>
                                                        </ContentControl>
                                                    </Border>
                                                </dxlc:LayoutGroup>

                                                <Grid Width="Auto" MaxWidth="700" Grid.Row="2" Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                                    <dxe:ListBoxEdit HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ItemsSource="{Binding DataContext.CCContactList,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                             ScrollViewer.HorizontalScrollBarVisibility="Disabled"  ScrollViewer.VerticalScrollBarVisibility="Auto" 
                                             DisplayMember="Firstname" ItemContainerStyle="{DynamicResource EditorListBoxThemeKey_DefaultItemStyle}">
                                                        <dxe:ListBoxEdit.ItemTemplate>
                                                            <DataTemplate>
                                                                <Border Style="{DynamicResource BorderStyle}">
                                                                    <ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto">
                                                                        <Grid ScrollViewer.VerticalScrollBarVisibility="Auto">
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="50" />
                                                                                <ColumnDefinition Width="Auto" />
                                                                                <ColumnDefinition Width="*" />
                                                                            </Grid.ColumnDefinitions>
                                                                            <Grid.RowDefinitions>
                                                                                <RowDefinition Height="38" />
                                                                            </Grid.RowDefinitions>
                                                                            <dxe:ImageEdit Grid.Row="0" Grid.Column="0" Source="{Binding OwnerImage}" ShowMenu="False" ShowLoadDialogOnClickMode="Never" />
                                                                            <TextBlock Grid.Row="0" Grid.Column="1" TextWrapping="WrapWithOverflow" TextTrimming="CharacterEllipsis" VerticalAlignment="Stretch" HorizontalAlignment="Center" Style="{DynamicResource TextBlock16Style}" FontWeight="Bold" Margin="5,0,0,0" >
                                                                                <TextBlock.Text>
                                                                                    <MultiBinding StringFormat="{}{0} {1}">
                                                                                        <Binding Path="Firstname"/>
                                                                                        <Binding Path="Lastname"/>
                                                                                    </MultiBinding>
                                                                                </TextBlock.Text>
                                                                            </TextBlock>

                                                                            <!--For close button-->

                                                                            <dxe:ButtonEdit Grid.Row="0"
                                                                                    Grid.Column="3"
                                                                                    HorizontalAlignment="Right" VerticalAlignment="Top"
                                                                                    Margin="5 4 4 0"
                                                                                    ShowText="False" Width="15" Height="15" 
                                                                                    Background="Transparent"
                                                                                    AllowDefaultButton="False">
                                                                                <dxe:ButtonEdit.Buttons>
                                                                                    <dxe:ButtonInfo GlyphKind="Cancel">
                                                                                        <dxmvvm:Interaction.Behaviors>
                                                                                            <dxmvvm:EventToCommand Command="{Binding DataContext.DeleteOrdersCCButtonCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                                                           EventName="Click"
                                                                                                           CommandParameter="{Binding Path=.}" />
                                                                                        </dxmvvm:Interaction.Behaviors>
                                                                                    </dxe:ButtonInfo>
                                                                                </dxe:ButtonEdit.Buttons>
                                                                            </dxe:ButtonEdit>
                                                                            <!--For close button-->
                                                                        </Grid>
                                                                    </ScrollViewer>
                                                                </Border>
                                                            </DataTemplate>
                                                        </dxe:ListBoxEdit.ItemTemplate>
                                                        <dxe:ListBoxEdit.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <WrapPanel />
                                                            </ItemsPanelTemplate>
                                                        </dxe:ListBoxEdit.ItemsPanel>


                                                    </dxe:ListBoxEdit>

                                                </Grid>

                                            </Grid>
                                        </DataTemplate>
                                    </dxlc:GroupBox.ContentTemplate>
                                </dxlc:GroupBox>

                                <!--LOCATION-->
                                <dxlc:GroupBox Grid.Row="8" Grid.Column="4"
                                               Grid.RowSpan="10" Header="{DynamicResource SRMEditSupplierLocation}" VerticalAlignment="Top" Margin="0,0,0,0">
                                    <dxlc:GroupBox.ContentTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Vertical">
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />
                                                        <RowDefinition Height="35" />
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="100" />
                                                        <ColumnDefinition Width="20" />
                                                        <ColumnDefinition Width="*" />

                                                    </Grid.ColumnDefinitions>

                                                    <!--Address-->
                                                    <Label Content="{DynamicResource SRMEditSupplierAddress}" Grid.Row="0" Grid.Column="0" Width="100" HorizontalAlignment="Left" />
                                                    <dxe:TextEdit Text="{Binding DataContext.Address,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                  Grid.Row="0"
                                                                  Grid.RowSpan="2"
                                                                  Grid.Column="2"
                                                                  MaxLength="500"
                                                                  Height="65"
                                                                  AcceptsReturn="True"
                                                                  TextWrapping="Wrap"
                                                                  VerticalScrollBarVisibility="Visible"
                                                                  VerticalAlignment="Top"
                                                                  HorizontalAlignment="Stretch"
                                                                  IsReadOnly="False">

                                                    </dxe:TextEdit>

                                                    <!-- Location Image -->

                                                    <Image Grid.Row="0" Grid.Column="1" Height="16" Width="16" HorizontalAlignment="Left">

                                                        <Image.Style>
                                                            <Style>
                                                                <Setter Property="Image.Source" Value="{DynamicResource MapLocationImageStyle}" />
                                                            </Style>
                                                        </Image.Style>
                                                    </Image>

                                                    <!--City-->
                                                    <Label Content="{DynamicResource SRMEditSupplierCity}" Grid.Row="2" Grid.Column="0" HorizontalAlignment="Left" />

                                                    <dxe:TextEdit Text="{Binding DataContext.City, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                                  Grid.Row="2" Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Top"  MaxLength="50" IsReadOnly="False" />

                                                    <!--State-->
                                                    <Label Content="{DynamicResource SRMEditSupplierStateProvince}" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" />

                                                    <dxe:TextEdit Text="{Binding DataContext.State, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                                  Grid.Row="3" Grid.Column="2" VerticalAlignment="Top" HorizontalAlignment="Stretch" MaxLength="100" IsReadOnly="False" />

                                                    <!--ZipCode-->
                                                    <Label Content="{DynamicResource SRMEditSupplierZipCode}" Grid.Row="4" Grid.Column="0" HorizontalAlignment="Left" />
                                                    <dxe:TextEdit Text="{Binding DataContext.ZipCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                              Grid.Row="4" Grid.Column="2" Mask="\d+" HorizontalAlignment="Stretch" MaskUseAsDisplayFormat="True" MaskType="RegEx" AllowNullInput="True" VerticalAlignment="Top"  MaxLength="100" IsReadOnly="False" />

                                                    <!--Country-->
                                                    <Label Content="{DynamicResource SRMEditSupplierCountry}" Grid.Row="5" Grid.Column="0" HorizontalAlignment="Left" />
                                                    <dxe:ComboBoxEdit Style="{DynamicResource ComboBoxEditStyle}" DisplayMember="Name" ValueMember="IdCountry" Grid.Row="5" Grid.Column="2" VerticalAlignment="Top"  HorizontalAlignment="Stretch" IsReadOnly="False"
                                                                      AutoComplete="True"
                                                                      ItemsSource="{Binding DataContext.ArticleSupplierList,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                   >
                                                        <dxe:ComboBoxEdit.SelectedItem>
                                                            <Binding Path="DataContext.SelectedArticleSupplier" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}">
                                                                <Binding.ValidationRules>
                                                                    <Validation:SRMArticleSupplierValidation FieldName="DataContext.SelectedArticleSupplier" ValidationStep="UpdatedValue" />
                                                                </Binding.ValidationRules>
                                                            </Binding>
                                                        </dxe:ComboBoxEdit.SelectedItem>
                                                    </dxe:ComboBoxEdit>

                                                    <!--SelectedItem="{Binding DataContext.SelectedArticleSupplier,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"-->
                                                    <!--Coordinates-->
                                                    <Label Content="{DynamicResource SRMEditSupplierCoordinates}" Grid.Row="6" Grid.Column="0" HorizontalAlignment="Left" />
                                                    <dxe:TextEdit Text="{Binding DataContext.Coordinates,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                                  Grid.Row="6" Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Top"  IsReadOnly="True" />
                                                </Grid>
                                            </StackPanel>
                                        </DataTemplate>
                                    </dxlc:GroupBox.ContentTemplate>
                                </dxlc:GroupBox>

                                <!-- Account open -->
                                <!--<Border Grid.Column="1"
                                        Grid.Row="13" 
                                        Grid.RowSpan="4"
                                        Grid.ColumnSpan="2"
                                        Margin="0,0,0,10"
                                        MaxHeight="80"
                                        HorizontalAlignment="Stretch"
                                        Style="{DynamicResource BorderStyle}">
                                    <StackPanel HorizontalAlignment="Stretch" Orientation="Vertical">
                                        <TextBlock Margin="3,0,0,0"
                                                FontWeight="Bold"
                                                Style="{DynamicResource TextBlock16Style}"
                                                Text="{Binding DataContext.IsAcountActiveMsg,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                                        --><!--[GEOS2-4027][rdixit][18.11.2022]--><!--
                                        <StackPanel>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="50*" />
                                                    <ColumnDefinition Width="50*" />
                                                    <ColumnDefinition Width="50*" />
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="30" />
                                                    <RowDefinition Height="40" />
                                                </Grid.RowDefinitions>
                                                <TextBlock Grid.Column="0"
                                                        Grid.Row="0"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{DynamicResource SRMEditSupplierCreatedIn}" />
                                                <TextBlock Grid.Column="0"
                                                        Grid.Row="1"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{Binding DataContext.CreatedIn, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                                                <TextBlock Grid.Column="1"
                                                        Grid.Row="0"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{DynamicResource SRMEditSupplierModifiedIn}" />
                                                <TextBlock Grid.Column="1"
                                                        Grid.Row="1"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{Binding modification, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                                                <Grid Grid.Column="2"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="2"
                                                        Margin="18,0,0,20">
                                                    --><!--<Ellipse Height="50" Fill="#FF005BAA" Width="50"/>--><!--
                                                    <Ellipse Height="50"
                                                            Width="50"
                                                            StrokeThickness="1"
                                                            Style="{DynamicResource EllipseStyle}" />
                                                    <TextBlock Margin="0"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Top"
                                                            Foreground="White"
                                                            Style="{DynamicResource TextBlockdaysStyle}"
                                                            Text="{DynamicResource SRMEditSupplierAge}"
                                                            TextAlignment="Center" />
                                                    <TextBlock HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            TextAlignment="Center">
                                                        <TextBlock.Style>
                                                            <Style BasedOn="{StaticResource TextBlock18Style}" TargetType="{x:Type TextBlock}">
                                                                <Setter Property="Foreground" Value="White" />
                                                                <Setter Property="Text" Value="{Binding DataContext.CreatedDays,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                                                            </Style>
                                                        </TextBlock.Style>
                                                    </TextBlock>

                                                    <TextBlock Margin="0,0,0,3"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Bottom"
                                                            Foreground="White"
                                                            Style="{DynamicResource TextBlockdaysStyle}"
                                                            Text="{Binding DataContext.CreatedDaysStr,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                            TextAlignment="Center" />
                                                </Grid>
                                            </Grid>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>-->

                            </Grid>
                        </ScrollViewer>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>

            <!--Contacts-->
            <dxlc:GroupBox x:Name="SRM_Suplier_Contacts" Style="{StaticResource myGroupBoxStyle}">


                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock Text="{DynamicResource LeadsEditViewContact}" Margin="5,0,0,0" VerticalAlignment="Center" FontWeight="Bold"
                                    />
                            <TextBlock Name="ContactsCount" Text="{Binding DataContext.ContactsList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                       FontWeight="Bold"
                                    Width="50"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Margin="5,1,0,0"
                                    />
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>


                <dxlc:GroupBox.ContentTemplate>

                    <DataTemplate>

                        <Grid>

                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.ContactsList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="20" />
                                <RowDefinition Height="20" />
                                <RowDefinition Height="20" />
                                <RowDefinition Height="20" />
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="10" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>


                            <dxe:ImageEdit Source="{Binding DataContext.ContactsList[0].OwnerImage,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                           Grid.Row="0" Grid.Column="0" Grid.RowSpan="4"
                                           ShowMenu="False" ShowLoadDialogOnClickMode="Never"
                                           HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

                            <TextBlock  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                                       Grid.Row="0" Grid.Column="2" Style="{DynamicResource TextBlock16Style}" FontWeight="Bold" TextWrapping="WrapWithOverflow" >
                                <Run Text="{Binding DataContext.ContactsList[0].Firstname,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"/>
                                <Run Text="{Binding DataContext.ContactsList[0].Lastname,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"/>
                            </TextBlock>

                            <TextBlock Text="{Binding DataContext.ContactsList[0].JobTitle,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                       HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                                       Grid.Row="1" Grid.Column="2" Style="{DynamicResource TextBlock12Style}" FontWeight="Bold" TextWrapping="WrapWithOverflow" />

                            <DockPanel Grid.Row="2" Grid.Column="2">
                                <Image Style="{DynamicResource PhoneColorImageStyle }" Height="16" Width="16" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
                                <TextBlock Text="{Binding DataContext.ContactsList[0].Phone,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                           Margin="5,0,0,0" 
                                           HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Style="{DynamicResource TextBlock12Style}" TextWrapping="WrapWithOverflow" />
                            </DockPanel>

                            <DockPanel Grid.Row="3" Grid.Column="2">

                                <Image Style="{DynamicResource EmailColorImageStyle}" Height="16" Width="16" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

                                <TextBlock Margin="5,0,0,0" 
                                           HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                    
                                        <Hyperlink TargetName="_blank" 
                                                   Command="{Binding DataContext.HyperlinkForEmail,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                   CommandParameter="{Binding DataContext.ContactsList[0].Email,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                   Style="{DynamicResource hyperlinkGridStyle}">
                                            
                                            <Hyperlink.Inlines>
                                                <Run Text="{Binding DataContext.ContactsList[0].Email,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" />
                                            </Hyperlink.Inlines>
                                        </Hyperlink>
                                </TextBlock>

                            </DockPanel>

                        </Grid>

                    </DataTemplate>

                </dxlc:GroupBox.ContentTemplate>



                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <dxe:ListBoxEdit HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ItemsSource="{Binding DataContext.ContactsList,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                             ScrollViewer.HorizontalScrollBarVisibility="Disabled"  ScrollViewer.VerticalScrollBarVisibility="Auto" 
                                             DisplayMember="Firstname" ItemContainerStyle="{DynamicResource EditorListBoxThemeKey_DefaultItemStyle}">
                                <!--IsReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"-->


                                <dxe:ListBoxEdit.ItemTemplate>
                                    <DataTemplate>
                                        <Border Style="{DynamicResource BorderStyle}">
                                            <Grid Width="400" ScrollViewer.HorizontalScrollBarVisibility="Auto">
                                                <Grid Grid.Row="0" Margin="12" MaxWidth="400" ScrollViewer.HorizontalScrollBarVisibility="Auto">
                                                    <!--[GEOS2-4642][rdixit][13.07.2023] added fix width to job tital,Added textrimming and Tool tip if text exceed.-->
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="80" />
                                                        <ColumnDefinition Width="220" />
                                                        <ColumnDefinition Width="*" />
                                                        <ColumnDefinition Width="Auto" />
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="25" />
                                                        <RowDefinition Height="20" />
                                                        <RowDefinition Height="20" />
                                                        <RowDefinition Height="20" />
                                                    </Grid.RowDefinitions>
                                                    <dxe:ImageEdit Grid.Row="0" Grid.Column="0" Grid.RowSpan="4" Source="{Binding OwnerImage}" ShowMenu="False" ShowLoadDialogOnClickMode="Never" />
                                                    <TextBlock Grid.Row="0" Grid.Column="1" TextWrapping="WrapWithOverflow" TextTrimming="CharacterEllipsis"  Style="{DynamicResource TextBlock16Style}" FontWeight="Bold" Margin="5,0,0,0" >
                                                        <TextBlock.Text>
                                                            <MultiBinding StringFormat="{}{0} {1}">
                                                                <Binding Path="Firstname"/>
                                                                <Binding Path="Lastname"/>
                                                            </MultiBinding>
                                                        </TextBlock.Text>
                                                    </TextBlock>

                                                    <!--shubham[skadam] for GEOS2-3432-->
                                                    <!--For close button-->

                                                    <dxe:ButtonEdit Grid.Row="0"
                                                                                   IsEnabled="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionForSRMEdit_Supplier}"
                                                                                    Grid.Column="3"
                                                                                    HorizontalAlignment="Right" VerticalAlignment="Top"
                                                                                    Margin="0 4 4 0"
                                                                                    ShowText="False" Width="15" Height="15" 
                                                                                    Background="Transparent"
                                                                                    AllowDefaultButton="False">
                                                        <dxe:ButtonEdit.Buttons>
                                                            <dxe:ButtonInfo GlyphKind="Cancel">
                                                                <dxmvvm:Interaction.Behaviors>
                                                                    <dxmvvm:EventToCommand Command="{Binding DataContext.DeleteButtonCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                                                                           EventName="Click"
                                                                                                           CommandParameter="{Binding Path=.}" />
                                                                </dxmvvm:Interaction.Behaviors>
                                                            </dxe:ButtonInfo>
                                                        </dxe:ButtonEdit.Buttons>
                                                    </dxe:ButtonEdit>
                                                    <!--For close button-->

                                                    <!--For star image-->

                                                    <StackPanel Grid.Column="2" 
                                                                                    Grid.Row="0" HorizontalAlignment="Right" Margin="0 3 4 0">
                                                        <Button ToolTip="{DynamicResource MainContact}" HorizontalContentAlignment="Right"                 
                                                                    Command="{Binding DataContext.SetMainContactCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" CommandParameter="{Binding Path=.}"
                                                                >
                                                            <Image Grid.Column="2" 
                                                                                    Grid.Row="0"
                                                                                    Width="16"
                                                                                    Height="16"                                                                                  
                                                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                                                                                    >
                                                                <Image.Style>
                                                                    <Style TargetType="{x:Type Image}">
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding IsMainContact,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="True">
                                                                                <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/PrimaryContact.png" />
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding IsMainContact,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="False">
                                                                                <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/PrimaryContactSales.png" />
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>

                                                            </Image>

                                                        </Button>
                                                    </StackPanel>

                                                    <!--For star image-->


                                                    <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding JobTitle}" ToolTip="{Binding JobTitle}" TextWrapping="WrapWithOverflow" TextTrimming="CharacterEllipsis"  Style="{DynamicResource TextBlock12Style}" FontWeight="Bold" Margin="5,2,0,2" />

                                                    <DockPanel Grid.Row="2" Grid.Column="1">
                                                        <Image Style="{DynamicResource PhoneColorImageStyle}" Height="16" Width="16" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="5,0,5,0" />
                                                        <TextBlock Text="{Binding Phone}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Style="{DynamicResource TextBlock12Style}" Margin="5,0,0,0" />
                                                    </DockPanel>

                                                    <DockPanel Grid.Row="3" Grid.Column="1">
                                                        <Image Style="{DynamicResource EmailColorImageStyle}" Height="16" Width="16" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="5,0,5,0" />
                                                        <TextBlock Margin="5,0,0,0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                                            <Hyperlink TargetName="_blank" 
                                                               Command="{Binding DataContext.HyperlinkForEmail,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                               CommandParameter="{Binding Email}" 
                                                               Style="{DynamicResource hyperlinkGridStyle}">
                                                            <InlineUIContainer>
                                                                   <TextBlock Text="{Binding Path=Email}" />
                                                             </InlineUIContainer>
                                                            </Hyperlink>
                                                        </TextBlock>
                                                    </DockPanel>
                                                </Grid>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </dxe:ListBoxEdit.ItemTemplate>
                                <dxe:ListBoxEdit.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel />
                                    </ItemsPanelTemplate>
                                </dxe:ListBoxEdit.ItemsPanel>

                                <dxmvvm:Interaction.Behaviors>
                                    <dxmvvm:EventToCommand Command="{Binding DataContext.LinkedContactDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                           EventName="MouseDoubleClick" CommandParameter="{Binding Path=.}">
                                        <dxmvvm:EventToCommand.EventArgsConverter>
                                            <dx:EventArgsToDataRowConverter />
                                        </dxmvvm:EventToCommand.EventArgsConverter>
                                    </dxmvvm:EventToCommand>
                                </dxmvvm:Interaction.Behaviors>
                            </dxe:ListBoxEdit>

                            <Button Margin="0,2,1,-1" Height="30" Width="30" Grid.Row="1" HorizontalAlignment="Right" VerticalAlignment="Bottom"
                                    Command="{Binding DataContext.AddNewContactCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" CommandParameter="{Binding ElementName=ActivityTableView}"
                                    Visibility="Visible" IsEnabled="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionForSRMEdit_Supplier}">
                                <Button.ToolTip>
                                    <TextBlock Text="{DynamicResource AddContactViewHeader}" />
                                </Button.ToolTip>
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Image Style="{DynamicResource AddButtonImageStyle}" Grid.Column="1" Height="24" Width="24" HorizontalAlignment="Right" Margin="-10" />
                                        </Grid>
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>

                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>

            </dxlc:GroupBox>

          
            <!--Change Log Information-->
            <dxlc:GroupBox x:Name="ChangeLogInformation" MaximizeElementVisibility="Visible" Content="{Binding}" Style="{StaticResource myGroupBoxStyle}">
                <dxlc:GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <DockPanel Margin="-5,0,0,0">
                            <TextBlock
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource changeLog}" />
                            <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ContactCount"
                                    Text="{Binding DataContext.ArticleSupplier.LogEntriesByArticleSuppliers.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                        </DockPanel>
                    </DataTemplate>
                </dxlc:GroupBox.HeaderTemplate>
                <dxlc:GroupBox.ContentTemplate>
                    <DataTemplate>
                        <Grid>
                            <Grid.Style>
                                <Style>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding DataContext.ArticleSupplier.LogEntriesByArticleSuppliers.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                            <Setter Property="Grid.Visibility" Value="Hidden"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                                        </Grid>
                    </DataTemplate>
                </dxlc:GroupBox.ContentTemplate>
                <dxlc:GroupBox.MaximizedContentTemplate>
                    <DataTemplate>
                        <dxg:GridControl VerticalAlignment="Stretch" HorizontalAlignment="Stretch"
                                             ItemsSource="{Binding DataContext.ArticleSupplier.LogEntriesByArticleSuppliers, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type dxlc:GroupBox}}, UpdateSourceTrigger=PropertyChanged}"
                                             ImplyNullLikeEmptyStringWhenFiltering="True">
                            <dxg:GridControl.Columns>
                                <dxg:GridColumn FieldName="ChangeLogUser" Header="{DynamicResource ChangeLogUser}" ReadOnly="True" FixedWidth="True" Width="150" FilterPopupMode="CheckedList"/>
                                <dxg:GridColumn FieldName="Datetime" Header="{DynamicResource ChangeLogDate}" ReadOnly="True" FixedWidth="True" Width="140" FilterPopupMode="CheckedList">
                                    <dxg:GridColumn.EditSettings>
                                        <dxe:DateEditSettings DisplayFormat="g" Name="changeLogTime" />
                                    </dxg:GridColumn.EditSettings>
                                </dxg:GridColumn>
                                <dxg:GridColumn FieldName="Comments" Header="{DynamicResource ChangeLogAction}" ReadOnly="True" FixedWidth="False" Width="*" FilterPopupMode="CheckedList">
                                    <dxg:GridColumn.EditSettings>
                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                    </dxg:GridColumn.EditSettings>
                                </dxg:GridColumn>

                            </dxg:GridControl.Columns>
                            <dxg:GridControl.View>
                                <dxg:TableView Name="ChangeLogTableView"  NavigationStyle="Row"
                                                    VerticalScrollbarVisibility="Auto" 
                                                    HorizontalScrollbarVisibility="Auto"
                                                     ShowSearchPanelMode="Always"
                                                    SearchPanelHorizontalAlignment="Stretch"
                                                    AutoWidth="True"
                                                    ShowGroupPanel="False" 
                                                    ShowIndicator="False"
                                                    AllowFixedColumnMenu="False"
                                                    ShowFixedTotalSummary="False"
                                                    AllowEditing="True" AllowLeaveInvalidEditor="True"
                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" EnableImmediatePosting="True"
                                                    ItemsSourceErrorInfoShowMode="RowAndCell">
                                </dxg:TableView>
                            </dxg:GridControl.View>
                        </dxg:GridControl>
                    </DataTemplate>
                </dxlc:GroupBox.MaximizedContentTemplate>
            </dxlc:GroupBox>
        </dxlc:FlowLayoutControl>


      

        <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                    HorizontalAlignment="Center" 
                    Orientation="Horizontal"
                    Margin="20,5,0,0"
                    Width="290">

            <Button Content="{DynamicResource AddContactViewAccept}"
                    Command="{Binding ArticleSupplierAcceptButtonCommand}"
                    Height="30"
                    Width="100"
                    Margin="0,0,30,0"
                    VerticalAlignment="Bottom"
                    IsEnabled="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionForSRMEdit_Supplier}"
                        />

            <Button   Grid.Row="1" Grid.Column="1" Content="{DynamicResource Cancel}"
                    Command="{Binding CancelButtonCommand}" 
                    Height="30"
                    Width="100"
                    Margin="30,0,0,0"
                    VerticalAlignment="Bottom" />

        </StackPanel>


    </Grid>

    </dxwui:WinUIDialogWindow>


