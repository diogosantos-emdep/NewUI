<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.SRM.Views.AddReceiversView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" 
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm" 
             xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
             xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol" 
             xmlns:local="clr-namespace:Emdep.Geos.Modules.SRM.Views"
             Title="{DynamicResource SRMAddReceiversTitle}"
                          TitleStyle="{DynamicResource WinUIDialogWindowTitleStyleWithLeftMargin}"
             Style="{DynamicResource WinUIDialogWindowStyle}"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding CancelButtonCommand}" />
    </dxwui:WinUIDialogWindow.InputBindings>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="400"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="50"/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="5"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="400"/>
                <ColumnDefinition Width="30"/>
                <ColumnDefinition Width="400"/>
            </Grid.ColumnDefinitions>
            <Label Content="{DynamicResource SRMAddReceiversExcludedTitle}" Grid.Row="0" Grid.Column="0" HorizontalAlignment="Left" />
            <dxe:ListBoxEdit Grid.Column="0" Grid.Row="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ItemsSource="{Binding DataContext.ExcludedContactList,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                 Name="listBoxEdit1"            ScrollViewer.HorizontalScrollBarVisibility="Disabled"  ScrollViewer.VerticalScrollBarVisibility="Auto" 
                                       dx:ListBoxDragDropBehavior.AllowDragDrop="True" 
   dx:ListBoxDragDropBehavior.DragRecordOver="OnDragRecordOver" ItemContainerStyle="{DynamicResource EditorListBoxThemeKey_DefaultItemStyle}"
                             DisplayMember="Firstname" >
                <dxe:ListBoxEdit.ItemTemplate>
                    <DataTemplate>
                        <Border Style="{DynamicResource BorderStyle}">
                            <ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Auto">
                                <Grid ScrollViewer.VerticalScrollBarVisibility="Auto" Margin="0,0,5,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="50" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="40" />
                                </Grid.RowDefinitions>
                                <dxe:ImageEdit Grid.Row="0" Grid.Column="0" Source="{Binding OwnerImage}" ShowMenu="False" ShowLoadDialogOnClickMode="Never" />
                                <TextBlock Grid.Row="0" Grid.Column="1" TextWrapping="WrapWithOverflow" TextTrimming="CharacterEllipsis" VerticalAlignment="Stretch" HorizontalAlignment="Center" Style="{DynamicResource TextBlock16Style}" FontWeight="Bold" Margin="5,0,0,0" >
                                        <TextBlock.Text>
                                            <MultiBinding StringFormat="{}{0} {1}">
                                                <Binding Path="Firstname"/>
                                                <Binding Path="Lastname"/>
                                            </MultiBinding>
                                        </TextBlock.Text>
                                    </TextBlock>
                            </Grid>
                        </ScrollViewer>
                        </Border>


                    </DataTemplate>
                </dxe:ListBoxEdit.ItemTemplate>
                <dxe:ListBoxEdit.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Vertical"/>
                    </ItemsPanelTemplate>
                </dxe:ListBoxEdit.ItemsPanel>

            </dxe:ListBoxEdit>

            <Label Content="{DynamicResource SRMAddReceiversIncludedTitle}" Grid.Row="0" Grid.Column="2" HorizontalAlignment="Left" />
            <dxe:ListBoxEdit Grid.Column="2" Grid.Row="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ItemsSource="{Binding DataContext.IncludedContactList,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                          ScrollViewer.HorizontalScrollBarVisibility="Disabled"  ScrollViewer.VerticalScrollBarVisibility="Auto" 
                                 dx:ListBoxDragDropBehavior.AllowDragDrop="True" 
   dx:ListBoxDragDropBehavior.DragRecordOver="OnDragRecordOver" ItemContainerStyle="{DynamicResource EditorListBoxThemeKey_DefaultItemStyle}"
                             Name="listBoxEdit2"          DisplayMember="Firstname" >
                <dxe:ListBoxEdit.ItemTemplate>
                    <DataTemplate>
                        <Border Style="{DynamicResource BorderStyle}">
                            <ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Auto">
                            <Grid ScrollViewer.VerticalScrollBarVisibility="Auto" Margin="0,0,5,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="50" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="40" />
                                </Grid.RowDefinitions>
                                <dxe:ImageEdit Grid.Row="0" Grid.Column="0" Source="{Binding OwnerImage}" ShowMenu="False" ShowLoadDialogOnClickMode="Never" />
                                <TextBlock Grid.Row="0" Grid.Column="1" TextWrapping="WrapWithOverflow" TextTrimming="CharacterEllipsis" VerticalAlignment="Stretch" HorizontalAlignment="Center" Style="{DynamicResource TextBlock16Style}" FontWeight="Bold" Margin="5,0,0,0" >
                                        <TextBlock.Text>
                                            <MultiBinding StringFormat="{}{0} {1}">
                                                <Binding Path="Firstname"/>
                                                <Binding Path="Lastname"/>
                                            </MultiBinding>
                                        </TextBlock.Text>
                                    </TextBlock>

                              
                            </Grid>
                        </ScrollViewer>
                        </Border>


                    </DataTemplate>
                </dxe:ListBoxEdit.ItemTemplate>
                <dxe:ListBoxEdit.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Vertical"/>
                    </ItemsPanelTemplate>
                </dxe:ListBoxEdit.ItemsPanel>


            </dxe:ListBoxEdit>

        </Grid>


        <StackPanel Grid.Row="2" 
                    HorizontalAlignment="Center" 
                    Orientation="Horizontal"
                    Margin="20,5,0,0"
                    Width="290">

            <Button Content="{DynamicResource AddContactViewAccept}"
                    Command="{Binding AcceptButtonCommand}"
                    Height="30"
                    Width="100"
                    Margin="0,0,30,0"
                    VerticalAlignment="Bottom"
                  
                        />

            <Button   Grid.Row="1" Grid.Column="1" Content="{DynamicResource Cancel}"
                    Command="{Binding CancelButtonCommand}" 
                    Height="30"
                    Width="100"
                    Margin="30,0,0,0"
                    VerticalAlignment="Bottom" />

        </StackPanel>
    </Grid>
</dxwui:WinUIDialogWindow>
