<UserControl x:Class="Emdep.Geos.Modules.SRM.Views.PreOrderView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Emdep.Geos.Modules.SRM.Views"                  
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"     
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"       
             xmlns:dxp="http://schemas.devexpress.com/winfx/2008/xaml/printing"        
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"  
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
             xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"       
             xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"       
             xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"      
             xmlns:SRMCommon ="clr-namespace:Emdep.Geos.Modules.SRM"      
             xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"                 
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"       
             Style="{DynamicResource UserControlStyle}"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

    <!--[GEOS2-7979][rdixit][16.07.2025][All connected tasks]-->
    <UserControl.Resources>
        <UIConverter:ImageUrlToByteArrayConverter x:Key="ImageUrlToByteArrayConverter" />
        <UIConverter:CurrencyToImageConverter  x:Key="CurrencyToImageConverter" />
    </UserControl.Resources>

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="45"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Label Content="{DynamicResource ReOrderHeader}" Grid.Row="0" Grid.Column="0" 
                   Style="{StaticResource LabelTitleStyle}" HorizontalAlignment="Left" />

            <DockPanel Grid.Row="0" Grid.Column="1">
                <Grid HorizontalAlignment="Right" Width="Auto" Height="45" ShowGridLines="False" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="45"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="93"/>
                        <ColumnDefinition Width="190"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Waresouse combobox section -->
                    <DockPanel Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Height="30" Margin="7,0,3,10" >
                        <Image Style="{DynamicResource WarehouseImageStyle}" Width="24" Height="24" Margin="7,0,3,0" />
                        <TextBlock Text="{DynamicResource Warehouse}"  FontWeight="Bold" Margin="5,0,5,0" VerticalAlignment="Bottom" />
                    </DockPanel>

                    <dxe:ComboBoxEdit Name="CbeWareHouse" Style="{DynamicResource ComboBoxEditStyle}" Grid.Column="1" Width="150" Height="30"                             
                                      Margin="5,0,5,7" VerticalAlignment="Bottom" IsTextEditable="False"                            
                                      ItemsSource ="{Binding Source={x:Static SRMCommon:SRMCommon.Instance}, Path=WarehouseList ,UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}"                          
                                      EditValue="{Binding Source={x:Static SRMCommon:SRMCommon.Instance}, Path=Selectedwarehouse,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"                            
                                      DisplayMember="Name" ShowError="False" ShowErrorToolTip="False"  >
                        <dxmvvm:Interaction.Triggers>
                            <dxmvvm:EventToCommand EventName="EditValueChanged" Command="{Binding CommandWarehouseEditValueChanged}" PassEventArgsToCommand="True"/>
                        </dxmvvm:Interaction.Triggers>
                    </dxe:ComboBoxEdit>


                    <!-- Period -->
                   
                    <DockPanel Grid.Column="3" Grid.Row="0" HorizontalAlignment="Center" VerticalAlignment="Center" >
                        <TextBlock Style="{DynamicResource CustomPeriodTitleStyle}"  HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,5,0"
                                   Text="{Binding DataContext.FromDate,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},
                            RelativeSource={RelativeSource AncestorType=UserControl}}"/>
                        <TextBlock Style="{DynamicResource CustomPeriodTitleStyle}" Text=" - " HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold" Margin="0,0,5,0"/>
                        <TextBlock Style="{DynamicResource CustomPeriodTitleStyle}" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,5,0"
                                   Text="{Binding DataContext.ToDate,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},
                            RelativeSource={RelativeSource AncestorType=UserControl}}" />
                    </DockPanel>
               
                    <TextBlock HorizontalAlignment="Right" VerticalAlignment="Center" FontWeight="Bold" Grid.Column="2"  Margin="0,0,5,0" Text="{DynamicResource SRMPeriod}" />
                    <!--Calender Icon-->
                    <dxwui:AppBar x:Name="Appbar" HideMode="AlwaysVisible" Background="Transparent" Grid.Column="2"       
                                  HorizontalAlignment="Left" VerticalAlignment="Center"       
                                  IsOpen="True" IsExitButtonEnabled="False" Margin="0,0,0,0">

                        <dxwui:AppBarButton x:Name="appbarbutton" ToolTip="{DynamicResource PeriodSelect}"             
                                            GlyphHeight="24" GlyphWidth="24" AllowGlyphTheming="False"             
                                            Style="{DynamicResource CalendarImageGlyphStyle}"             
                                            GlyphStretch="Fill" IsEllipseEnabled="False" Margin="-25,-15,0,0" >
                            <dxwui:AppBarButton.Flyout>
                                <dxwui:MenuFlyout ShowIndicator="True" x:Name="MenuLayout">
                                    <dxwui:MenuFlyoutItem StaysOpenOnClick="True">
                                        <Grid Width="Auto" Height="Auto">
                                            <DockPanel>
                                                <StackPanel Orientation="Vertical" x:Name="PeriodCategories">
                                                    <!--This Year-->
                                                    <Button x:Name="ThisYear" Content="This Year" HorizontalAlignment="Center" VerticalAlignment="Center"                                 
                                                            Height="30" Width="110" Command="{Binding PeriodCommand}" CommandParameter="{Binding ElementName=ThisYear}">
                                                    </Button>
                                                    <!--Last Year-->
                                                    <Button x:Name="LastYear" Content="Last Year" HorizontalAlignment="Center" VerticalAlignment="Center"                                 
                                                            Height="30" Width="110" Command="{Binding PeriodCommand}" CommandParameter="{Binding ElementName=LastYear}">
                                                    </Button>
                                                    <!--This Month-->
                                                    <Button x:Name="ThisMonth" Content="{DynamicResource SAMThisMonth}" HorizontalAlignment="Center" VerticalAlignment="Center"                                 
                                                            Height="30" Width="110" Command="{Binding PeriodCommand}" CommandParameter="{Binding ElementName=ThisMonth}">
                                                    </Button>
                                                    <!--Last month-->
                                                    <Button x:Name="LastMonth" Content="{DynamicResource SAMLastMonth}" HorizontalAlignment="Center" VerticalAlignment="Center"                                  
                                                            Height="30" Width="110" Command="{Binding PeriodCommand}" CommandParameter="{Binding ElementName=LastMonth}">
                                                    </Button>
                                                    <!--This week-->
                                                    <Button x:Name="ThisWeek" Content="{DynamicResource SAMThisWeek}" HorizontalAlignment="Center" VerticalAlignment="Center"                                  
                                                            Height="30" Width="110" Command="{Binding PeriodCommand}" CommandParameter="{Binding ElementName=ThisWeek}">
                                                    </Button>
                                                    <!--Last week-->
                                                    <Button x:Name="LastWeek" Content="{DynamicResource SAMLastWeek}" HorizontalAlignment="Center" VerticalAlignment="Center"                                  
                                                            Height="30" Width="110" Command="{Binding PeriodCommand}" CommandParameter="{Binding ElementName=LastWeek}">
                                                    </Button>
                                                    <!--Last 12 month-->
                                                    <Button x:Name="Last12Months" Content="Last 12 Months" HorizontalAlignment="Center" VerticalAlignment="Center"                                  
                                                            Height="30" Width="110" Command="{Binding PeriodCommand}" CommandParameter="{Binding ElementName=Last12Months}">
                                                    </Button>
                                                    <!--Custom Range-->
                                                    <Button x:Name="CustomRange" Content="{DynamicResource PeriodCustomRange}" HorizontalAlignment="Center" VerticalAlignment="Center"                                 
                                                            Height="30" Width="110"                                
                                                            Command="{Binding PeriodCustomRangeCommand}" CommandParameter="{Binding ElementName=CustomRange}">
                                                    </Button>
                                                    <StackPanel Orientation="Horizontal" Margin="0,50,0,0">
                                                        <Button Content="{DynamicResource SAMApply}" HorizontalAlignment="Center" VerticalAlignment="Center"                                 
                                                                Height="30" Width="60" Background="Yellow"                                  
                                                                Command="{Binding ApplyCommand}" CommandParameter="{Binding ElementName=MenuLayout}">
                                                        </Button>
                                                        <Button Content="{DynamicResource SAMCancel}" HorizontalAlignment="Center" VerticalAlignment="Center"                                 
                                                                Height="30" Width="60"                                  
                                                                Command="{Binding CancelCommand}" CommandParameter="{Binding ElementName=MenuLayout}">
                                                        </Button>
                                                    </StackPanel>
                                                </StackPanel>
                                                <StackPanel Visibility="{Binding IsCalendarVisible, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Orientation="Horizontal">
                                                    <StackPanel Orientation="Vertical">
                                                        <dxe:TextEdit Text="{Binding StartDate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"                        
                                                                      Height="30" TextWrapping="Wrap" Mask="dd/MM/yyyy" MaskType="DateTimeAdvancingCaret"                         
                                                                      MaskUseAsDisplayFormat="True" HorizontalAlignment="Stretch" IsReadOnly="True"  Margin="2,2,2,2">
                                                        </dxe:TextEdit>
                                                        <!--Calendar-->
                                                        <dxe:DateEditCalendar DateTime="{Binding StartDate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"                                           
                                                                              VerticalAlignment="Center" ShowToday="False" ShowClearButton="False"/>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Vertical">
                                                        <dxe:TextEdit Text="{Binding EndDate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"                        
                                                                      Height="30" TextWrapping="Wrap" Mask="dd/MM/yyyy" MaskType="DateTimeAdvancingCaret"                        
                                                                      MaskUseAsDisplayFormat="True" HorizontalAlignment="Stretch" IsReadOnly="True"  Margin="2,2,2,2">
                                                        </dxe:TextEdit>
                                                        <!--Calendar-->
                                                        <dxe:DateEditCalendar DateTime="{Binding EndDate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"                                          
                                                                              VerticalAlignment="Center" ShowToday="False" ShowClearButton="False"/>
                                                    </StackPanel>
                                                </StackPanel>
                                            </DockPanel>
                                        </Grid>
                                    </dxwui:MenuFlyoutItem>
                                </dxwui:MenuFlyout>
                            </dxwui:AppBarButton.Flyout>
                        </dxwui:AppBarButton>
                    </dxwui:AppBar>

                    <!--Add Button [rdixit][GEOS2-8250][21.07.2025]-->
                    <Button Content=" " Height="40" Width="40" Command="{Binding AddPreOrderCommand }" 
                            CommandParameter="{Binding ElementName=ReOrderTableView}"            
                            HorizontalAlignment="Right" Grid.Column="4"  Margin="0,0,5,5">
                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource AddPreOrderHeader}"/>
                        </Button.ToolTip>
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Image Style="{DynamicResource AddButtonImageStyle}" Grid.Column="0" Height="24" Width="24" Margin="-10"/>
                                </Grid>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>

                    <!-- Refresh Button -->
                    <Button Content=" " Grid.Row="0" Grid.Column="5" Height="40" Width="40" HorizontalAlignment="Right"  
                            Command="{Binding RefreshReOrderViewCommand}" 
                            CommandParameter="{Binding ElementName=ReOrderTableView}" Margin="0,0,5,5">
                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource ButtonRefresh}"/>
                        </Button.ToolTip>
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Image Style="{ DynamicResource WareHouseRefreshButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>

                    <!-- Print Button -->
                    <Button Content=" " Grid.Row="0" Grid.Column="6" Height="40" Width="40" HorizontalAlignment="Right" 
                            Command="{Binding PrintReOrderViewCommand}" 
                            CommandParameter="{Binding ElementName=ReOrderTableView}" Margin="0,0,5,5">
                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource ButtonPrint}"/>
                        </Button.ToolTip>
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Image Style="{ DynamicResource PrinterButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>

                    <!-- Export Button -->
                    <Button Content=" " Grid.Row="0" Grid.Column="7" Height="40" Width="40" HorizontalAlignment="Right"  
                            Command="{Binding ExportReOrderViewCommand}" 
                            CommandParameter="{Binding ElementName=ReOrderTableView}" Margin="0,0,5,5">
                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource ButtonExportToExcel}"/>
                        </Button.ToolTip>
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Image Style="{ DynamicResource ExcelExportButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>
                </Grid>
            </DockPanel>
        </Grid>

        <dxg:GridControl x:Name="GridControlReOrder" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.Row="1" 
                         ImplyNullLikeEmptyStringWhenFiltering="True" AllowLiveDataShaping="True" 
                         ItemsSource="{Binding ReOrderList,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                         SelectedItem="{Binding SelectedReOrder, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                         SelectionMode="Row" Width="Auto" Height="Auto">

            <dxg:GridColumn Header="{DynamicResource ReOrderCode}" FieldName="Code" MinWidth="100" FilterPopupMode="CheckedList" ReadOnly="True" >
                <dxg:GridColumn.CellTemplate>
                    <DataTemplate>
                        <TextBlock Margin="4 0 0 0" VerticalAlignment="Center" >
                            <Hyperlink x:Name="hyperlink" TargetName="_blank"
                                       Command="{Binding DataContext.ViewCodeHyperlinkClickCommand,RelativeSource={RelativeSource AncestorType=dxg:GridControl}}"
                                       CommandParameter="{Binding ElementName=ReOrderTableView}" Style="{DynamicResource hyperlinkGridStyle}">
                                       <InlineUIContainer>
                                           <TextBlock Text="{Binding Data.Code}" Style="{DynamicResource HyperlinkTextBlock}" TextDecorations="Underline"  />
                                       </InlineUIContainer>
                            </Hyperlink>
                        </TextBlock>
                    </DataTemplate>
                </dxg:GridColumn.CellTemplate>
            </dxg:GridColumn>
            <dxg:GridColumn Header="{DynamicResource ReOrderCreationDate}" FieldName="CreationDate" MinWidth="100" Width="150" FilterPopupMode="CheckedList" ReadOnly="True">
                <dxg:GridColumn.CellTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Data.CreationDate,StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"        
                                   HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,2,0,0"/>
                    </DataTemplate>
                </dxg:GridColumn.CellTemplate>
            </dxg:GridColumn>
            <dxg:GridColumn Header="{DynamicResource ReOrderCreatedBy}" FieldName="CreatedBy" MinWidth="100" Width="220" FilterPopupMode="CheckedList"  ReadOnly="True"/>
            <dxg:GridColumn Header="{DynamicResource ReOrderCalculatedDate}" FieldName="CalculationDate" MinWidth="150" Width="150" FilterPopupMode="CheckedList"  ReadOnly="True">
                <dxg:GridColumn.CellTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Data.CalculationDate,StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"
                                   HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,2,0,0"/>
                    </DataTemplate>
                </dxg:GridColumn.CellTemplate>
            </dxg:GridColumn>
            <dxg:GridColumn Header="{DynamicResource ReOrderPlant}" MinWidth="100" FieldName="Warehouse.Name" FilterPopupMode="CheckedList"  Width="150"  ReadOnly="True">
                <dxg:GridColumn.CellTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Height="24">
                            <Image Source="{Binding RowData.Row.Warehouse.CountryIconUrl, Converter={StaticResource ImageUrlToByteArrayConverter},UpdateSourceTrigger=PropertyChanged ,ConverterParameter='image/png'}"                   
                        VerticalAlignment="Center" Height="24" Width="24" Margin="2,0,0,0" />
                            <TextBlock Text ="{Binding RowData.Row.Warehouse.Name,UpdateSourceTrigger=PropertyChanged}"  VerticalAlignment="Center" Margin="5,0,0,0" ></TextBlock>
                        </StackPanel>
                    </DataTemplate>
                </dxg:GridColumn.CellTemplate>
            </dxg:GridColumn>
            <dxg:GridColumn Header="{DynamicResource ReOrderStatus}" FieldName="Status.Name" MinWidth="100" Width="150" FilterPopupMode="CheckedList"  ReadOnly="True"/>
            <dxg:GridColumn Header="{DynamicResource ReOrderLogistic}" FieldName="Logistic.Value" MinWidth="110" Width="150" FilterPopupMode="CheckedList"  ReadOnly="True">
                <dxg:GridColumn.CellStyle>
                    <Style TargetType="dxg:LightweightCellEditor">
                        <Setter Property="Background" Value="{Binding RowData.Row.Logistic.HtmlColor,UpdateSourceTrigger=PropertyChanged}"/>
                    </Style>
                </dxg:GridColumn.CellStyle>
            </dxg:GridColumn>
            <dxg:GridColumn Header="{DynamicResource ReOrderTotalReOrder}" FieldName="TotalReOrder" MinWidth="150" Width="150" FilterPopupMode="CheckedList"  ReadOnly="True"/>
            <dxg:GridColumn Header="{DynamicResource ReOrderTotalValue}" MinWidth="150" FieldName="TotalValue" FilterPopupMode="CheckedList" Width="150" ReadOnly="True">
                <dxg:GridColumn.EditSettings>
                    <dxe:TextEditSettings DisplayFormat="N"/>
                </dxg:GridColumn.EditSettings>
            </dxg:GridColumn>
            <dxg:GridColumn Header="{DynamicResource ReOrderCurrency}" FieldName="Currency.Name" MinWidth="100" Width="100" FilterPopupMode="CheckedList" ReadOnly="True">
                <dxg:GridColumn.CellTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Height="24">
                            <Image Source="{Binding RowData.Row.Currency.Name, Converter={StaticResource CurrencyToImageConverter},UpdateSourceTrigger=PropertyChanged ,ConverterParameter='image/png'}"                   
                         VerticalAlignment="Center" Height="24" Width="24" Margin="2,0,0,0" />
                            <TextBlock Text ="{Binding RowData.Row.Currency.Name,UpdateSourceTrigger=PropertyChanged}"  VerticalAlignment="Center" Margin="5,0,0,0" ></TextBlock>
                        </StackPanel>
                    </DataTemplate>
                </dxg:GridColumn.CellTemplate>
            </dxg:GridColumn>
            <dxg:GridColumn Header="{DynamicResource ReOrderGraphic}" Width="100" FilterPopupMode="CheckedList" AllowAutoFilter="False" AllowColumnFiltering="False" ReadOnly="True">
                <dxg:GridColumn.CellTemplate>
                    <DataTemplate>
                        <Button x:Name="btnViewFile" ToolTip="View Document"                                                    
                                Command="{Binding DataContext.OpenGraphCommand,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}"                                                   
                                CommandParameter="{Binding RowData.Row}">
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <Image Height="20" Width="20" Style="{DynamicResource GraphImageStyle}" />
                                </DataTemplate>
                            </Button.ContentTemplate>
                            <Button.Style>
                                <Style TargetType="{x:Type Button}">
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Cursor" Value="Hand"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                    </DataTemplate>
                </dxg:GridColumn.CellTemplate>
            </dxg:GridColumn>
            <dxg:GridColumn Header="{DynamicResource ReOrderPO}" FieldName="PO" MinWidth="100" Width="*"  ReadOnly="True" FilterPopupMode="CheckedList" >
                <dxg:GridColumn.CellToolTipBinding>
                    <Binding Path="PO" />
                </dxg:GridColumn.CellToolTipBinding>
                <dxg:GridColumn.CellTemplate>
                    <DataTemplate>
                        <ItemsControl x:Name="PART_GridControl" ItemsSource="{Binding RowData.Row.PoList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Width="auto"              
                                      Height="auto" MaxHeight="300" HorizontalAlignment="Stretch" >
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock>
                                        <Hyperlink x:Name="hyperlink_Code" Command="{Binding DataContext.OpenPOCommand,RelativeSource={RelativeSource AncestorType=dxg:GridControl}}" CommandParameter="{Binding }" TextDecorations="Underline">
                                            <Run Text="{Binding Code, UpdateSourceTrigger=PropertyChanged}" />   
                                        </Hyperlink>
                                    </TextBlock>
                                    <DataTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="hyperlink_Code" Property="Foreground" Value="OrangeRed" />
                                        </Trigger>
                                    </DataTemplate.Triggers>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </DataTemplate>
                </dxg:GridColumn.CellTemplate>
            </dxg:GridColumn>   
            <dxg:GridControl.TotalSummary>
                <dxg:GridSummaryItem x:Name="summary" FieldName="Name" SummaryType="Count" DisplayFormat="Total Count: {0}" Visible="True" Alignment="Left"/>
            </dxg:GridControl.TotalSummary>

            <dxmvvm:Interaction.Behaviors>
                <UIHelper:GridSelectingBehavior />
            </dxmvvm:Interaction.Behaviors>

            <dxg:GridControl.View>
                <dxg:TableView x:Name="ReOrderTableView"
                               NavigationStyle="Row"    
                               RowDetailsVisibilityMode="Visible"
                               ShowHorizontalLines="True"
                               ShowSearchPanelMode="Always"
                               ShowColumnHeaders="True"
                               VerticalScrollbarVisibility="Visible"
                               HorizontalScrollbarVisibility="Visible"
                               AllowFixedColumnMenu="False"
                               ShowFixedTotalSummary="True"
                               SearchPanelHorizontalAlignment="Stretch"
                               AllowColumnFiltering="True"
                               AllowGrouping="True"                               
                               ShowGroupPanel="False"
                               ShowIndicator="False"
                               AutoWidth="False"                      
                               ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                               FilterEditorShowOperandTypeIcon="True">

                    <dxmvvm:Interaction.Behaviors>
                        <dxmvvm:EventToCommand Command="{Binding TableViewLoadedCommand}" EventName="Loaded" PassEventArgsToCommand="True" />
                        <dxmvvm:EventToCommand Command="{Binding DataContext.EditDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxg:GridControl}}"                                                                
                                               EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=tableView}">
                            <dxmvvm:EventToCommand.EventArgsConverter>
                                <dx:EventArgsToDataRowConverter />
                            </dxmvvm:EventToCommand.EventArgsConverter>
                        </dxmvvm:EventToCommand>
                        <!--[GEOS2-8112][rdixit][05.08.2025]-->
                        <dxmvvm:EventToCommand EventName="ShowFilterPopup" Command="{Binding DataContext.CustomShowFilterPopupCommand,RelativeSource={RelativeSource AncestorType=dxg:GridControl}}" PassEventArgsToCommand="True"/>
                    </dxmvvm:Interaction.Behaviors>
                    <dxg:TableView.Resources>
                        <DataTemplate x:Key="ReOrderPrintHeaderTemplate">
                            <Grid Width="{Binding UsablePageWidth}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="50" />
                                    <ColumnDefinition Width="130" />
                                </Grid.ColumnDefinitions>
                                <dxe:TextEdit Text=" " Width="{Binding UsablePageWidth}" Grid.ColumnSpan="3" IsPrintingMode="True" Background="#333E5E" HorizontalAlignment="Stretch" 
                                                     VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold" Height="50" />
                                <dxe:TextEdit Text="Preorder Report" IsPrintingMode="True" HorizontalAlignment="Stretch" 
                                                     VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold" />
                                <Image Source="/Emdep.Geos.Modules.Warehouse;component/Assets/Images/GeosReportLogo.png" Height="50" Width="80"  dxp:ExportSettings.TargetType="Image" Grid.Column="2" />
                            </Grid>
                        </DataTemplate>

                        <DataTemplate x:Key="ReOrderPrintFooterTemplate">
                            <dxe:TextEdit HorizontalContentAlignment="Center" 
                                           Width="{Binding Path=UsablePageWidth, Mode=OneWay}" 
                                           dxp:ExportSettings.TargetType="PageNumber" 
                                           dxp:PageNumberExportSettings.Kind="NumberOfTotal" 
                                           dxp:PageNumberExportSettings.Format="Page {0} of {1}"/>
                        </DataTemplate>

                    </dxg:TableView.Resources>
                </dxg:TableView>
            </dxg:GridControl.View>
        </dxg:GridControl>

    </Grid>
</UserControl>
