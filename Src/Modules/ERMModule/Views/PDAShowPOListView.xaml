<Window x:Class="Emdep.Geos.Modules.ERM.Views.PDAShowPOListView"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"             
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:dxga="http://schemas.devexpress.com/winfx/2008/xaml/gauges"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" 
             xmlns:dxp="http://schemas.devexpress.com/winfx/2008/xaml/printing"
             xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
             xmlns:ViewModels="clr-namespace:Emdep.Geos.Modules.ERM.ViewModels"
             xmlns:dxc="http://schemas.devexpress.com/winfx/2008/xaml/charts" 
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
             xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
             xmlns:dxsch="http://schemas.devexpress.com/winfx/2008/xaml/scheduler"
             xmlns:Scheduler="clr-namespace:DevExpress.Xpf.Scheduler.UI;assembly=DevExpress.Xpf.Scheduler.v19.2"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:dxschcore="clr-namespace:DevExpress.XtraScheduler;assembly=DevExpress.XtraScheduler.v19.2.Core"
             xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
             xmlns:Interactive="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:Behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:dxci="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
             xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
             xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
             xmlns:dxschint="http://schemas.devexpress.com/winfx/2008/xaml/scheduler/internal"
             xmlns:dxscht="http://schemas.devexpress.com/winfx/2008/xaml/scheduler/themekeys"
             xmlns:ERMApplication="clr-namespace:Emdep.Geos.Modules.ERM.CommonClasses"
             xmlns:Serialization="clr-namespace:DevExpress.Xpf.LayoutControl.Serialization;assembly=DevExpress.Xpf.LayoutControl.v19.2"
             xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
             xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
             xmlns:gif="http://wpfanimatedgif.codeplex.com"
            xmlns:local="clr-namespace:Emdep.Geos.Modules.ERM.Views"
             mc:Ignorable="d"  WindowState="Maximized"
              >
  
    <Window.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding CloseButtonCommand}"/>
    </Window.InputBindings>


    <Window.Resources>
        <DataTemplate x:Key="SummaryTemplate">
            <ContentControl>
                <dxg:GridSummaryItem FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}"
                                     SummaryType="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).Type, RelativeSource={RelativeSource Self}}"
                                     DisplayFormat="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).DisplayFormat, RelativeSource={RelativeSource Self}}" 
                                    
                                     />
            </ContentControl>
        </DataTemplate>




    </Window.Resources>

    <Grid>
        <dxlc:LayoutGroup  dxlc:LayoutControl.AllowHorizontalSizing="True" 
                                   View="GroupBox"        Header="{DynamicResource PoList}" 
                                  IsCollapsible="True" IsCollapsed="False"  Margin="5,0,5,5"  >

            <dxlc:LayoutGroup.HeaderTemplate>
                <DataTemplate>
                    <Grid ShowGridLines="True">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />

                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>

                        </Grid.RowDefinitions>
                        <TextBlock Text="{Binding}" Grid.Column="0" HorizontalAlignment="Left" VerticalAlignment="Stretch" />
                    </Grid>
                </DataTemplate>
            </dxlc:LayoutGroup.HeaderTemplate>
            <dxlc:LayoutGroup.GroupBoxStyle>
                <Style TargetType="dxlc:GroupBox">
                    <Setter Property="BorderThickness" Value="2" />

                </Style>
            </dxlc:LayoutGroup.GroupBoxStyle>

            <Grid ShowGridLines="False" >
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <dxg:GridControl x:Name="dxgGridControl1"  Grid.Row="0" ScrollViewer.HorizontalScrollBarVisibility="Visible" Width="auto" 
                         ItemsSource="{Binding DataContext.PlantDeliveryAnalysisList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=Window}}" SelectionMode="None" 
                          TotalSummaryGeneratorTemplate="{StaticResource SummaryTemplate}" CustomSummary="CustomSummaryCommandAction" 
                         ImplyNullLikeEmptyStringWhenFiltering="True" AllowLiveDataShaping="True" LayoutUpdated="GridControl_LayoutUpdated"
                         Visibility="{Binding IsGridViewVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                >

                    <dxg:GridColumn Header="{DynamicResource OEMlbl}" FieldName="OEM" FilterPopupMode="CheckedList" MinWidth="150" FixedWidth="True" ReadOnly="True" HorizontalHeaderContentAlignment="Left" />

                    <dxg:GridColumn Header="{DynamicResource ProjectLbl}" FieldName="Project" FilterPopupMode="CheckedList" MinWidth="150" FixedWidth="True" ReadOnly="True" HorizontalHeaderContentAlignment="Left" />
                    <dxg:GridColumn Header="{DynamicResource CodeLbl}" FieldName="Code" Width="150" FixedWidth="True" ColumnFilterMode="DisplayText" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" />
                    <dxg:GridColumn Header="{DynamicResource POLbl}" FieldName="PO" MinWidth="257" FixedWidth="True" ColumnFilterMode="DisplayText" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" />

                    <dxg:GridColumn Header="{DynamicResource PODateLbl}" FieldName="PODate" MinWidth="120" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" >
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.PODate,StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center">

                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>


                    <dxg:GridColumn Header="{DynamicResource SerialNumberLbl}" FieldName="SerialNumber" MinWidth="150" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" >
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.SerialNumber,StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center">
                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>



                    <dxg:GridColumn Header="{DynamicResource DeliveryDateLbl}" FieldName="DeliveryDate" MinWidth="150" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" >
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.DeliveryDate,StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center">
                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>



                    <dxg:GridColumn Header="{DynamicResource GoAheadDateLbl}" FieldName="GoAheadDate" MinWidth="150" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" >
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.GoAheadDate,StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center">

                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>

                   
                    <dxg:GridColumn Header="{DynamicResource SampleDateLbl}" FieldName="SamplesDate" MinWidth="150" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left">
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.SamplesDate,StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center">

                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                      
                    </dxg:GridColumn>
                    <dxg:GridColumn Header="{DynamicResource ShippingDateLbl}" FieldName="ShippingDate" MinWidth="120" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" >
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.ShippingDate,StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center">

                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>

                    <dxg:GridColumn Header="{DynamicResource ShippmentDaysOverDeleveryDateLbl}" FieldName="ShippmentDaysOverDeliveryDate" MinWidth="150" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" >
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.ShippmentDaysOverDeliveryDate,StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center">
                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>


                    <dxg:GridColumn Header="{DynamicResource DaysSamplestoSpimentLbl}" FieldName="DaysSamplestoShippment" MinWidth="150" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" >
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.DaysSamplestoShippment}" HorizontalAlignment="Left" VerticalAlignment="Center">

                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>
                   
                    <dxg:GridColumn Header="{DynamicResource DaysPOToShipmentLbl}" FieldName="DaystoShippment" MinWidth="150" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left" >
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.DaystoShippment}" HorizontalAlignment="Left" VerticalAlignment="Center">

                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>

                    <dxg:GridColumn Header="{DynamicResource AmountLbl}" FieldName="Amount" MinWidth="280" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" HorizontalHeaderContentAlignment="Left"  Visible="{Binding IsViewSupervisorERM, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" >
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding RowData.Row.Amount, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center">

                                </TextBlock>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>

                    <dxmvvm:Interaction.Behaviors>
                        <UIHelper:GridSelectingBehavior />

                    </dxmvvm:Interaction.Behaviors>

                    <dxg:GridControl.TotalSummary>
                        <dxg:GridSummaryItem x:Name="summary" FieldName="OEM"  SummaryType="Count"  DisplayFormat="Total: {0}" Visible="True" />

                        <dxg:GridSummaryItem x:Name="Amount" FieldName="Amounts" SummaryType="Custom" ShowInColumn="Amount" DisplayFormat=" {0}" Visible="True"/>

                        <dxg:GridSummaryItem x:Name="summary2" FieldName="DaysSamplestoShippment" ShowInColumn="DaysSamplestoShippment" SummaryType="Sum" DisplayFormat=" {0}" Visible="True">

                        </dxg:GridSummaryItem>

                        <dxg:GridSummaryItem x:Name="summary3" FieldName="DaystoShippment" ShowInColumn="DaystoShippment" SummaryType="Sum" DisplayFormat=" {0}" Visible="True" />

                    </dxg:GridControl.TotalSummary>

                    <dxg:GridControl.View>
                        <dxg:TableView x:Name="PlantDeliveryAnalysisTableView"
                                NavigationStyle="Row"
                                      
                                RowDetailsVisibilityMode="Visible"
                                ShowHorizontalLines="True"
                                ShowSearchPanelMode="Always"
                                ShowColumnHeaders="True"
                                VerticalScrollbarVisibility="Auto" 
                                HorizontalScrollbarVisibility="Auto"
                                AllowFixedColumnMenu="False"
                                ShowFixedTotalSummary="False" 
                                ShowTotalSummary="True"
                                SearchPanelHorizontalAlignment="Stretch"
                                IsColumnMenuEnabled="False"
                                AllowGrouping="False"
                                SummariesIgnoreNullValues="True"
                                SummaryCalculationMode="AllRows"
                                AllowColumnFiltering="True"
                                ShowGroupPanel="False"
                                AllowConditionalFormattingManager="False"
                                AllowConditionalFormattingMenu="False"
                                AllowFilterEditor="false"
                                AllowPerPixelScrolling="True"
                                ImmediateUpdateRowPosition="True" 
                                BestFitArea="TotalSummary"
                                ShowIndicator="False"
                                AutoWidth="False"
                                GroupSummaryDisplayMode="AlignByColumns" 
                                FilterEditorDialogServiceTemplate="{x:Null}">
  
                        </dxg:TableView>

                    </dxg:GridControl.View>

                </dxg:GridControl>
            </Grid>



        </dxlc:LayoutGroup>
    </Grid>
</Window>
