<UserControl x:Class="Emdep.Geos.Modules.ERM.Views.ProductionTimelineView"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
        xmlns:Converters="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
       xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
        xmlns:dxp="http://schemas.devexpress.com/winfx/2008/xaml/printing"
        xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
        xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
       xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys"
        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
        xmlns:dxci="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
        xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
        xmlns:dxa="http://schemas.devexpress.com/winfx/2008/xaml/accordion"
        xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
        xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
          xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
             xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
         xmlns:ERMApplication="clr-namespace:Emdep.Geos.Modules.ERM.CommonClasses" 
         xmlns:ERMApplication2="clr-namespace:Emdep.Geos.Modules.ERM.ViewModels"
        xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
        xmlns:local="clr-namespace:Emdep.Geos.Modules.ERM.Views"
        xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
       xmlns:scm="clr-namespace:System.ComponentModel;assembly=WindowsBase"
       xmlns:gif="http://wpfanimatedgif.codeplex.com"
      xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity" 
      xmlns:Interactive="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
      xmlns:Behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
       xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
        xmlns:dxga="http://schemas.devexpress.com/winfx/2008/xaml/gauges"
        mc:Ignorable="d"
         Height="{Binding SystemParameters.PrimaryScreenHeight}" 
       Width="{Binding SystemParameters.PrimaryScreenWidth}"
        Style="{DynamicResource UserControlStyle}" >
    <UserControl.Resources>

        <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <Style x:Key="ImageStyle" TargetType="Image">
            <Style.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="2" />
                        <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/bFilter_24x24.png" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="2" />
                        <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/wFilter_24x24.png" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="1" />
                        <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/bwFilter.png" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="1" />
                        <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/bwFilter.png" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="3" />
                        <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/wSFilter.png" />
                </MultiDataTrigger>

                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="3" />
                        <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/bSFilter.png" />
                </MultiDataTrigger>
            </Style.Triggers>
        </Style>
        <!--start [GEOS2-5238][gulab lakade][29 01 2024]-->
        <Style x:Key="HideButtonStyleLeft" TargetType="{x:Type ToggleButton}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Border BorderThickness="0" Background="{TemplateBinding Background}">
                            <Grid>
                                <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                   Source="/Emdep.Geos.Modules.PCM;component/Assets/Images/ArrowRight.png"
                                   Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter Inverse=True}}"/>
                                <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                   Source="/Emdep.Geos.Modules.PCM;component/Assets/Images/ArrowLeft.png"
                                   Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter}}"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!--end [GEOS2-5238][gulab lakade][29 01 2024]-->
        <DataTemplate x:Key="StringColunmTemplate">
            <ContentControl>
                <dxg:GridColumn Header="{Binding HeaderText,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                FieldName="{Binding ColumnFieldName,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                HorizontalHeaderContentAlignment="Left"
                                Width="{Binding Width}"
                                MinWidth="70"
                                AllowSearchPanel="True"
                                  FilterPopupMode="Default"
                               
                                  AllowMoving="True" 
                                Visible="{Binding Visible,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" ReadOnly="True" FixedWidth="False" >
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings HorizontalContentAlignment="Left"/>
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>


        <DataTemplate x:Key="DateColumnTemplate">
            <ContentControl>
                <dxg:GridColumn FieldName="{Binding ColumnFieldName,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                Header="{Binding HeaderText,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                 Width="{Binding  Width}"
                                Visible="{Binding Visible,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                               AllowCellMerge="True"
                               FixedWidth="False"
                                  AllowMoving="True" 
                                HorizontalHeaderContentAlignment="Left"
                                  FilterPopupMode="Default"
                               
                                MinWidth="70"  
                                >
                    <!--AllowCellMerge="False"-->
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>

                            <Border  Background="{Binding Data.DateHTMLColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <dxe:TextEdit  Name="PART_Editor" Margin="0 0 0 0" MaskType="DateTime"   MaskShowPlaceHolders="False" ValidateOnTextInput="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  ShowBorder="False"
                                                                                          Mask="d"  MaskUseAsDisplayFormat="True"  >
                                </dxe:TextEdit>
                            </Border>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                    <dxg:GridColumn.EditSettings>
                        <dxe:DateEditSettings  MaskType="DateTime" Mask="d" MaskUseAsDisplayFormat="True" ></dxe:DateEditSettings>
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>
        <DataTemplate x:Key="BreakTimeColumnTemplate">
            <ContentControl>
                <!--Converter={UIConverter:TimetrackingTimespan},-->
                <dxg:GridColumn FieldName="{Binding ColumnFieldName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                Header="{Binding HeaderText,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                Width="{Binding  Width}"
                                Visible="{Binding Visible,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                AllowBestFit="true" 
                                AllowCellMerge="True"
                                AllowMoving="true"
                             
                             FixedWidth="False"
                                HorizontalHeaderContentAlignment="Left" 
                                IsSmart="True"
                               
                                MinWidth="50"
                                FilterPopupMode="Default">
                    <!--AllowCellMerge="False"-->
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>


                            <dxe:TextEdit Name="PART_Editor" Mask="hh:mm:ss" MaskType="TimeSpan" MaskUseAsDisplayFormat="True"  MaskShowPlaceHolders="False" ValidateOnTextInput="True" HorizontalAlignment="Right" ShowBorder="False"
                                  >
                            </dxe:TextEdit>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings HorizontalContentAlignment="Right"/>
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="ManagementBreakColumnTemplate">
            <ContentControl>
                <!--Converter={UIConverter:TimetrackingTimespan},-->
                <dxg:GridColumn FieldName="{Binding ColumnFieldName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                Header="{Binding HeaderText,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                Width="{Binding  Width}"
                                Visible="{Binding Visible,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                AllowBestFit="true" 
                                AllowCellMerge="True"
                                AllowMoving="true"
                             
                             FixedWidth="False"
                                HorizontalHeaderContentAlignment="Left" 
                                IsSmart="True"
                               
                                MinWidth="50"
                                FilterPopupMode="Default">
                    <!--AllowCellMerge="False"-->
                    <dxg:GridColumn.CellTemplate>
                        <DataTemplate>


                            <dxe:TextEdit Name="PART_Editor" Mask="hh:mm:ss" MaskType="TimeSpan" MaskUseAsDisplayFormat="True"  MaskShowPlaceHolders="False" ValidateOnTextInput="True" HorizontalAlignment="Right" ShowBorder="False"
                                  >
                            </dxe:TextEdit>
                        </DataTemplate>
                    </dxg:GridColumn.CellTemplate>
                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings HorizontalContentAlignment="Right"/>
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>


        <DataTemplate x:Key="DetailsTemplate">
            <ContentControl>
                <dxg:GridColumn Header="{Binding HeaderText,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                         FieldName="{Binding ColumnFieldName,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                         HorizontalHeaderContentAlignment="Left"
                         Width="{Binding Width}"
                         MinWidth="70"
                         AllowSearchPanel="True"
                           FilterPopupMode="Default"
                        
                           AllowMoving="True" 
                         Visible="{Binding Visible,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" ReadOnly="True" FixedWidth="False" >

                    <dxg:GridColumn.EditSettings>
                        <dxe:TextEditSettings HorizontalContentAlignment="Left"/>
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>
            </ContentControl>
        </DataTemplate>



        <DataTemplate x:Key="SummaryTemplate">
            <ContentControl >
                <dxg:GridSummaryItem FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}"
                                     SummaryType="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).Type, RelativeSource={RelativeSource Self}}"
                                     DisplayFormat="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).DisplayFormat, RelativeSource={RelativeSource Self}}" 
                                    
                                     />
            </ContentControl>
        </DataTemplate>

        <UIHelper:ProductionTimeLineHelper x:Key="newColumnTemplateSelector" 
                                                  StringTemplate="{StaticResource StringColunmTemplate}"
                                            DateTemplate="{StaticResource DateColumnTemplate}"
                                           ManagementBreakTemplate ="{StaticResource ManagementBreakColumnTemplate}"
                                             BreakTimeTemplate="{StaticResource BreakTimeColumnTemplate}"
                                           Details="{StaticResource DetailsTemplate}"
                                                     />
        <DataTemplate x:Key="BandTemplate">
            <ContentControl>
                <dxg:GridControlBand UIHelper:NameBinder.Name="{Binding BandName,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  Header="{Binding BandHeader,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                    HorizontalHeaderContentAlignment="Center" Visible="True"
                                                    ColumnsSource="{Binding Columns,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                     AllowMoving="{Binding AllowMoving,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                    Fixed="{Binding FixedStyle,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                   
                                     ColumnGeneratorTemplateSelector="{StaticResource newColumnTemplateSelector}" OverlayHeaderByChildren="False"/>

            </ContentControl>
        </DataTemplate>
    </UserControl.Resources>
    <Grid Background="{DynamicResource AppointmentHeaderBackground}" >
        <DockPanel LastChildFill="True">
            <Grid DockPanel.Dock="Top" Margin="0,10,0,10" ShowGridLines="False">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="5" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="5" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="5" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Label Content="{DynamicResource ProductionTimeline}" Style="{StaticResource LabelTitleStyle}" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>

                <Image gif:ImageBehavior.RepeatBehavior="Forever" gif:ImageBehavior.AnimatedSource="/Emdep.Geos.Modules.ERM;component/Assets/Images/animatedWarning.gif" Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsShowFailedPlantWarning,Mode=TwoWay,Converter={StaticResource BoolToVis}}" Grid.Row="0" Grid.Column="2"  HorizontalAlignment="Left" VerticalAlignment="Center"  Height="30" Width="30">
                    <Image.ToolTip>
                        <TextBlock Text="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=WarningFailedPlants}"/>

                    </Image.ToolTip>
                </Image>
                <Grid Grid.Row="0" Grid.Column="6" HorizontalAlignment="Right">
                    <Grid HorizontalAlignment="Right" Width="Auto" Height="45">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="45"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!--Add Button-->

                        <!-- Plant -->

                        <DockPanel Grid.Column="1" Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,0,5,5">
                            <Image  Style="{DynamicResource WarehouseImageStyle}" Width="24" Height="24" Margin="0,0,3,5"></Image>
                            <TextBlock  Margin="3,0,7,0" Text="{DynamicResource GridColPlant}"
                               HorizontalAlignment="Left" VerticalAlignment="Center" Style="{StaticResource TextBlock14Style}"/>
                        </DockPanel>
                        <dxe:ComboBoxEdit Grid.Row="0" Grid.Column="2"   Margin="0,0,5,5"
                                      Width="120" Name="CbePlant" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                                      ScrollViewer.VerticalScrollBarVisibility="Auto"  TextTrimming="CharacterEllipsis" 
                                      TextWrapping="Wrap"  Style="{DynamicResource ComboBoxEditStyle}" 
                                      IsTextEditable="False"  DisplayMember="Name" 
                                         ItemsSource ="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=UserAuthorizedPlantsList ,UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}"
                                   SelectedItem="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=SelectedPlant,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                       >
                            <!--EditValue="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=SelectedAuthorizedPlantsList,UpdateSourceTrigger=PropertyChanged}"-->
                            <!--<dxe:ComboBoxEdit.StyleSettings>
                                <dxe:CheckedComboBoxStyleSettings />
                            </dxe:ComboBoxEdit.StyleSettings>-->
                            <dxmvvm:Interaction.Triggers>
                                <dxmvvm:EventToCommand 
                                                            EventName="SelectedIndexChanged" Command="{Binding DataContext.ChangePlantCommand,RelativeSource={RelativeSource AncestorType=UserControl}}"  PassEventArgsToCommand="True"/>
                            </dxmvvm:Interaction.Triggers>

                        </dxe:ComboBoxEdit>

                        <!--Period-->
                        <DockPanel Grid.Column="5" Grid.Row="0" HorizontalAlignment="Right"   VerticalAlignment="Center" Margin="0,0,0,0" >
                            <TextBlock Text="{DynamicResource Period}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-10,10,0"/>
                            <TextBlock Text="{Binding FromDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-10,5,0"/>
                            <TextBlock Text=" - " HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold" Margin="0,-10,5,0"/>
                            <TextBlock Text="{Binding ToDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-10,25,0"/>
                        </DockPanel>
                        <!--Calender Icon-->
                        <dxwui:AppBar x:Name="Appbar" HideMode="AlwaysVisible" Background="Transparent" Grid.Column="4"
                                  IsSticky="True" HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  IsOpen="True" IsExitButtonEnabled="False" Margin="10,-18,5,0">

                            <dxwui:AppBarButton x:Name="appbarbutton" ToolTip="{DynamicResource PeriodSelect}"
                                        GlyphHeight="24" GlyphWidth="24"
                                        Style="{DynamicResource ERMCalendarImageGlyphStyle}"
                                        GlyphStretch="Fill" IsEllipseEnabled="False" >
                                <dxwui:AppBarButton.Flyout>
                                    <dxwui:MenuFlyout ShowIndicator="True" x:Name="MenuLayout">
                                        <dxwui:MenuFlyoutItem StaysOpenOnClick="True">
                                            <Grid Width="Auto" Height="Auto">
                                                <DockPanel>
                                                    <StackPanel Orientation="Vertical" x:Name="PeriodCategories">
                                                        <!--This Year-->
                                                        <!--<Button x:Name="ThisYear" Content="This Year" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="110" IsEnabled="False"
                                                            Command="{Binding PeriodCommand}"
                                                        CommandParameter="{Binding ElementName=ThisYear}">
                                                        </Button>-->

                                                        <!--Last Year-->
                                                        <Button x:Name="LastYear" Content="Last Year" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastYear}">
                                                        </Button>

                                                        <!--This Month-->
                                                        <Button x:Name="ThisMonth" Content="{DynamicResource SAMThisMonth}" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=ThisMonth}">
                                                        </Button>

                                                        <!--Last one month-->
                                                        <Button x:Name="LastOneMonth" Content="{DynamicResource SAMLastOneMonth}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastOneMonth}">
                                                        </Button>

                                                        <!--Last month-->
                                                        <Button x:Name="LastMonth" Content="{DynamicResource SAMLastMonth}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastMonth}">
                                                        </Button>

                                                        <!--This week-->
                                                        <Button x:Name="ThisWeek" Content="{DynamicResource SAMThisWeek}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=ThisWeek}">
                                                        </Button>

                                                        <!--Last one week-->
                                                        <Button x:Name="LastOneWeek" Content="{DynamicResource SAMLastOneWeek}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastOneWeek}">
                                                        </Button>

                                                        <!--Last week-->
                                                        <Button x:Name="LastWeek" Content="{DynamicResource SAMLastWeek}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastWeek}">
                                                        </Button>
                                                        <!--Last 12 month-->
                                                        <Button x:Name="Last12Months" Content="Last 12 Months" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=Last12Months}">
                                                        </Button>
                                                        <!--Custom Range-->
                                                        <Button x:Name="CustomRange" Content="{DynamicResource PeriodCustomRange}" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCustomRangeCommand}"
                                                            CommandParameter="{Binding ElementName=CustomRange}">
                                                        </Button>
                                                        <StackPanel Orientation="Horizontal" Margin="0,50,0,0">
                                                            <Button Content="{DynamicResource SAMApply}" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="60" Background="Yellow" 
                                                            Command="{Binding ApplyCommand}" CommandParameter="{Binding ElementName=MenuLayout}">
                                                            </Button>
                                                            <Button Content="{DynamicResource SAMCancel}" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="60" 
                                                            Command="{Binding CancelCommand}" CommandParameter="{Binding ElementName=MenuLayout}">
                                                            </Button>
                                                        </StackPanel>
                                                    </StackPanel>

                                                    <StackPanel Visibility="{Binding DataContext.IsCalendarVisible, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Orientation="Horizontal">
                                                        <StackPanel Orientation="Vertical">
                                                            <dxe:TextEdit Text="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=StartDate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                  Height="30" TextWrapping="Wrap" Mask="dd/MM/yyyy"  
                                                  MaskType="DateTimeAdvancingCaret"  
                                                  MaskUseAsDisplayFormat="True"
                                                  HorizontalAlignment="Stretch" IsReadOnly="True"  Margin="2,2,2,2">
                                                            </dxe:TextEdit>
                                                            <!--Calendar-->
                                                            <dxe:DateEditCalendar DateTime="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=StartDate,  UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                                      VerticalAlignment="Center"
                                                                      ShowToday="False"
                                                                      ShowClearButton="False"/>
                                                        </StackPanel>
                                                        <StackPanel Orientation="Vertical">
                                                            <dxe:TextEdit Text="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=EndDate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                  Height="30" TextWrapping="Wrap" Mask="dd/MM/yyyy"  
                                                  MaskType="DateTimeAdvancingCaret"  
                                                  MaskUseAsDisplayFormat="True"
                                                  HorizontalAlignment="Stretch" IsReadOnly="True"  Margin="2,2,2,2">
                                                            </dxe:TextEdit>
                                                            <!--Calendar-->
                                                            <dxe:DateEditCalendar DateTime="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=EndDate,  UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                                      VerticalAlignment="Center"
                                                                      ShowToday="False"
                                                                      ShowClearButton="False"/>
                                                        </StackPanel>
                                                    </StackPanel>
                                                </DockPanel>
                                            </Grid>
                                        </dxwui:MenuFlyoutItem>
                                    </dxwui:MenuFlyout>
                                </dxwui:AppBarButton.Flyout>
                            </dxwui:AppBarButton>
                        </dxwui:AppBar>


                        <!-- Refresh Button -->
                        <Button Content=" " Grid.Row="0" Grid.Column="7" Height="40" Width="40" HorizontalAlignment="Right"
                             Command="{Binding RefreshProductionTimelineCommand}"   Margin="0,0,5,5">
                            <!--CommandParameter="{Binding ElementName=PlanningDateReviewTableView}"-->
                            <Button.ToolTip>
                                <TextBlock Text="{DynamicResource ButtonRefresh}"/>
                            </Button.ToolTip>
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <Image Style="{ DynamicResource PCMRefreshButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </Button>

                        <!--Print Button-->
                        <Button Content=" " Grid.Row="0" Grid.Column="8" Height="40" Width="40" HorizontalAlignment="Right"
                            Command="{Binding PrintProductionTimelineCommand}" CommandParameter="{Binding ElementName=tableView}"  Margin="0,0,5,5">
                            <!--CommandParameter="{Binding ElementName=WorkStagesTableView}"-->
                            <Button.ToolTip>
                                <TextBlock Text="{DynamicResource ButtonPrint}"/>
                            </Button.ToolTip>
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <Image Style="{DynamicResource PCMPrintButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </Button>

                        <!-- Export to Excel -->
                        <Button Content=" " Grid.Row="0" Grid.Column="9" Height="40" Width="40" HorizontalAlignment="Right"
                             Command="{Binding ExportProductionTimelineCommand}"   Margin="0,0,5,5" 
                                CommandParameter="{Binding ElementName=tableView}">
                            <!--CommandParameter="{Binding ElementName=PlantOperationTableView}"-->
                            <Button.ToolTip>
                                <TextBlock Text="{DynamicResource ButtonExportToExcel}"/>
                            </Button.ToolTip>
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <Image Style="{DynamicResource PCMExportToExcelButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </Button>

                        <dx:DropDownButton x:Name="dropdownButton" Content="Dropdown button" 
                                   HorizontalAlignment="Right" Height="40" Width="40" Grid.Row="0" Grid.Column="10" Margin="0,0,5,5" VerticalAlignment="Center">
                            <dx:DropDownButton.Style>
                                <Style>
                                    <Setter Property="dx:DropDownButtonBase.ArrowAlignment" Value="Right" />
                                    <Setter Property="dx:DropDownButtonBase.ArrowPadding" Value="0" />
                                </Style>
                            </dx:DropDownButton.Style>

                            <Button.ToolTip>
                                <TextBlock Text="{DynamicResource SwitchViewButtonTooltip}"></TextBlock>
                            </Button.ToolTip>

                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Image Style="{ DynamicResource SwitchOrganizationImageStyle}" Grid.Column="0" Height="24" Width="24" Margin="-20" />
                                    </Grid>
                                </DataTemplate>
                            </Button.ContentTemplate>

                            <dxb:PopupMenu>
                                <dxb:BarButtonItem Name="TimelineView" Content="Timeline View" Glyph="{DynamicResource SwitchActivityCalendar}" Command="{Binding ShowTimeLineViewCommand}" CommandParameter="{Binding ElementName=lgCustom}" >
                                    <dxb:BarButtonItem.Style>
                                        <Style>
                                            <Style.Triggers>
                                                <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="True">
                                                    <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityCalendarMouseOver}" />
                                                </Trigger>
                                                <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="False">
                                                    <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityCalendar}" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </dxb:BarButtonItem.Style>
                                </dxb:BarButtonItem>


                                <dxb:BarButtonItem Name="GridView" Content="Grid View" Glyph="{DynamicResource SwitchActivityGridview}" Command="{Binding ShowGridViewCommand}" CommandParameter="{Binding ElementName=tableView}" >
                                    <dxb:BarButtonItem.Style>
                                        <Style>
                                            <Style.Triggers>
                                                <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="True">
                                                    <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityGridviewMouseOver}" />
                                                </Trigger>
                                                <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="False">
                                                    <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityGridview}" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </dxb:BarButtonItem.Style>

                                </dxb:BarButtonItem>
                            </dxb:PopupMenu>
                        </dx:DropDownButton>

                        <dxe:ComboBoxEdit 
                             ItemsSource="{Binding  DataContext.ProductionTimeStagesList,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}"
                            EditValue="{Binding Source={x:Static ERMApplication:ERMCommon.Instance},Mode=TwoWay, Path=SelectedProductionTimeStagesList, UpdateSourceTrigger=PropertyChanged}"
                              Style="{DynamicResource ComboBoxEditStyle}"  DisplayMember="StageCode" Name="filter" Grid.Column="13" Grid.Row="0" Width="50"  VerticalAlignment="Top" HorizontalAlignment="Stretch" Height="40"
                            TextWrapping="Wrap" IsTextEditable="False"
                                >

                            <dxe:ComboBoxEdit.StyleSettings>
                                <dxe:CheckedComboBoxStyleSettings/>
                            </dxe:ComboBoxEdit.StyleSettings>

                            <dxe:ComboBoxEdit.Buttons>
                                <dxe:ButtonInfo IsLeft="True" GlyphKind="Custom" ButtonKind="Simple" IsDefaultButton="True" >
                                    <dxe:ButtonInfo.ToolTip>
                                        <TextBlock Text="{DynamicResource ProductionTimelineFilterToolTip}"></TextBlock>
                                    </dxe:ButtonInfo.ToolTip>
                                    <dxe:ButtonInfo.ContentTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>



                                                <Image Style="{StaticResource ImageStyle}" Grid.Column="0" Height="28" Width="36"/>

                                            </Grid>
                                        </DataTemplate>
                                    </dxe:ButtonInfo.ContentTemplate>
                                </dxe:ButtonInfo>
                            </dxe:ComboBoxEdit.Buttons>
                            <dxmvvm:Interaction.Triggers>
                                <dxmvvm:EventToCommand EventName="EditValueChanged" 
                                           Command="{Binding DataContext.FilterOptionEditValueChangedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}">
                                    <dxmvvm:EventToCommand.CommandParameter>
                                        <Binding ElementName="filter"></Binding>
                                    </dxmvvm:EventToCommand.CommandParameter>

                                </dxmvvm:EventToCommand>
                                <!--<dxmvvm:EventToCommand EventName="Loaded" Command="{Binding DataContext.FilterOptionLoadedCommand, Mode=OneTime, RelativeSource={RelativeSource AncestorType=UserControl}}">
                                    <dxmvvm:EventToCommand.CommandParameter>
                                        <Binding ElementName="filter"></Binding>
                                    </dxmvvm:EventToCommand.CommandParameter>
                                </dxmvvm:EventToCommand>-->
                            </dxmvvm:Interaction.Triggers>
                        </dxe:ComboBoxEdit>

                    </Grid>
                </Grid>

            </Grid>
            <Grid>
                <Grid ShowGridLines="False" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>


                    <!--<dxg:GridControl x:Name="wogrid" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.Row="0" FocusManager.IsFocusScope="True"
                              SelectionMode="Cell"
                            AutoGenerateColumns="AddNew"
                            ItemsSource="{Binding ProductionTimeList,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                             ImplyNullLikeEmptyStringWhenFiltering="True">

                -->
                    <!--
                
                SelectedItem="{Binding SelectedWorkOperationsList,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                             TotalSummarySource="{Binding TotalSummary}"-->
                    <!--

                <dxg:GridControl.View>
                    <dxg:TableView x:Name="WorkOperationsListTableView"
                                   ShowGroupedColumns="True"  
                                   HorizontalScrollbarVisibility="Auto"  
                                   VerticalScrollbarVisibility="Visible" 
                                   ShowIndicator="False"  
                                   ShowColumnHeaders="True"  
                                   ShowGroupPanel="False"  
                                   AllowEditing="True"  
                                   ShowHorizontalLines="True"  
                                   ShowVerticalLines="True"  
                                   ShowSearchPanelMode="Always" 
                                   SearchPanelHorizontalAlignment="Stretch" 
                                   EnableImmediatePosting="True"
                                   ImmediateUpdateRowPosition="False"
                                   FilterRowDelay="500"
                                   AllowColumnMoving="True"
                                   NavigationStyle="Cell"
                                   ShowAutoFilterRow="True"            
                                   ShowFixedTotalSummary="True"
                                   ShowTotalSummary="True"
                                   ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                   ShowFilterPopup="{DXEvent Handler='@args.PopupBaseEdit.PopupWidth=200'}"   
                                   RowDetailsVisibilityMode="Visible"
                                   AllowConditionalFormattingMenu="True"  
                                   UIHelper:ERMWorkOperationViewMultipleCellEditHelper.IsEnabled="True"
                                   IsColumnChooserVisible="{Binding IsColumnChooserVisibleForGrid,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                        
                    </dxg:TableView>
                </dxg:GridControl.View>

            </dxg:GridControl>-->
                    <dxlc:LayoutGroup  Orientation="Horizontal"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Visibility="{Binding IsTimelineViewVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                        <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
                            <Grid  VerticalAlignment="Stretch" ShowGridLines="False">
                                <Grid.ColumnDefinitions>

                                    <ColumnDefinition Width="*" />
                                    <!--<ColumnDefinition Width="13*" />-->
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <dxlc:LayoutGroup Grid.Row="0" Grid.Column="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                    <!--<ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">-->
                                    <StackPanel>
                                        <!--Header="{DynamicResource SCMCustom}"-->
                                        <dxlc:LayoutGroup 
                                                                          Name="lgCustom"
                                                                          View="GroupBox"
                                                                          Margin="0,5,0,5"
                                                                          dxlc:LayoutControl.AllowHorizontalSizing="True"
                                                                          IsCollapsible="False"
                                                                          IsCollapsed="False" 
                                  
                                                                              >


                                            <dxlc:LayoutGroup.HeaderTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto" />
                                                            <ColumnDefinition Width="*" />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Text="{Binding }"
                                                                                   Grid.Column="0"
                                                                                   HorizontalAlignment="Left"
                                                                                   VerticalAlignment="Stretch" />
                                                    </Grid>
                                                </DataTemplate>
                                            </dxlc:LayoutGroup.HeaderTemplate>

                                            <Grid ShowGridLines="False" Name="EMPMainGrid" HorizontalAlignment="Stretch" MinHeight="650" MaxHeight="750"   VerticalAlignment="Stretch" >
                                                <!--HorizontalAlignment="Stretch" VerticalAlignment="Stretch"-->
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition>
                                                        <ColumnDefinition.Style>
                                                            <Style TargetType="ColumnDefinition">
                                                                <Setter Property="Width" Value="170" />
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding DataContext.IsAccordionControlVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="Collapsed">
                                                                        <Setter Property="Width" Value="0" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </ColumnDefinition.Style>
                                                    </ColumnDefinition>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="20" />
                                                    <ColumnDefinition>
                                                        <ColumnDefinition.Style>
                                                            <Style TargetType="ColumnDefinition">
                                                                <Setter Property="Width" Value="170" />
                                                                <Style.Triggers>
                                                                    <!--<DataTrigger Binding="{Binding DataContext.IsLegendVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="Collapsed">-->
                                                                    <DataTrigger Binding="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Value="Collapsed">
                                                                        <Setter Property="Width" Value="0" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </ColumnDefinition.Style>
                                                    </ColumnDefinition>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>

                                                    <RowDefinition Height="50"/>
                                                    <!--<RowDefinition Height="Auto"/>-->
                                                    <!--<RowDefinition Height="605"/>-->
                                                    <RowDefinition Height="605*"/>

                                                </Grid.RowDefinitions>

                                                <dxa:AccordionControl   x:Name="TemplateDetailsView" Grid.Row="0" Grid.Column="0" Grid.RowSpan="2"
                                                                                             SelectionUnit="SubItemOrRootItem"  
                                                                        ShowSearchControl="True" 
                                                    ExpandMode="MultipleOrNone" IsSynchronizedWithCurrentItem="True"
                                                                                            SearchControlFilterCondition="Contains"                                                                                            
                                                                                            ItemsSource="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=ProductionTimelineWeek ,UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}"
                                                                                             SelectedItem="{Binding DataContext.SelectedproductionTimeline,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                                            ChildrenPath="LogDate" Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance} , Path=IsLeftToggleVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                  >
                                                    <!--Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance} , Path=IsLeftToggleVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"-->
                                                    <dxmvvm:Interaction.Triggers>
                                                        <!--<dxmvvm:EventToCommand Command="{Binding DataContext.CommandAccordionControl_Drop, RelativeSource={RelativeSource AncestorType=UserControl}}}" EventName="Drop" PassEventArgsToCommand="True"></dxmvvm:EventToCommand>-->
                                                    </dxmvvm:Interaction.Triggers>
                                                    <!--<dxa:AccordionControl.Resources>
                                                        <Style TargetType="dxa:AccordionItem">
                                                          
                                                            <Style.Triggers>
                                                                --><!-- When item is selected --><!--
                                                                <Trigger Property="IsSelected" Value="True">
                                                                    <Setter Property="Foreground" Value="#2196F3"/>
                                                                </Trigger>

                                                            </Style.Triggers>
                                                        </Style>
                                                    </dxa:AccordionControl.Resources>-->
                                                </dxa:AccordionControl>



                                                <ToggleButton Grid.Row="0" Grid.RowSpan="2" Grid.Column="1"  x:Name="expandButtonLeft" 
               Command="{Binding  DataContext.HidePanelCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}" Style="{StaticResource HideButtonStyleLeft}" IsChecked="True"
                                                      Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance} , Path=IsLeftToggleVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                                                </ToggleButton>

                                                <Grid Name="EMPDropdown" Grid.Row="0" Grid.Column="2" Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance} , Path=IsEmployeeVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="auto" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>

                                                        <RowDefinition Height="Auto"/>

                                                    </Grid.RowDefinitions>

                                                    <TextBlock Grid.Row="0" Grid.Column="0"   Text="Employee:  " FontWeight="Bold"  TextAlignment="Center"
                               HorizontalAlignment="Left"  VerticalAlignment="Center" Style="{StaticResource TextBlock14Style}"/>

                                                    <dxe:ComboBoxEdit Grid.Row="0" Grid.Column="1"   
                                      Width="350" Height="35" Name="CbeEmployeeName" HorizontalAlignment="Left" VerticalAlignment="Stretch" 
                                      ScrollViewer.VerticalScrollBarVisibility="Auto"  TextTrimming="CharacterEllipsis" 
                                      TextWrapping="Wrap"  Style="{DynamicResource ComboBoxEditStyle}" 
                                      IsTextEditable="False"  DisplayMember="EmployeeName" 
                                         ItemsSource ="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=ERM_EmployeeDetailsList ,UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}"
                                   EditValue="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=SelectedEmployee,UpdateSourceTrigger=PropertyChanged}"
                                       >
                                                        <!--EditValue="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=SelectedAuthorizedPlantsList,UpdateSourceTrigger=PropertyChanged}"-->
                                                        <dxe:ComboBoxEdit.StyleSettings>
                                                            <dxe:CheckedComboBoxStyleSettings />
                                                        </dxe:ComboBoxEdit.StyleSettings>
                                                        <dxmvvm:Interaction.Triggers>
                                                            <dxmvvm:EventToCommand 
                                                            EventName="PopupClosed" Command="{Binding DataContext.ChangeEmployeeCommand,RelativeSource={RelativeSource AncestorType=UserControl}}"  PassEventArgsToCommand="True"/>
                                                            <!--EventName="SelectedIndexChanged" Command="{Binding DataContext.ChangeEmployeeCommand,RelativeSource={RelativeSource AncestorType=UserControl}}"  PassEventArgsToCommand="True"/>-->
                                                        </dxmvvm:Interaction.Triggers>

                                                    </dxe:ComboBoxEdit>
                                                </Grid>
                                                <ScrollViewer HorizontalScrollBarVisibility="Auto"  VerticalScrollBarVisibility="Auto"  Grid.Column="2" Grid.Row="1">
                                                    <StackPanel  Visibility="{Binding IsTimelineViewVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                                                        <Grid Name="Grid1"  Grid.Column="2" Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Auto" >
                                                            <!--HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  ScrollViewer.VerticalScrollBarVisibility="Auto"-->
                                                        </Grid>

                                                    </StackPanel>

                                                </ScrollViewer>





                                                <!--Start Legend-->
                                                <ToggleButton Grid.Row="0" Grid.RowSpan="2" Grid.Column="3"  x:Name="expandButtonRight" 
                                 Command="{Binding  DataContext.HideRightPanelCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}" Style="{StaticResource HideButtonStyleLeft}" IsChecked="True"
                                                      Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance} , Path=IsRightToggleVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">

                                                </ToggleButton>

                                                <Grid Name="Grid111"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  ScrollViewer.VerticalScrollBarVisibility="Visible" Grid.Row="0" Grid.RowSpan="2" Grid.Column="4" ShowGridLines="False"
                                              Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="9"/>
                                                    </Grid.RowDefinitions>

                                                    <StackPanel  HorizontalAlignment="Center" Grid.Row="0"  Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">


                                                        <TextBlock   VerticalAlignment="Center" Grid.Row="0" Margin="0,5,0,0" FontWeight="Bold" HorizontalAlignment="Stretch" TextAlignment="Center" Foreground="{DynamicResource AppointmentHeaderForeground}" Text="{DynamicResource WorkLagend}"  Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"></TextBlock>

                                                        <dxg:GridControl x:Name="working" ShowBorder="False" Margin="0,10,0,0" MinHeight="20" MaxHeight="50"  Width="150"  VerticalAlignment="Stretch"
                                                     ItemsSource="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=ProductionTimeReportWorkingColor,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                     Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                             
                                                                     >
                                                            <dxg:GridColumn  Header="{DynamicResource WorkTypesGridColumnHtmlColor}" FieldName="HtmlColor" FilterPopupMode="CheckedList" Width="30"  ReadOnly="True" FixedWidth="True">
                                                                <dxg:GridColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <DockPanel>
                                                                            <Rectangle Width="15" Height="15" Margin="3,3,6,3" Fill="{Binding RowData.Row.HtmlColor}" />

                                                                        </DockPanel>
                                                                    </DataTemplate>
                                                                </dxg:GridColumn.CellTemplate>
                                                            </dxg:GridColumn>
                                                            <dxg:GridColumn Header="Name" FieldName="Name"  ReadOnly="True" Width="120" >
                                                            </dxg:GridColumn>

                                                            <dxg:GridControl.View>
                                                                <dxg:TableView Name="WorkingTableView"
                                                    ShowColumnHeaders="False"         
                                           NavigationStyle="None"
                                                    ShowGroupedColumns="True"
                                                    RowDetailsVisibilityMode="Visible"
                                                    ShowHorizontalLines="False"
                                                   ShowVerticalLines="False"
                                                    AllowSorting="True"
                                                    AutoWidth="True"
                                                    VerticalScrollbarVisibility="Disabled"
                                                    HorizontalScrollbarVisibility="Disabled"
                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                    AllowGrouping="True"
                                                    ShowGroupPanel="False"
                                                    ShowIndicator="False" 
                                                    AllowColumnFiltering="False"
                                                    AllowDragDrop="False"
                                                    AllowEditing="False"
                                                    AllowColumnMoving="False"
                                                    EnableImmediatePosting="True"
                                                    GroupRowCheckBoxFieldName="IsChecked"  
                                                    EditorShowMode="MouseUp"
                                                    AllowPaging="False"
                                                    ShowFixedTotalSummary="False"
                                                    ShowTotalSummary="False"
                                                    SummariesIgnoreNullValues="True"
                                                    SummaryCalculationMode="AllRows"
                                                    ImmediateUpdateRowPosition="True" 
                                                    AllowConditionalFormattingMenu="True"
                                                           
                                       >

                                                                    <dxg:TableView.Resources>


                                                                    </dxg:TableView.Resources>
                                                                </dxg:TableView>
                                                            </dxg:GridControl.View>
                                                        </dxg:GridControl>

                                                    </StackPanel>


                                                    <StackPanel  HorizontalAlignment="Center" Grid.Row="1"  Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">


                                                        <!--<TextBlock   VerticalAlignment="Center" Grid.Row="1" Margin="0,5,0,0" FontWeight="Bold" HorizontalAlignment="Stretch" TextAlignment="Center" Foreground="{DynamicResource AppointmentHeaderForeground}" Text="{DynamicResource LoggedLagend}"  Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"></TextBlock>-->
                                                        <!--<StackPanel Height="100">
                                                        <ScrollViewer VerticalScrollBarVisibility="Auto">-->


                                                        <dxg:GridControl x:Name="Management" ShowBorder="False" Margin="0,10,0,0" MinHeight="20" MaxHeight="50"  Width="150"  VerticalAlignment="Stretch"
                                                     ItemsSource="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=ProductionTimeReportManagementColor,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                     Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                             
                                                                     >
                                                            <dxg:GridColumn  Header="{DynamicResource WorkTypesGridColumnHtmlColor1}" FieldName="HtmlColor" FilterPopupMode="CheckedList" Width="30"  ReadOnly="True" FixedWidth="True">
                                                                <dxg:GridColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <DockPanel>
                                                                            <Rectangle Width="15" Height="15" Margin="3,3,6,3" Stroke="Gray" StrokeThickness="1" Fill="{Binding RowData.Row.HtmlColor}" />

                                                                        </DockPanel>
                                                                    </DataTemplate>
                                                                </dxg:GridColumn.CellTemplate>
                                                            </dxg:GridColumn>
                                                            <dxg:GridColumn Header="Name" FieldName="Name"  ReadOnly="True" Width="120" >
                                                            </dxg:GridColumn>

                                                            <dxg:GridControl.View>
                                                                <dxg:TableView Name="ManagementTableView"
                                                    ShowColumnHeaders="False"         
                                                    NavigationStyle="None"
                                                    ShowGroupedColumns="True"
                                                    RowDetailsVisibilityMode="Visible"
                                                    ShowHorizontalLines="False"
                                                   ShowVerticalLines="False"
                                                    AllowSorting="True"
                                                    AutoWidth="True"
                                                    VerticalScrollbarVisibility="Disabled"
                                                    HorizontalScrollbarVisibility="Disabled"
                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                    AllowGrouping="True"
                                                    ShowGroupPanel="False"
                                                    ShowIndicator="False" 
                                                    AllowColumnFiltering="False"
                                                    AllowDragDrop="False"
                                                    AllowEditing="False"
                                                    AllowColumnMoving="False"
                                                    EnableImmediatePosting="True"
                                                    GroupRowCheckBoxFieldName="IsChecked"  
                                                    EditorShowMode="MouseUp"
                                                    AllowPaging="False"
                                                    ShowFixedTotalSummary="False"
                                                    ShowTotalSummary="False"
                                                    SummariesIgnoreNullValues="True"
                                                    SummaryCalculationMode="AllRows"
                                                    ImmediateUpdateRowPosition="True" 
                                                    AllowConditionalFormattingMenu="True"
                                                           
                                       >

                                                                    <dxg:TableView.Resources>


                                                                    </dxg:TableView.Resources>
                                                                </dxg:TableView>
                                                            </dxg:GridControl.View>
                                                        </dxg:GridControl>



                                                        <!--MinHeight="20" MaxHeight="150"-->
                                                        <dxg:GridControl x:Name="ManagementLegend" Margin="0,10,0,0" MinHeight="20" MaxHeight="220"  Width="150" SelectionMode="Row" VerticalAlignment="Stretch"
                                                     ItemsSource="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=ProductionTimeReportManagementLegendColorList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                     Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                             
                                                                     >

                                                            <!--Visibility="Hidden"-->


                                                            <dxg:GridColumn Header="{DynamicResource WorkTypesGridColumnHtmlColor2}" FieldName="HtmlColor" FilterPopupMode="CheckedList" Width="30"  ReadOnly="True" FixedWidth="True">
                                                                <dxg:GridColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <DockPanel>
                                                                            <Rectangle Width="15" Height="15" Margin="3,3,6,3" Fill="{Binding RowData.Row.HtmlColor}" />

                                                                        </DockPanel>
                                                                    </DataTemplate>
                                                                </dxg:GridColumn.CellTemplate>
                                                            </dxg:GridColumn>
                                                            <dxg:GridColumn Header="Name" FieldName="Name"  ReadOnly="True" Width="120">
                                                            </dxg:GridColumn>

                                                            <dxg:GridControl.View>
                                                                <dxg:TableView Name="ManagementLegendTableView"
                                                    ShowColumnHeaders="False"         
                                           NavigationStyle="None"
                                                    ShowGroupedColumns="True"
                                                    RowDetailsVisibilityMode="Visible"
                                                    ShowHorizontalLines="True"
                                                   
                                                    AllowSorting="True"
                                                    AutoWidth="True"
                                                    VerticalScrollbarVisibility="Auto"
                                                    HorizontalScrollbarVisibility="Disabled"
                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                    AllowGrouping="True"
                                                    ShowGroupPanel="False"
                                                    ShowIndicator="False" 
                                                    AllowColumnFiltering="True"
                                                    AllowDragDrop="False"
                                                    AllowEditing="False"
                                                    AllowColumnMoving="True"
                                                    EnableImmediatePosting="True"
                                                    GroupRowCheckBoxFieldName="IsChecked"  
                                                    EditorShowMode="MouseUp"
                                                    AllowPaging="False"
                                                    ShowFixedTotalSummary="False"
                                                    ShowTotalSummary="False"
                                                    SummariesIgnoreNullValues="True"
                                                    SummaryCalculationMode="AllRows"
                                                    ImmediateUpdateRowPosition="True" 
                                                    AllowConditionalFormattingMenu="True"
                                                           
                                       >

                                                                    <dxg:TableView.Resources>


                                                                    </dxg:TableView.Resources>
                                                                </dxg:TableView>
                                                            </dxg:GridControl.View>
                                                        </dxg:GridControl>
                                                        <!--</ScrollViewer>
                                                    </StackPanel>-->

                                                        <!--</Grid>-->
                                                        <!--</dxlc:LayoutGroup>-->
                                                    </StackPanel>


                                                    <StackPanel  HorizontalAlignment="Center" Grid.Row="2"  Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">


                                                        <TextBlock   VerticalAlignment="Center" Grid.Row="2" Margin="0,5,0,0" FontWeight="Bold" HorizontalAlignment="Stretch" TextAlignment="Center" Foreground="{DynamicResource AppointmentHeaderForeground}" Text="{DynamicResource LoggedLagend}"  Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"></TextBlock>
                                                        <!--<StackPanel Height="100">
                                                        <ScrollViewer VerticalScrollBarVisibility="Auto">-->

                                                        <!--MinHeight="20" MaxHeight="150"-->
                                                        <dxg:GridControl x:Name="Legend" Margin="0,10,0,0" MinHeight="20" MaxHeight="220"  Width="150" SelectionMode="Row" VerticalAlignment="Stretch"
                                                     ItemsSource="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=ProductionTimeReportLegendloggedColorList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                     Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                             
                                                                     >

                                                            <!--Visibility="Hidden"-->


                                                            <dxg:GridColumn Header="{DynamicResource WorkTypesGridColumnHtmlColor}" FieldName="HtmlColor" FilterPopupMode="CheckedList" Width="30"  ReadOnly="True" FixedWidth="True">
                                                                <dxg:GridColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <DockPanel>
                                                                            <Rectangle Width="15" Height="15" Margin="3,3,6,3" Fill="{Binding RowData.Row.HtmlColor}" />

                                                                        </DockPanel>
                                                                    </DataTemplate>
                                                                </dxg:GridColumn.CellTemplate>
                                                            </dxg:GridColumn>
                                                            <dxg:GridColumn Header="Name" FieldName="Name"  ReadOnly="True" Width="120">
                                                            </dxg:GridColumn>

                                                            <dxg:GridControl.View>
                                                                <dxg:TableView Name="LegendTableView"
                                                    ShowColumnHeaders="False"         
                                           NavigationStyle="None"
                                                    ShowGroupedColumns="True"
                                                    RowDetailsVisibilityMode="Visible"
                                                    ShowHorizontalLines="True"
                                                   
                                                    AllowSorting="True"
                                                    AutoWidth="True"
                                                    VerticalScrollbarVisibility="Auto"
                                                    HorizontalScrollbarVisibility="Disabled"
                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                    AllowGrouping="True"
                                                    ShowGroupPanel="False"
                                                    ShowIndicator="False" 
                                                    AllowColumnFiltering="True"
                                                    AllowDragDrop="False"
                                                    AllowEditing="False"
                                                    AllowColumnMoving="True"
                                                    EnableImmediatePosting="True"
                                                    GroupRowCheckBoxFieldName="IsChecked"  
                                                    EditorShowMode="MouseUp"
                                                    AllowPaging="False"
                                                    ShowFixedTotalSummary="False"
                                                    ShowTotalSummary="False"
                                                    SummariesIgnoreNullValues="True"
                                                    SummaryCalculationMode="AllRows"
                                                    ImmediateUpdateRowPosition="True" 
                                                    AllowConditionalFormattingMenu="True"
                                                           
                                       >

                                                                    <dxg:TableView.Resources>


                                                                    </dxg:TableView.Resources>
                                                                </dxg:TableView>
                                                            </dxg:GridControl.View>
                                                        </dxg:GridControl>
                                                        <!--</ScrollViewer>
                                                    </StackPanel>-->

                                                        <!--</Grid>-->
                                                        <!--</dxlc:LayoutGroup>-->
                                                    </StackPanel>

                                                    <StackPanel  HorizontalAlignment="Center" Grid.Row="3"   Visibility="{Binding IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                                                        <!--Margin="0,-60,0,0"-->

                                                        <TextBlock    VerticalAlignment="Center" Margin="0,20,0,0" FontWeight="Bold" HorizontalAlignment="Stretch" TextAlignment="Center"  Foreground="{DynamicResource AppointmentHeaderForeground}" Text="{DynamicResource AttendanceLagend}"  Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"></TextBlock>
                                                        <ScrollViewer VerticalScrollBarVisibility="Auto">

                                                            <dxg:GridControl x:Name="LegendAttendance" Margin="0,15,0,0" MinHeight="20" MaxHeight="220" Width="150" VerticalAlignment="Stretch"
                                                     ItemsSource="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=ProductionTimeReportLegendAttendanceColorList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                    SelectionMode="None"
                                                                  Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                 ScrollViewer.VerticalScrollBarVisibility="Auto">

                                                                <!--Visibility="Hidden"-->


                                                                <dxg:GridColumn  FieldName="HtmlColor" FilterPopupMode="CheckedList" Width="30" ReadOnly="True" FixedWidth="True">
                                                                    <dxg:GridColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <DockPanel>
                                                                                <Rectangle Width="15" Height="15" Margin="3,3,6,3" Fill="{Binding RowData.Row.HtmlColor}" />

                                                                            </DockPanel>
                                                                        </DataTemplate>
                                                                    </dxg:GridColumn.CellTemplate>
                                                                </dxg:GridColumn>
                                                                <dxg:GridColumn Header="Name" FieldName="Name"  ReadOnly="True" Width="120">
                                                                </dxg:GridColumn>

                                                                <dxg:GridControl.View>
                                                                    <dxg:TableView Name="LegendAttendanceTableView"
                                                    ShowColumnHeaders="False"         
                                         NavigationStyle="None"
                                                    ShowGroupedColumns="True"
                                                    RowDetailsVisibilityMode="Visible"
                                                    ShowHorizontalLines="True"
                                                   
                                                    AllowSorting="True"
                                                    AutoWidth="True"
                                                    VerticalScrollbarVisibility="Auto" 
                                                    HorizontalScrollbarVisibility="Disabled"
                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                    AllowGrouping="True"
                                                    ShowGroupPanel="False"
                                                    ShowIndicator="False" 
                                                    AllowColumnFiltering="True"
                                                    AllowDragDrop="False"
                                                    AllowEditing="False"
                                                    AllowColumnMoving="True"
                                                    EnableImmediatePosting="True"
                                                    GroupRowCheckBoxFieldName="IsChecked"  
                                                    EditorShowMode="MouseUp"
                                                    AllowPaging="False"
                                                    ShowFixedTotalSummary="False"
                                                    ShowTotalSummary="False"
                                                    SummariesIgnoreNullValues="True"
                                                    SummaryCalculationMode="AllRows"
                                                    ImmediateUpdateRowPosition="True" 
                                                    AllowConditionalFormattingMenu="True"

                                                           
                                       >

                                                                        <dxg:TableView.Resources>


                                                                        </dxg:TableView.Resources>
                                                                    </dxg:TableView>
                                                                </dxg:GridControl.View>
                                                            </dxg:GridControl>
                                                        </ScrollViewer>
                                                        <TextBlock    VerticalAlignment="Center" Margin="0,15,0,0" FontWeight="Bold" HorizontalAlignment="Stretch" TextAlignment="Center"  Foreground="{DynamicResource AppointmentHeaderForeground}" Text=""></TextBlock>
                                                        <!--</Grid>-->
                                                        <!--</dxlc:LayoutGroup>-->
                                                    </StackPanel>

                                                </Grid>
                                                <!--End Legend-->
                                            </Grid>

                                        </dxlc:LayoutGroup>



                                    </StackPanel>
                                    <!--</ScrollViewer>-->

                                </dxlc:LayoutGroup>

                                <Grid  Grid.Column="2" Grid.Row="2">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <!-- For Page Search -->
                                        <RowDefinition Height="*"/>
                                        <!-- For GridControl -->
                                    </Grid.RowDefinitions>

                                    <!--  Page number search box -->
                                    <StackPanel Grid.Row="0" 
            Orientation="Horizontal" 
            HorizontalAlignment="Right"
            VerticalAlignment="Center"
            Margin="5">

                                        <!-- Title -->
                                        <TextBlock Text="Go to Page:" 
               VerticalAlignment="Center"
               FontWeight="SemiBold"
               Margin="0,0,5,0"/>

                                        <!-- Page number textbox -->
                                        <TextBox Width="60"
             VerticalAlignment="Center"
             Text="{Binding PageNumberToGo, UpdateSourceTrigger=PropertyChanged}">
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="KeyDown"
                                   Command="{Binding GoToPageCommand}"
                                   PassEventArgsToCommand="True" />
                                            </dxmvvm:Interaction.Behaviors>
                                        </TextBox>

                                    </StackPanel>


                                    <dxg:GridControl Grid.Row="1"
                     Name="gridControlpage"
                     ItemsSource="{Binding DataContext.ERM_CalenderWeek, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}"
                     SelectedItem="{Binding DataContext.SelectedproductionTimeline, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}"
                     AutoGenerateColumns="AddNew" 
                     Focusable="True"
                     IsEnabled="True"
                     MinHeight="20"
                     MaxHeight="30"
                     VerticalAlignment="Stretch"
                     HorizontalAlignment="Stretch">

                                        <dxg:GridControl.View>
                                            <dxg:TableView x:Name="maintableview"
                           AllowPaging="True"
                           PageSize="0"
                           ShowColumnHeaders="False"
                           PagerNumericButtonCount="2"
                           CurrentPageIndex="{Binding DataContext.CurrentPageIndex, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                           >
                                                <dxmvvm:Interaction.Behaviors>
                                                    <dxmvvm:EventToCommand Command="{Binding PaginationofIndexchangedCommand}"
                                           EventName="CurrentPageIndexChanging"
                                           PassEventArgsToCommand="True" />
                                                </dxmvvm:Interaction.Behaviors>
                                                
                                            </dxg:TableView>
                                        </dxg:GridControl.View>
                                    </dxg:GridControl>
                                </Grid>


                            </Grid>

                        </ScrollViewer>

                    </dxlc:LayoutGroup>




                </Grid>

                <DockPanel LastChildFill="True" Visibility="{Binding IsGridViewVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  >

                    <Grid ShowGridLines="False" DockPanel.Dock="Top"  Name="EMPMainGrid1" HorizontalAlignment="Stretch"   VerticalAlignment="Stretch"  ScrollViewer.VerticalScrollBarVisibility="Auto" >
                        <!--HorizontalAlignment="Stretch" VerticalAlignment="Stretch"-->
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition>
                                <ColumnDefinition.Style>
                                    <Style TargetType="ColumnDefinition">
                                        <Setter Property="Width" Value="170" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding DataContext.IsAccordionControlVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="Collapsed">
                                                <Setter Property="Width" Value="0" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ColumnDefinition.Style>
                            </ColumnDefinition>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="20" />
                            <ColumnDefinition>
                                <ColumnDefinition.Style>
                                    <Style TargetType="ColumnDefinition">
                                        <Setter Property="Width" Value="170" />
                                        <Style.Triggers>
                                            <!--<DataTrigger Binding="{Binding DataContext.IsLegendVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="Collapsed">-->
                                            <DataTrigger Binding="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsLegendVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Value="Collapsed">
                                                <Setter Property="Width" Value="0" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ColumnDefinition.Style>
                            </ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>

                            <RowDefinition Height="Auto"/>
                            <!--<RowDefinition Height="Auto"/>-->
                            <!--<RowDefinition Height="605"/>-->
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="60"/>
                        </Grid.RowDefinitions>

                        <dxa:AccordionControl   x:Name="TemplateDetailsgridView" Grid.Row="0" Grid.Column="0" Grid.RowSpan="2"   SelectionMode="Single"
                                                                                             SelectionUnit="SubItemOrRootItem" ShowSearchControl="True"
                                                                                             ExpandMode="MultipleOrNone" Focusable="True"
                                                                                            SearchControlFilterCondition="Contains"                                                                                           
                                                                                            ItemsSource="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=ProductionTimelineWeek ,UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}"
                                                                                             SelectedItem="{Binding DataContext.SelectedproductionTimeline,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                                            ChildrenPath="LogDate" Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance} , Path=IsLeftToggleVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                  >
                            <!--Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance} , Path=IsLeftToggleVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"-->
                            <dxmvvm:Interaction.Triggers>
                                <!--<dxmvvm:EventToCommand Command="{Binding DataContext.CommandAccordionControl_Drop, RelativeSource={RelativeSource AncestorType=UserControl}}}" EventName="Drop" PassEventArgsToCommand="True"></dxmvvm:EventToCommand>-->
                            </dxmvvm:Interaction.Triggers>
                            <!--<dxa:AccordionControl.ItemContainerStyle>
                                <Style TargetType="dxa:AccordionItem">
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="#FFCCE5FF"/>
                                            <Setter Property="Foreground" Value="Black"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </dxa:AccordionControl.ItemContainerStyle>-->

                        </dxa:AccordionControl>



                        <ToggleButton Grid.Row="0" Grid.RowSpan="2" Grid.Column="1"  x:Name="expandButtonLeftgrid" Margin="0 -50,0 ,0"
               Command="{Binding  DataContext.HidePanelCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}" Style="{StaticResource HideButtonStyleLeft}" IsChecked="True"
                                                      Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance} , Path=IsLeftToggleVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                        </ToggleButton>



                        <UIHelper:MyGridControl x:Name="ProdControl" Grid.Row="0" Grid.Column="2" Grid.ColumnSpan="2" Grid.RowSpan="2" Visibility="{Binding IsGridViewVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                         AutoGenerateColumns="None"     HorizontalAlignment="Stretch"  VerticalAlignment="Stretch"
                                                                        ItemsSource ="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=DataTableForProductionTimeLine ,UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}"
                                                                         BandsSource="{Binding DataContext.Bands,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                         BandTemplate="{StaticResource BandTemplate}" 
                                                                        TotalSummaryGeneratorTemplate="{StaticResource SummaryTemplate}"
                                                                         TotalSummarySource="{Binding TotalSummary}"  DockPanel.Dock="Top"
                                                                        ImplyNullLikeEmptyStringWhenFiltering="True"
                                                SelectionMode="None" 
                                                
                                                >
                            <!--ScrollViewer.HorizontalScrollBarVisibility="Visible" -->
                            <dxmvvm:Interaction.Behaviors>
                                <UIHelper:GridSelectingBehavior />
                            </dxmvvm:Interaction.Behaviors>

                            <dxg:GridControl.TotalSummary>
                                <!--<dxg:GridSummaryItem x:Name="summery" FieldName="summery" SummaryType="Count" DisplayFormat="Total Count : {0}" Visible="True" Alignment="Left"/>-->

                            </dxg:GridControl.TotalSummary>

                            <dxg:GridControl.View>
                                <dxg:TableView x:Name="tableView"  AllowPaging="False"
                                                                                   ShowSearchPanelMode="Always"
                                                                                   SearchPanelHorizontalAlignment="Stretch"
                                                                                   NavigationStyle="Cell"
                                                                                   ShowGroupedColumns="True"
                                                                                   RowDetailsVisibilityMode="Visible"
                                                                                   ShowHorizontalLines="True"
                                                                                   ShowColumnHeaders="True"
                                                                                   AllowSorting="True"
                                                                                   VerticalScrollbarVisibility="Auto"
                                                                       HorizontalScrollbarVisibility="Auto"
                                                                                   AutoWidth="False"
                                                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                                                   AllowGrouping="True"
                                                                                   ShowGroupPanel="False"
                                                                                   ShowIndicator="False" 
                                                                                   AllowColumnFiltering="True"
                                                                                  
                                                                                   AllowDragDrop="False"
                                                                                   AllowEditing="False"
                                                                                   AllowColumnMoving="True"
                                                                                   EnableImmediatePosting="True"
                                                                                   GroupRowCheckBoxFieldName="IsChecked"  
                                                                                   EditorShowMode="MouseUp"
                                               PagerNumericButtonCount="5"
                                                                                   ShowFixedTotalSummary="False"
                                                                                    ShowTotalSummary="True"
                                                                                     SummariesIgnoreNullValues="True"
                                                                                     SummaryCalculationMode="AllRows"
                                                                              
                                                                                   ImmediateUpdateRowPosition="True" AllowConditionalFormattingMenu="False"       
                                               AllowCellMerge="True"                           
                                               >

                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand Command="{Binding TableViewLoadedCommand}"
                                                       EventName="Loaded" PassEventArgsToCommand="True"/>
                                        <dxmvvm:EventToCommand Command="{Binding TableViewUnloadedCommand}"
                                                       EventName="Unloaded" PassEventArgsToCommand="True" />
                                        <UIHelper:ERMProductionTimelineCellMergeBehavior/>
                                        <!--[GEOS2-6738][gulab lakade][02 101 2025]-->
                                    </dxmvvm:Interaction.Behaviors>
                                </dxg:TableView>
                            </dxg:GridControl.View>
                        </UIHelper:MyGridControl>





                        <!--Start Legend-->
                        <!--
                                                <ToggleButton Grid.Row="0" Grid.RowSpan="2" Grid.Column="3"  x:Name="expandButtonRight1" 
               Command="{Binding  DataContext.HideRightPanelCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}" Style="{StaticResource HideButtonStyleLeft}" IsChecked="True"
                                                      Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance} , Path=IsRightToggleVisible , Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">

                                                </ToggleButton>-->
                        <Grid  Grid.ColumnSpan="4" Grid.Row="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <!-- For Page Search -->
                                <RowDefinition Height="*"/>
                                <!-- For GridControl -->
                            </Grid.RowDefinitions>

                            <!--  Page number search box -->
                            <StackPanel Grid.Row="0" 
Orientation="Horizontal" 
HorizontalAlignment="Right"
VerticalAlignment="Center"
Margin="0">

                                <!-- Title -->
                                <TextBlock Text="Go to Page:" 
   VerticalAlignment="Center"
   FontWeight="SemiBold"
   Margin="0,0,5,0"/>

                                <!-- Page number textbox -->
                                <TextBox Width="60"
 VerticalAlignment="Center"
 Text="{Binding PageNumberToGo, UpdateSourceTrigger=PropertyChanged}">
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand EventName="KeyDown"
                       Command="{Binding GoToPageCommand}"
                       PassEventArgsToCommand="True" />
                                    </dxmvvm:Interaction.Behaviors>
                                </TextBox>

                            </StackPanel>


                            <dxg:GridControl Grid.Row="1"
         Name="gridControlpage1"
         ItemsSource="{Binding DataContext.ERM_CalenderWeek, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}"
         SelectedItem="{Binding DataContext.SelectedproductionTimeline, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}"
         AutoGenerateColumns="AddNew" 
         Focusable="True"
         IsEnabled="True"
         MinHeight="20"
         MaxHeight="30"
         VerticalAlignment="Stretch"
         HorizontalAlignment="Stretch">

                                <dxg:GridControl.View>
                                    <dxg:TableView x:Name="maintableview1"
               AllowPaging="True"
               PageSize="0"
               ShowColumnHeaders="False"
               PagerNumericButtonCount="2"
               CurrentPageIndex="{Binding DataContext.CurrentPageIndex, RelativeSource={RelativeSource AncestorType=UserControl}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
               >
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding PaginationofIndexchangedCommand}"
                               EventName="CurrentPageIndexChanging"
                               PassEventArgsToCommand="True" />
                                        </dxmvvm:Interaction.Behaviors>

                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>
                        </Grid>

                        <!--End Legend-->
                    </Grid>
                   
                </DockPanel>

            </Grid>

        </DockPanel>
    </Grid>
</UserControl>
