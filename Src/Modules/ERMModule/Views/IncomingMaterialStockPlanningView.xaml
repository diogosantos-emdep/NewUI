<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.ERM.Views.IncomingMaterialStockPlanningView"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:local="clr-namespace:Emdep.Geos.Modules.ERM.Views"
mc:Ignorable="d"
xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" 
 xmlns:dxeh="http://schemas.devexpress.com/winfx/2008/xaml/editors/internal"
xmlns:Converters="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
 xmlns:ve="http://schemas.devexpress.com/winfx/2008/xaml/docking/visualelements"
 xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
 xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
xmlns:ViewModel="clr-namespace:Emdep.Geos.Modules.ERM.ViewModels"
xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys"
xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"

Height="300" Width="300"
Style="{DynamicResource WinUIDialogWindowStyle}"

        >
    
    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding CancelButtonCommand}"/>

    </dxwui:WinUIDialogWindow.InputBindings>
    <dxwui:WinUIDialogWindow.TitleStyle>
        <Style TargetType="ContentControl">
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="5"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Text="{Binding DataContext.WindowHeader,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}" Grid.Column="0" Style="{DynamicResource CustomTitleStyle}" />

                            <Button   Margin ="0,0,0,0" Grid.Column="1" Height="24" Width="24" HorizontalAlignment="Stretch" 
                                Command="{Binding DataContext.CloseButtonCommand,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}" >
                                <Button.ContentTemplate>
                                    <DataTemplate>
                                        <Image Style="{ DynamicResource CloseButtonIcon}"  Height="24" Width="24" Margin="-12"
                                           />
                                    </DataTemplate>
                                </Button.ContentTemplate>
                            </Button>
                        </Grid>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </dxwui:WinUIDialogWindow.TitleStyle>
    
    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Focusable="False">
        <Grid   >

            <dxg:GridControl Grid.Row="1" ShowBorder="True" Background="Black"  Height="400"   Width="1000"
                      ItemsSource="{Binding DataContext.ERMIncomingArticleStockPlanningList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged , RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                    
                      VerticalAlignment="Center" 
                      HorizontalAlignment="Center" 
                      SelectionMode="Row" ImplyNullLikeEmptyStringWhenFiltering="True"  >
                <dxg:GridColumn Header="{DynamicResource GridPONumber}" Width="30"  FieldName="Pono" />
                <dxg:GridColumn Header="{DynamicResource GridColSupplier}" Width="120"  FieldName="Supplier" />
                <dxg:GridColumn Header="{DynamicResource GridColQuantityToReceive}" FieldName="Quantity"  Width="35"/>

                <dxg:GridColumn Header="{DynamicResource GridColDeliveryDate}" FieldName="DeliveryDate"  Width="40" IsSmart="True" />
            <dxg:GridControl.TotalSummary>
                    <dxg:GridSummaryItem x:Name="Summary" SummaryType="Sum" FieldName="Quantity" DisplayFormat="Total Quantity : {0}" Visible="True"  Alignment="Left"/>
            </dxg:GridControl.TotalSummary>


            <dxmvvm:Interaction.Behaviors>
                <UIHelper:GridSelectingBehavior />
            </dxmvvm:Interaction.Behaviors>

            <dxg:GridControl.View>
                <dxg:TableView x:Name="ArticleStockPlanningTableView"
                            NavigationStyle="Row"
                            ShowColumnHeaders="True"
                            ShowIndicator="False" 
                            AutoWidth="True" 
                            ShowGroupPanel="False" 
                            ShowSearchPanelMode="Always" 
                            SearchPanelHorizontalAlignment="Stretch" 
                            ShowFixedTotalSummary="True" 
                            VerticalScrollbarVisibility="Visible"
                            HorizontalScrollbarVisibility="Visible"
                            ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly">

                </dxg:TableView>
               
            </dxg:GridControl.View>
        </dxg:GridControl>
    </Grid>
    </ScrollViewer>
    </dxwui:WinUIDialogWindow>
    
    
