<UserControl x:Class="Emdep.Geos.Modules.ERM.Views.PlanningDateReviewView"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
        xmlns:Converters="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
       xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
        xmlns:dxp="http://schemas.devexpress.com/winfx/2008/xaml/printing"
        xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
        xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
       xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys"
        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
        xmlns:dxci="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
        xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
        xmlns:dxa="http://schemas.devexpress.com/winfx/2008/xaml/accordion"
        xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
        xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
          xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
             xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
         xmlns:ERMApplication="clr-namespace:Emdep.Geos.Modules.ERM.CommonClasses" 
         xmlns:ERMApplication2="clr-namespace:Emdep.Geos.Modules.ERM.ViewModels"
        xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
        xmlns:local="clr-namespace:Emdep.Geos.Modules.ERM.Views"
        xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
       xmlns:scm="clr-namespace:System.ComponentModel;assembly=WindowsBase"
       xmlns:gif="http://wpfanimatedgif.codeplex.com"
       xmlns:dxsch="http://schemas.devexpress.com/winfx/2008/xaml/scheduling"
       xmlns:dxschc="http://schemas.devexpress.com/winfx/2008/xaml/scheduling/common"
      xmlns:dxschv="http://schemas.devexpress.com/winfx/2008/xaml/scheduling/visual"
      xmlns:dxscht="http://schemas.devexpress.com/winfx/2008/xaml/scheduling/themekeys"
      xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity" 
      xmlns:Interactive="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
      xmlns:Behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
       xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
       xmlns:dxschint="http://schemas.devexpress.com/winfx/2008/xaml/scheduler/internal"
       xmlns:dxschcore="clr-namespace:DevExpress.XtraScheduler;assembly=DevExpress.XtraScheduler.v19.2.Core" 
        xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
        mc:Ignorable="d"
       Height="{Binding SystemParameters.PrimaryScreenHeight}" 
       Width="{Binding SystemParameters.PrimaryScreenWidth}"
          Style="{DynamicResource UserControlStyle}"  >
    <UserControl.Resources>

       
        <!-- Start GEOS2-4156 Schedular-->
        <ResourceDictionary>


          

            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Emdep.Geos.Modules.ERM;component/Resources/SchedulerWeekViewResources.xaml" />
            </ResourceDictionary.MergedDictionaries>


         <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <sys:Boolean x:Key="False">False</sys:Boolean>
            <Converters:CellBackroundColorOtTypeConvertorERM x:Key="CellBackroundColorOtTypeConvertorERM"/>
            <UIConverter:SchedulingAppointmentForegroundColorConverter x:Key="appointmentForegroundColorConverter" />
            <Converters:ByteToYesNoConverter x:Key="ByteToYesNoConverter"/>
            <DataTemplate x:Key="appointmentFlyoutContentTemplate">
                <dxlc:LayoutControl Width="280" MinHeight="100" IsHitTestVisible="False" Orientation="Vertical" Padding="11">
                    <StackPanel Orientation="Horizontal">
                        <dxschv:DayAppointmentControl MinHeight="25"
                                                      Width="200"
                                                      
                                                      Padding="21,0,0,0"
                                                        Panel.ZIndex="0"
                                                        VerticalAlignment="Top"
                                                        Content="{Binding}"
                                                        ShowRecurrenceImage="False"
                                                        ShowReminderImage="False"
                                                        ShowInterval="False"
                                                        ShowStatus="False"
                                                        Foreground="{Binding Label, Converter={StaticResource appointmentForegroundColorConverter}}">
                        </dxschv:DayAppointmentControl>

                    </StackPanel>
                    
                    <dxlc:LayoutControl Margin="0,0,0,0" VerticalAlignment="Top" Orientation="Vertical" Padding="0">
                        <!--<dxlc:LayoutItem Style="{DynamicResource {dxscht:SchedulerFlyoutThemeKey ResourceKey=LayoutItem_Description}}">
                            <dxlc:LayoutItem.Content>
                                <TextBlock Text="{Binding Appointment.Description}" />
                            </dxlc:LayoutItem.Content>
                        </dxlc:LayoutItem>
                        <dxlc:LayoutItem Style="{DynamicResource {dxscht:SchedulerFlyoutThemeKey ResourceKey=LayoutItem_Start}}">
                            <dxlc:LayoutItem.Content>
                                <TextBlock Text="{Binding Appointment.Start, StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                            </dxlc:LayoutItem.Content>
                        </dxlc:LayoutItem>-->
                        <!--<dxlc:LayoutItem Style="{DynamicResource {dxscht:SchedulerFlyoutThemeKey ResourceKey=LayoutItem_End}}">
                            <dxlc:LayoutItem.Content>
                                <TextBlock Text="{Binding Appointment.CustomFields.StartDate, StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                            </dxlc:LayoutItem.Content>
                        </dxlc:LayoutItem>
                        <dxlc:LayoutItem Style="{DynamicResource {dxscht:SchedulerFlyoutThemeKey ResourceKey=LayoutItem_End}}">
                            <dxlc:LayoutItem.Content>
                                <TextBlock Text="{Binding Appointment.CustomFields.EndDate, StringFormat=g,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                            </dxlc:LayoutItem.Content>
                        </dxlc:LayoutItem>-->

                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource PlanningDateCustomer}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.Customer,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>
                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource PlanningDateProject}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.Project,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>
                        
                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayData}" Label="{DynamicResource StartDateWithColon}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.StartDate,StringFormat={}{0:dd/MM/yyyy hh:mm},ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>

                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayData}" Label="{DynamicResource EndDateWithColon}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.EndDate,StringFormat={}{0:dd/MM/yyyy hh:mm},ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" Visibility="{Binding }"/>
                        </dxlc:LayoutItem>
                        <!--Visibility="{Binding Path=IsHolidayData, Converter={StaticResource BoolToVis},RelativeSource={RelativeSource TemplatedParent}}"-->
                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource OriginPlantWithColon}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel" >
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.OriginPlant,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>
                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource DeliveryDateWithColon}"> 
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.DeliveryDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>
                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource PlannedDateWithColon}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.PlanningDeliveryDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>


                        <!-- rajashri  -->                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource cworkstation}">                            <dxlc:LayoutItem.LabelStyle>                                <Style TargetType="dxlc:LayoutItemLabel">                                    <Setter Property="FontWeight" Value="Bold" />                                </Style>                            </dxlc:LayoutItem.LabelStyle>                            <TextBlock Text="{Binding Appointment.CustomFields.CurrentWorkStation,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />                        </dxlc:LayoutItem>


                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource TemplateWithColon}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.Template,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>

                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource ItemNumberWithColon}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.NumItem,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>

                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource CurrentType}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.Type,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>

                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource QtyWithColon}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.QTY,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>
                        <dxlc:LayoutItem Visibility="{Binding Appointment.CustomFields.IsHolidayDate}" Label="{DynamicResource LastUpdateWithColon}">
                            <dxlc:LayoutItem.LabelStyle>
                                <Style TargetType="dxlc:LayoutItemLabel">
                                    <Setter Property="FontWeight" Value="Bold" />
                                </Style>
                            </dxlc:LayoutItem.LabelStyle>
                            <TextBlock Text="{Binding Appointment.CustomFields.LastUpdate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                        </dxlc:LayoutItem>


                        
                    </dxlc:LayoutControl>


                </dxlc:LayoutControl>
            </DataTemplate>

            <DataTemplate x:Key="cellTemplate">
                <DockPanel VerticalAlignment="Top" LastChildFill="False">
                    <DockPanel.Style>
                        <Style>
                            <Setter Property="DockPanel.Background" Value="Transparent" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="true">
                                    <Setter Property="DockPanel.Background">
                                        <Setter.Value>
                                            <MultiBinding Converter="{Converters:AppointmentHeaderBackgroundColorConverter}">
                                                <Binding Path="TotalDuration" ElementName="durationProvider" />
                                                <Binding Path="DailyWorkHours" ElementName="durationProvider" />
                                                <Binding Path="DataContext.OKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                                <Binding Path="DataContext.NotOKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                                <Binding Path="StartDate" ElementName="durationProvider" />
                                                <Binding Path="EndDate" ElementName="durationProvider" />
                                            </MultiBinding>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="false">
                                    <Setter Property="DockPanel.Background" Value="Transparent" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>

                        <!--<Style>
                            <Setter Property="DockPanel.Background" Value="Transparent" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="true">
                                    <Setter Property="DockPanel.Background">
                                        <Setter.Value>
                                            <MultiBinding Converter="{Converters:AppointmentHeaderBackgroundColorConverterForShift}">
                                                <Binding Path="TotalDuration" ElementName="durationProvider" />
                                                <Binding Path="DailyWorkHours" ElementName="durationProvider" />
                                                <Binding Path="FromTimeForShift" ElementName="durationProvider" />
                                                <Binding Path="ToTimeForShift" ElementName="durationProvider" />
                                                <Binding Path="BreakTimeForShift" ElementName="durationProvider" />
                                                <Binding Path="DataContext.OKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                                <Binding Path="DataContext.NotOKColor" RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type UserControl}}" />
                                            </MultiBinding>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Path=Duration, ElementName=durationProvider}" Value="false">
                                    <Setter Property="DockPanel.Background" Value="Transparent" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>-->

                    </DockPanel.Style>

                    <dxmvvm:Interaction.Behaviors>
                        <UIHelper:PlanningAppointment x:Name="planningappointment" />
                    </dxmvvm:Interaction.Behaviors>

                    <dxschv:MonthCellDatePresenter DockPanel.Dock="Left"
                                                   Margin="3,3,3,3" FontSize="14" Foreground="{DynamicResource AppointmentHeaderForeground}">
                    </dxschv:MonthCellDatePresenter>

                    <dxschv:FastTextBlock  Foreground="{DynamicResource AppointmentHeaderForeground}"
                                         Text="{Binding TotalRealTime,ElementName=planningappointment}"
                                           ToolTip="Real Time"
                                          DockPanel.Dock="Right"
                                          Margin="3,3,3,3" FontSize="14">
                       
                    </dxschv:FastTextBlock>
                    <dxschv:FastTextBlock Foreground="{DynamicResource AppointmentHeaderForeground}"
                                       Text="{Binding TotalExpectedTimeString,ElementName=planningappointment}" 
                                          ToolTip="Expected Time"
                                          DockPanel.Dock="Right"
                                          Margin="3,3,3,3" FontSize="14">

                    </dxschv:FastTextBlock>
                    <dxschv:FastTextBlock     DockPanel.Dock="Right" Foreground="{DynamicResource AppointmentHeaderForeground}"
                                          Margin="3,3,3,3" FontSize="14"
                                           Text="{Binding TotalQTY,ElementName=planningappointment}"
                                              ToolTip="QTY"
                                              >
                    </dxschv:FastTextBlock>
                </DockPanel>
            </DataTemplate>
            <!--Text="{Binding Path=ShiftWorkingTime, ElementName=durationProvider}" Text="{Binding Path=TotalDurationString, ElementName=durationProvider}"-->
            <Style x:Key="aptStyle" TargetType="dxschv:AppointmentControl">
                <!--<Setter Property="ShowStatus" Value="{Binding Appointment.CustomFields[IsNightShift],Converter={Converters:IntToBoolConverter}}" />-->
                <Setter Property="ShowStatus" Value="False" />
            </Style>
            <Style x:Key="appointmentStyle" TargetType="dxschv:AppointmentControl">
                <Setter Property="ShowInterval" Value="False" />
                <Setter Property="ShowDescription" Value="True" />
                <Setter Property="ShowStatus" Value="False" />
            </Style>

            <Style x:Key="ImageStyle" TargetType="Image">
                <Style.Triggers>
                    <!--<MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="2" />
                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/bwFilter.png"     />
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="2" />
                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/bwFilter.png" />
                    </MultiDataTrigger>-->
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <!--<Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="1" />-->
                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/bFilter_24x24.png" />
                    </MultiDataTrigger>
                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <!--<Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="1" />-->
                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/wFilter_24x24.png  " />
                    </MultiDataTrigger>
                    <!--<MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="3" />
                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/wSFilter.png" />
                    </MultiDataTrigger>

                    <MultiDataTrigger>
                        <MultiDataTrigger.Conditions>
                            <Condition Binding="{Binding DataContext.ID,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="3" />
                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue" />
                        </MultiDataTrigger.Conditions>
                        <Setter Property="Source" Value="/Emdep.Geos.Modules.ERM;component/Assets/Images/bSFilter.png" />
                    </MultiDataTrigger>-->
                </Style.Triggers>
            </Style>


            <ControlTemplate x:Key="{dxet:DateNavigatorThemeKey ResourceKey=LeftArrowTemplate}" TargetType="{x:Type RepeatButton}">
                <Grid Background="#00000000" Width="30" Height="30" SnapsToDevicePixels="True" d:Name="Grid_0003">
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="MouseOver">
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetName="Path" Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)" Duration="0" To="#FF373A3D" d:Name="ColorAnimation_0001" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Pressed">
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetName="Path" Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)" Duration="0" To="#FF373A3D" d:Name="ColorAnimation_0002" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Disabled" />
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <Path x:Name="Path" Stretch="Fill" Fill="#FFB9B9B9" Data="F1 M 208.5,17C 212.09,17 215,19.91 215,23.4999C 215,27.0897 212.09,29.9999 208.5,29.9999C 204.91,29.9999 202,27.0897 202,23.4999C 202,19.91 204.91,17 208.5,17 Z M 208.5,18.0004C 205.462,18.0004 203,20.4628 203,23.5004C 203,26.5378 205.462,29.0002 208.5,29.0002C 211.537,29.0002 214,26.5378 214,23.5004C 214,20.4628 211.537,18.0004 208.5,18.0004 Z M 205,24.0001L 205,24L 205,23.0002L 205,22.9999L 208,19.9999L 210,19.9999L 207,22.9999L 212,23.0002L 212,24L 207,23.9999L 210,26.9999L 208,26.9999L 205,24.0001 Z " Width="25" Height="25" d:Name="Path_0001" />
                </Grid>
            </ControlTemplate>
            <Style x:Key="{dxet:DateNavigatorThemeKey ResourceKey=LeftArrowStyle}" TargetType="{x:Type RepeatButton}">
                <Setter Property="Template" Value="{DynamicResource {dxet:DateNavigatorThemeKey ResourceKey=LeftArrowTemplate}}" />
                <Setter Property="dx:FocusHelper2.Focusable" Value="False" />
                <Setter Property="Margin" Value="2,0,0,0" />
                <Setter Property="ClickMode" Value="Press" />
                <Setter Property="Delay" Value="400" />
                <Setter Property="Interval" Value="400" />
            </Style>
            <ControlTemplate x:Key="{dxet:DateNavigatorThemeKey ResourceKey=RightArrowTemplate}" TargetType="{x:Type RepeatButton}">
                <Grid Background="#00000000" Width="30" Height="30" SnapsToDevicePixels="True" d:Name="Grid_0004">
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="MouseOver">
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetName="Path" Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)" Duration="0" To="#FF373A3D" d:Name="ColorAnimation_0003" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Pressed">
                                <Storyboard>
                                    <ColorAnimation Storyboard.TargetName="Path" Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)" Duration="0" To="#FF373A3D" d:Name="ColorAnimation_0004" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Disabled" />
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                    <Path x:Name="Path" Stretch="Fill" Fill="#FFB9B9B9" Data="F1 M 232.5,17.0001C 228.91,17.0001 226,19.9102 226,23.5C 226,27.0898 228.91,30 232.5,30C 236.09,30 239,27.0898 239,23.5C 239,19.9102 236.09,17.0001 232.5,17.0001 Z M 232.5,18.0004C 235.538,18.0004 238,20.4628 238,23.5004C 238,26.538 235.538,29.0004 232.5,29.0004C 229.463,29.0004 227,26.538 227,23.5004C 227,20.4628 229.463,18.0004 232.5,18.0004 Z M 236,24.0001L 236,24.0001L 236,23.0004L 236,23L 233,20L 231,20L 234,23L 229,23.0004L 229,24.0001L 234,24L 231,26.9999L 233,26.9999L 236,24.0001 Z " Width="25" Height="25" d:Name="Path_0002" />
                </Grid>
            </ControlTemplate>
            <Style x:Key="{dxet:DateNavigatorThemeKey ResourceKey=RightArrowStyle}" TargetType="{x:Type RepeatButton}">
                <Setter Property="Template" Value="{DynamicResource {dxet:DateNavigatorThemeKey ResourceKey=RightArrowTemplate}}" />
                <Setter Property="dx:FocusHelper2.Focusable" Value="False" />
                <Setter Property="Margin" Value="0,0,2,0" />
                <Setter Property="ClickMode" Value="Press" />
                <Setter Property="Delay" Value="400" />
                <Setter Property="Interval" Value="400" />
            </Style>
            <DataTemplate x:Key="appointmentContentTemplate">
                <dxschv:AppointmentContentPanel>
                    

                    <dxschv:AppointmentContentPanel.IntervalSubject>
                        <StackPanel Orientation="Horizontal" >

                            <Canvas Height="25" Width="Auto"  >
                                <Line Stroke="Red" StrokeThickness="10" 
                                  X1="0" Y1="0" X2="0" Y2="27.5">
                                    <Line.Style>
                                        <Style TargetType="Line">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Appointment.CustomFields.IsPlannedDeliveryDate}"  Value="false">
                                                    <Setter Property="Visibility" Value="Collapsed"></Setter>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Appointment.CustomFields.IsPlannedDeliveryDate}"  Value="true">
                                                    <Setter Property="Visibility" Value="Visible"></Setter>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Line.Style>
                                </Line>
                            </Canvas>
                            <Canvas Height="25" Width="Auto"  >
                                <Line Stroke="White"  StrokeThickness="10" 
                                  X1="0" Y1="0" X2="0" Y2="27.5">
                                    <Line.Style>
                                        <Style TargetType="Line">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Appointment.CustomFields.IsPlannedDeliveryDate}"  Value="false">
                                                    <Setter Property="Visibility" Value="Visible"></Setter>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Appointment.CustomFields.IsPlannedDeliveryDate}"  Value="true">
                                                    <Setter Property="Visibility" Value="Collapsed"></Setter>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Line.Style>
                                </Line>
                            </Canvas>
                          

                            <dxschv:FastTextBlock Text="{Binding Appointment.CustomFields.ContentSubject}" 
                                                  Foreground="{Binding Label, Converter={StaticResource appointmentForegroundColorConverter}}"
                                              Margin="12.5,0,0,0"  />
                            
                        </StackPanel>
                    </dxschv:AppointmentContentPanel.IntervalSubject>


                </dxschv:AppointmentContentPanel>
               
            </DataTemplate>

            <!-- End GEOS2-4156 Schedular-->
        <CollectionViewSource x:Key="SortedApplications" Source="{Binding DataContext.TemplateWithPlanningDate, Mode=TwoWay, 
                                                                                            UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}">
            <!--<CollectionViewSource.SortDescriptions>
                <scm:SortDescription PropertyName="copyDeliwaryWeek" Direction="Ascending"/>
            </CollectionViewSource.SortDescriptions>-->
        </CollectionViewSource>
        
        <!--<Converters:CellBackroundColorOtTypeConvertorERM x:Key="CellBackroundColorOtTypeConvertorERM"/>-->
        <Style x:Key="HideButtonStyleLeft" TargetType="{x:Type ToggleButton}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Border BorderThickness="0" Background="{TemplateBinding Background}">
                            <Grid>
                                <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                   Source="/Emdep.Geos.Modules.PCM;component/Assets/Images/ArrowRight.png"
                                   Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter Inverse=True}}"/>
                                <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                   Source="/Emdep.Geos.Modules.PCM;component/Assets/Images/ArrowLeft.png"
                                   Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter}}"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <UIHelper:PlanningDateHelper x:Key="mySelector"/>

            <DataTemplate x:Key="SummaryTemplateQTY">
                <ContentControl>
                    <dxg:GridSummaryItem FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}"
                                     SummaryType="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).Type, RelativeSource={RelativeSource Self}}"
                                     DisplayFormat= "{Binding Path=(dxci:DependencyObjectExtensions.DataContext).DisplayFormat, RelativeSource={RelativeSource Self}}">
                    </dxg:GridSummaryItem>
                </ContentControl>
            </DataTemplate>
        </ResourceDictionary>

       
    </UserControl.Resources>
    <DockPanel LastChildFill="True">
        <Grid DockPanel.Dock="Top" Margin="0,10,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="5" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="5" />
                <!--<ColumnDefinition Width="50*" />
                <ColumnDefinition Width="5" />
                <ColumnDefinition Width="70*" />-->
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Label Content="{DynamicResource PlanningDateReview}" Style="{StaticResource LabelTitleStyle}" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>

            <Image gif:ImageBehavior.RepeatBehavior="Forever" gif:ImageBehavior.AnimatedSource="/Emdep.Geos.Modules.ERM;component/Assets/Images/animatedWarning.gif" Visibility="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=IsShowFailedPlantWarning,Mode=TwoWay,Converter={StaticResource BoolToVis}}" Grid.Row="0" Grid.Column="2"  HorizontalAlignment="Left" VerticalAlignment="Center"  Height="30" Width="30">
                <Image.ToolTip>
                    <TextBlock Text="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=WarningFailedPlants}"/>

                </Image.ToolTip>
            </Image>
            <Grid Grid.Row="0" Grid.Column="6" HorizontalAlignment="Right">
                <Grid HorizontalAlignment="Right" Width="Auto" Height="45">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="45"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="80"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!--Add Button-->

                    <!-- Plant -->

                    <DockPanel Grid.Column="1" Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,0,5,5">
                        <Image  Style="{DynamicResource WarehouseImageStyle}" Width="24" Height="24" Margin="0,0,3,5"></Image>
                        <TextBlock  Margin="3,0,7,0" Text="{DynamicResource GridColPlant}"
                               HorizontalAlignment="Left" VerticalAlignment="Center" Style="{StaticResource TextBlock14Style}"/>
                    </DockPanel>
                    <dxe:ComboBoxEdit Grid.Row="0" Grid.Column="2"   Margin="0,0,-10,5"
                                        MinWidth="120" Width="120" Name="CbePlant" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" 
                                      ScrollViewer.VerticalScrollBarVisibility="Auto"  TextTrimming="CharacterEllipsis" 
                                      TextWrapping="Wrap"  Style="{DynamicResource ComboBoxEditStyle}" 
                                      IsTextEditable="False"  DisplayMember="Name" 
                                         ItemsSource ="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=UserAuthorizedPlantsList ,UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}"
                                         EditValue="{Binding Source={x:Static ERMApplication:ERMCommon.Instance}, Path=SelectedAuthorizedPlantsList,UpdateSourceTrigger=PropertyChanged}">
                        <!--ItemsSource="{Binding PlantList,Mode=TwoWay }" 
                                    EditValue="{Binding SelectedPlant, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                      >-->
                        <dxe:ComboBoxEdit.StyleSettings>
                            <dxe:CheckedComboBoxStyleSettings />
                        </dxe:ComboBoxEdit.StyleSettings>
                        <dxmvvm:Interaction.Triggers>
                            <dxmvvm:EventToCommand 
                                                            EventName="PopupClosed" Command="{Binding DataContext.ChangePlantCommand,RelativeSource={RelativeSource AncestorType=UserControl}}"  PassEventArgsToCommand="True"/>
                        </dxmvvm:Interaction.Triggers>

                    </dxe:ComboBoxEdit>
                    
                    <!--Period-->
                    <DockPanel Grid.Column="5" Grid.Row="0" HorizontalAlignment="Right"   VerticalAlignment="Center" Margin="0,0,0,0" >
                        <TextBlock Text="{DynamicResource Period}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-10,10,0"/>
                        <TextBlock Text="{Binding FromDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-10,5,0"/>
                        <TextBlock Text=" - " HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold" Margin="0,-10,5,0"/>
                        <TextBlock Text="{Binding ToDate,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="0,-10,25,0"/>
                    </DockPanel>
                    <!--Calender Icon-->
                    <dxwui:AppBar x:Name="Appbar" HideMode="AlwaysVisible" Background="Transparent" Grid.Column="4"
                                  IsSticky="True" HorizontalAlignment="Stretch"
                                  VerticalAlignment="Stretch"
                                  IsOpen="True" IsExitButtonEnabled="False" Margin="10,-18,5,0">

                        <dxwui:AppBarButton x:Name="appbarbutton" ToolTip="{DynamicResource PeriodSelect}"
                                        GlyphHeight="24" GlyphWidth="24"
                                        Style="{DynamicResource ERMCalendarImageGlyphStyle}"
                                        GlyphStretch="Fill" IsEllipseEnabled="False" >
                            <dxwui:AppBarButton.Flyout>
                                <dxwui:MenuFlyout ShowIndicator="True" x:Name="MenuLayout">
                                    <dxwui:MenuFlyoutItem StaysOpenOnClick="True">
                                        <Grid Width="Auto" Height="Auto">
                                            <DockPanel>
                                                <StackPanel Orientation="Vertical" x:Name="PeriodCategories">
                                                    <!--This Year-->
                                                    <Button x:Name="ThisYear" Content="This Year" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                        CommandParameter="{Binding ElementName=ThisYear}">
                                                    </Button>
                                                    
                                                    <!--Last Year-->
                                                    <Button x:Name="LastYear" Content="Last Year" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastYear}">
                                                    </Button>

                                                    <!--This Month-->
                                                    <Button x:Name="ThisMonth" Content="{DynamicResource SAMThisMonth}" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=ThisMonth}">
                                                    </Button>

                                                    <!--Last one month-->
                                                    <Button x:Name="LastOneMonth" Content="{DynamicResource SAMLastOneMonth}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastOneMonth}">
                                                    </Button>

                                                    <!--Last month-->
                                                    <Button x:Name="LastMonth" Content="{DynamicResource SAMLastMonth}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastMonth}">
                                                    </Button>

                                                    <!--This week-->
                                                    <Button x:Name="ThisWeek" Content="{DynamicResource SAMThisWeek}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=ThisWeek}">
                                                    </Button>

                                                    <!--Last one week-->
                                                    <Button x:Name="LastOneWeek" Content="{DynamicResource SAMLastOneWeek}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastOneWeek}">
                                                    </Button>

                                                    <!--Last week-->
                                                    <Button x:Name="LastWeek" Content="{DynamicResource SAMLastWeek}" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=LastWeek}">
                                                    </Button>
                                                    <!--Last 12 month-->
                                                    <Button x:Name="Last12Months" Content="Last 12 Months" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCommand}"
                                                            CommandParameter="{Binding ElementName=Last12Months}">
                                                    </Button>
                                                    <!--Custom Range-->
                                                    <Button x:Name="CustomRange" Content="{DynamicResource PeriodCustomRange}" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="110"
                                                            Command="{Binding PeriodCustomRangeCommand}"
                                                            CommandParameter="{Binding ElementName=CustomRange}">
                                                    </Button>
                                                    <StackPanel Orientation="Horizontal" Margin="0,50,0,0">
                                                        <Button Content="{DynamicResource SAMApply}" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="60" Background="Yellow" 
                                                            Command="{Binding ApplyCommand}" CommandParameter="{Binding ElementName=MenuLayout}">
                                                        </Button>
                                                        <Button Content="{DynamicResource SAMCancel}" HorizontalAlignment="Center" VerticalAlignment="Center"
                                                            Height="30" Width="60" 
                                                            Command="{Binding CancelCommand}" CommandParameter="{Binding ElementName=MenuLayout}">
                                                        </Button>
                                                    </StackPanel>
                                                </StackPanel>

                                                <StackPanel Visibility="{Binding DataContext.IsCalendarVisible, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Orientation="Horizontal">
                                                    <StackPanel Orientation="Vertical">
                                                        <dxe:TextEdit Text="{Binding DataContext.StartDate, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                  Height="30" TextWrapping="Wrap" Mask="dd/MM/yyyy"  
                                                  MaskType="DateTimeAdvancingCaret"  
                                                  MaskUseAsDisplayFormat="True"
                                                  HorizontalAlignment="Stretch" IsReadOnly="True"  Margin="2,2,2,2">
                                                        </dxe:TextEdit>
                                                        <!--Calendar-->
                                                        <dxe:DateEditCalendar DateTime="{Binding DataContext.StartDate, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                                      VerticalAlignment="Center"
                                                                      ShowToday="False"
                                                                      ShowClearButton="False"/>
                                                    </StackPanel>
                                                    <StackPanel Orientation="Vertical">
                                                        <dxe:TextEdit Text="{Binding DataContext.EndDate, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                  Height="30" TextWrapping="Wrap" Mask="dd/MM/yyyy"  
                                                  MaskType="DateTimeAdvancingCaret"  
                                                  MaskUseAsDisplayFormat="True"
                                                  HorizontalAlignment="Stretch" IsReadOnly="True"  Margin="2,2,2,2">
                                                        </dxe:TextEdit>
                                                        <!--Calendar-->
                                                        <dxe:DateEditCalendar DateTime="{Binding DataContext.EndDate, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                                      VerticalAlignment="Center"
                                                                      ShowToday="False"
                                                                      ShowClearButton="False"/>
                                                    </StackPanel>
                                                </StackPanel>
                                            </DockPanel>
                                        </Grid>
                                    </dxwui:MenuFlyoutItem>
                                </dxwui:MenuFlyout>
                            </dxwui:AppBarButton.Flyout>
                        </dxwui:AppBarButton>
                    </dxwui:AppBar>


                    <!-- Refresh Button -->
                    <Button Content=" " Grid.Row="0" Grid.Column="7" Height="40" Width="40" HorizontalAlignment="Right"
                             Command="{Binding RefreshPlanningDateCommand}" CommandParameter="{Binding ElementName=PlanningDateReviewTableView}"  Margin="0,0,5,5">
                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource ButtonRefresh}"/>
                        </Button.ToolTip>
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Image Style="{ DynamicResource PCMRefreshButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>

                    <!--Print Button-->
                    <Button Content=" " Grid.Row="0" Grid.Column="8" Height="40" Width="40" HorizontalAlignment="Right"
                            Command="{Binding PrintPlanningDateReviewCommand}" CommandParameter="{Binding ElementName=PlanningDateReviewTableView}"  Margin="0,0,5,5">
                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource ButtonPrint}"/>
                        </Button.ToolTip>
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Image Style="{DynamicResource PCMPrintButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>

                    <!-- Export to Excel -->
                    <Button Content=" " Grid.Row="0" Grid.Column="9" Height="40" Width="40" HorizontalAlignment="Right"
                             Command="{Binding ExportPlanningDateReviewCommand}" CommandParameter="{Binding ElementName=PlanningDateReviewTableView}"  Margin="0,0,5,5">
                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource ButtonExportToExcel}"/>
                        </Button.ToolTip>
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Image Style="{DynamicResource PCMExportToExcelButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                            </DataTemplate>
                        </Button.ContentTemplate>
                    </Button>

                    <!-- Switch View -->
                    <dx:DropDownButton x:Name="dropdownButton" Content="Dropdown button" 
                                   HorizontalAlignment="Right" Height="40" Width="40" Grid.Row="0" Grid.Column="10" Margin="0,0,5,5" VerticalAlignment="Center">
                        <dx:DropDownButton.Style>
                            <Style>
                                <Setter Property="dx:DropDownButtonBase.ArrowAlignment" Value="Right" />
                                <Setter Property="dx:DropDownButtonBase.ArrowPadding" Value="0" />
                            </Style>
                        </dx:DropDownButton.Style>

                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource SwitchViewButtonTooltip}"></TextBlock>
                        </Button.ToolTip>

                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Image Style="{ DynamicResource SwitchOrganizationImageStyle}" Grid.Column="0" Height="24" Width="24" Margin="-20" />
                                </Grid>
                            </DataTemplate>
                        </Button.ContentTemplate>

                        <dxb:PopupMenu>
                            <dxb:BarButtonItem Name="SchedulerView" Content="Scheduler View" Glyph="{DynamicResource SwitchActivityCalendar}" Command="{Binding ShowSchedulerViewCommand}" CommandParameter="{Binding ElementName=scheduler}" >
                                <dxb:BarButtonItem.Style>
                                    <Style>
                                        <Style.Triggers>
                                            <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="True">
                                                <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityCalendarMouseOver}" />
                                            </Trigger>
                                            <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="False">
                                                <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityCalendar}" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </dxb:BarButtonItem.Style>
                            </dxb:BarButtonItem>

                            <dxb:BarButtonItem Name="GridView" Content="Grid View" Glyph="{DynamicResource SwitchActivityGridview}" Command="{Binding ShowGridViewCommand}" CommandParameter="{Binding ElementName=dxgGridControl1}" >
                                <dxb:BarButtonItem.Style>
                                    <Style>
                                        <Style.Triggers>
                                            <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="True">
                                                <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityGridviewMouseOver}" />
                                            </Trigger>
                                            <Trigger Property="dxb:BarButtonItem.IsMouseOver" Value="False">
                                                <Setter Property="dxb:BarButtonItem.Glyph" Value="{DynamicResource SwitchActivityGridview}" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </dxb:BarButtonItem.Style>
                                
                            </dxb:BarButtonItem>
                        </dxb:PopupMenu>
                    </dx:DropDownButton>

                     <!--Save Button--> 

                    <Button Content=" " Height="40" Width="40" Grid.Row="0" Grid.Column="11" Command="{Binding SavePlanningDateCommand}" CommandParameter="{Binding ElementName=scheduler}" HorizontalAlignment="Right" Margin="0,0,5,5" 
                    IsEnabled="{Binding IsSaveEnabled}" Visibility="{Binding IsSchedulerViewVisible}">
                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource ButtonSave}"/>
                        </Button.ToolTip>
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Image Style="{ DynamicResource SaveButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                            </DataTemplate>
                        </Button.ContentTemplate>
                        
                        
                    </Button>
                    <Button Content=" " Height="40" Width="40" Grid.Row="0" Grid.Column="11" Command="{Binding SaveGridPlanningDateCommand}" CommandParameter="{Binding ElementName=PlanningDateReviewTableView}" HorizontalAlignment="Right" Margin="0,0,5,5" 
                   IsEnabled="{Binding Path=(UIHelper:PlanningDateReviewCellEditHelper.IsValueChanged),Mode=TwoWay, ElementName=PlanningDateReviewTableView}"  Visibility="{Binding IsGridViewVisible}">
                        <Button.ToolTip>
                            <TextBlock Text="{DynamicResource ButtonSave}"/>
                        </Button.ToolTip>
                        <Button.ContentTemplate>
                            <DataTemplate>
                                <Image Style="{ DynamicResource SaveButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                            </DataTemplate>
                        </Button.ContentTemplate>


                    </Button>

                    <!--WorkStation filter   ItemsSource="{Binding DataContext.FilterAttendanceList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=UserControl}}"-->

                    <dxe:ComboBoxEdit  
                             ItemsSource="{Binding  DataContext.PlanningDateReviewStagesList,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}"
                             
                              Style="{DynamicResource ComboBoxEditStyle}"  DisplayMember="StageCode" Name="filter" Grid.Column="13" Grid.Row="0" Width="50"  VerticalAlignment="Top" HorizontalAlignment="Stretch" Height="40"                             
                                   >
                        <!--<dxe:ComboBoxEdit.StyleSettings>
                            <dxe:CheckedComboBoxStyleSettings/>
                        </dxe:ComboBoxEdit.StyleSettings>-->

                        <dxe:ComboBoxEdit.Buttons>
                            <dxe:ButtonInfo IsLeft="True" GlyphKind="Custom" ButtonKind="Simple" IsDefaultButton="True" >
                                <dxe:ButtonInfo.ToolTip>
                                    <TextBlock Text="{DynamicResource PlanningDateReviewFilterToolTip}"></TextBlock>
                                </dxe:ButtonInfo.ToolTip>
                                <dxe:ButtonInfo.ContentTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>



                                            <Image Style="{StaticResource ImageStyle}" Grid.Column="0" Height="28" Width="36"/>
                                            <!--<Image Style="{DynamicResource PlanningDateReviewFilterSomeImageForDashboardStyle}" Grid.Column="0" Height="28" Width="36" Visibility="{Binding IsFilterSomeVisiblity}" />
                                            <Image Style="{DynamicResource PlanningDateReviewFilterImageForDashboardStyle}" Grid.Column="0" Height="28" Width="36" Visibility="{Binding IsFilterNotSelectedVisiblity}" />-->
                                          
                                        </Grid>
                                    </DataTemplate>
                                </dxe:ButtonInfo.ContentTemplate>
                            </dxe:ButtonInfo>
                        </dxe:ComboBoxEdit.Buttons>
                        <dxmvvm:Interaction.Triggers>
                            <dxmvvm:EventToCommand EventName="EditValueChanged" 
                                           Command="{Binding DataContext.FilterOptionEditValueChangedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}">
                                <dxmvvm:EventToCommand.CommandParameter>
                                    <Binding ElementName="filter"></Binding>
                                </dxmvvm:EventToCommand.CommandParameter>
                                
                            </dxmvvm:EventToCommand>
                            <dxmvvm:EventToCommand EventName="Loaded" Command="{Binding DataContext.FilterOptionLoadedCommand, Mode=OneTime, RelativeSource={RelativeSource AncestorType=UserControl}}">
                                <dxmvvm:EventToCommand.CommandParameter>
                                    <Binding ElementName="filter"></Binding>
                                </dxmvvm:EventToCommand.CommandParameter>
                            </dxmvvm:EventToCommand>
                        </dxmvvm:Interaction.Triggers>
                    </dxe:ComboBoxEdit>

                    
                    
                </Grid>
            </Grid>

        </Grid>

        <Grid ShowGridLines="False" Grid.Column="0" Grid.Row="2">
            <Grid.ColumnDefinitions>
                <!--<ColumnDefinition Width="300"/>-->
                <ColumnDefinition>
                    <ColumnDefinition.Style>
                        <Style TargetType="ColumnDefinition">
                            <Setter Property="Width" Value="170" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding DataContext.IsAccordionControlVisible,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="Collapsed">
                                    <Setter Property="Width" Value="0" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ColumnDefinition.Style>
                </ColumnDefinition>
                <ColumnDefinition Width="40"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <dxa:AccordionControl ItemsSource="{Binding Source={StaticResource SortedApplications}}" ChildrenSelector="{StaticResource mySelector}" ShowSearchControl="True" ExpandMode="MultipleOrNone"
                                   SelectionUnit="SubItemOrRootItem" SelectionMode="Single" RootItemExpandButtonPosition="Right" SubItemExpandButtonPosition="Right"
                                    SelectedItem="{Binding DataContext.SelectedItem,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}">


                <dxmvvm:Interaction.Triggers>

                    <dxmvvm:EventToCommand EventName="SelectedItemChanged"
                                       Command="{Binding CommandDepartmentSelection}"
                                       PassEventArgsToCommand="True">
                        <dxmvvm:EventToCommand.CommandParameter>
                            <MultiBinding Converter="{Converters:ConverterForRefresh}">
                                <Binding ElementName="scheduler" />
                                <Binding ElementName="accordionControl" Mode="TwoWay" />
                                <Binding Path="accordionControl.Count" />
                            </MultiBinding>
                        </dxmvvm:EventToCommand.CommandParameter>
                    </dxmvvm:EventToCommand>
                </dxmvvm:Interaction.Triggers>
            </dxa:AccordionControl>
            <!--toggle Button-->
            <ToggleButton Grid.Row="0" Grid.Column="1"  x:Name="expandButtonLeft" 
               Command="{Binding  DataContext.HidePanelCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}" Style="{StaticResource HideButtonStyleLeft}" IsChecked="True" >
            </ToggleButton>
            <Grid Grid.Row="0" Grid.Column="2" >
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <!--<Grid Grid.Row="1" ShowGridLines="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">-->
                    <!--Start GEOS2-4156 Schedular-->
                <Grid Grid.Row="0" Grid.Column="0" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="40" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <!-- Search OT-->
                    <Grid HorizontalAlignment="Right"  Grid.Row="0" >
                        <Grid.RowDefinitions>
                            <!--<RowDefinition Height="40" />-->
                            <RowDefinition Height="40" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="80*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="70*"/>
                            <ColumnDefinition Width="50*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="5"/>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        
                        <dxe:TextEdit NullText="Search" IsTabStop="False" Text="{Binding DataContext.SearchOTItem ,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}"     Grid.Row="0" Grid.Column="7" Height="25" FontSize="14"  Width="188" HorizontalAlignment="Right">

                        </dxe:TextEdit>

                        <Button Content=" " Grid.Row="0" Grid.Column="9" Height="25" Width="25" HorizontalAlignment="Left"
                             Command="{Binding SearchOTCommand}" >
                            <Button.ToolTip>
                                <TextBlock Text="{DynamicResource SearchOTToolTip}"/>
                            </Button.ToolTip>
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <Image Style="{ DynamicResource ERMSerachOTButtonImageStyle}"  Height="18" Width="18" Margin="-10"/>
                                    
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </Button>
                    </Grid>
                    <!-- End Search OT-->
                    <Grid Grid.Row="1">
                        
                    <UIHelper:PlanningSchedulerControl x:Name="scheduler" AllowInplaceEditor="False" FocusManager.IsFocusScope="True"
                                         AllowAppointmentResize="False" ShowBorder="True" 
                                         FlyoutContentTemplate="{StaticResource appointmentFlyoutContentTemplate}" 
                                         Grid.Row="0" Grid.Column="0" AllowAppointmentEdit="True" CommandBarStyle="Empty"
                                         AllowAppointmentDrag="True"  AllowDrop="True" AllowAppointmentCreate="False" 
                                        Margin="0 10 0 0" ShowDateNavigationPanel="True"  >

                           
                    <!--AppointmentLabelsSource="{Binding LabelItems}"-->
                            
                    <dxsch:SchedulerControl.DataSource>
                        <dxsch:DataSource x:Name="source" 
                                            AppointmentLabelsSource="{Binding LabelItems}"  
                                      AppointmentsSource="{Binding AppointmentItems,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}">
                            <dxsch:DataSource.AppointmentMappings>
                                <dxsch:AppointmentMappings
                                                       Description="Description"
                                                       End="EndDate"
                                                       LabelId="Label"
                                                       Start="StartDate"
                                                       Subject="Subject"
                                                       ResourceId="ResourceIDs"
                                                       >
                                    <dxsch:CustomFieldMapping Mapping="OriginPlant" Name="OriginPlant" />
                                    <dxsch:CustomFieldMapping Mapping="DeliveryDate" Name="DeliveryDate" />
                                    <dxsch:CustomFieldMapping Mapping="Template" Name="Template" />
                                    <dxsch:CustomFieldMapping Mapping="NumItem" Name="NumItem" />
                                    <dxsch:CustomFieldMapping Mapping="QTY" Name="QTY" />
                                    <dxsch:CustomFieldMapping Mapping="Type" Name="Type" />
                                    <dxsch:CustomFieldMapping Mapping="LastUpdate" Name="LastUpdate" />
                                    <dxsch:CustomFieldMapping Mapping="ContentSubject" Name="ContentSubject" />
                                    <dxsch:CustomFieldMapping Mapping="IsPlannedDeliveryDate" Name="IsPlannedDeliveryDate" />
                                    <dxsch:CustomFieldMapping Mapping="PlanningDeliveryDate" Name="PlanningDeliveryDate" />
                                    <dxsch:CustomFieldMapping Mapping="CurrentWorkStation" Name="CurrentWorkStation" />
                                    <dxsch:CustomFieldMapping Mapping="StartDate" Name="StartDate" />
                                    <dxsch:CustomFieldMapping Mapping="EndDate" Name="EndDate" />
                                    <dxsch:CustomFieldMapping Mapping="IsHolidayData" Name="IsHolidayData" />
                                    <dxsch:CustomFieldMapping Mapping="IsHolidayDate" Name="IsHolidayDate" />
                                    <dxsch:CustomFieldMapping Mapping="Customer" Name="Customer" />
                                    <dxsch:CustomFieldMapping Mapping="Project" Name="Project" />
                                     <dxsch:CustomFieldMapping Mapping="TotalQTY" Name="TotalQTY" />
                                            <dxsch:CustomFieldMapping Mapping="Real" Name="Real" />
                                            <dxsch:CustomFieldMapping Mapping="Expected" Name="Expected" />
                                            <dxsch:CustomFieldMapping Mapping="IdOT" Name="IdOT" />
                                    <dxsch:CustomFieldMapping Mapping="IdCounterpart" Name="IdCounterpart" />
                                            <dxsch:CustomFieldMapping Mapping="IdSite" Name="IdSite" /> <!--[GEOS2-5319][gulab lakade][2024-11-15]-->


                                        </dxsch:AppointmentMappings>
                                <!--<dxsch:CustomFieldMapping Mapping="StartDate" Name="StartDate" />
                               
                                <dxsch:CustomFieldMapping Mapping="EndDate" Name="EndDate" />
                                <dxsch:CustomFieldMapping Mapping="IsHolidayData" Name="IsHolidayData" />
                                <dxsch:CustomFieldMapping Mapping="IsHolidayDate" Name="IsHolidayDate" />-->

                            </dxsch:DataSource.AppointmentMappings>


                            <dxsch:DataSource.AppointmentLabelMappings>
                                <dxsch:AppointmentLabelMappings Caption="Caption" Id="Id">
                                    <dxsch:AppointmentLabelMappings.Color>
                                        <dxsch:Mapping ConversionBehavior="InPlaceOfMapping" Converter="{dxmvvm:BrushToColorConverter}" FieldName="Color" />
                                    </dxsch:AppointmentLabelMappings.Color>
                                </dxsch:AppointmentLabelMappings>
                            </dxsch:DataSource.AppointmentLabelMappings>
                            <dxsch:DataSource.AppointmentStatusMappings>
                                <dxsch:AppointmentStatusMappings Caption="Caption" Id="Id" Brush="Brush" />
                            </dxsch:DataSource.AppointmentStatusMappings>
                        </dxsch:DataSource>
                       
                    </dxsch:SchedulerControl.DataSource>
                    <dxsch:MonthView Name="view"
                             CellContentTemplate="{StaticResource cellTemplate}"
                             
                             AppointmentStyle="{StaticResource aptStyle}"
                           AppointmentContentTemplate="{StaticResource appointmentContentTemplate}"
                             WeekCount="5" NavigationButtonsVisibility="Never">
                    </dxsch:MonthView>
                            <dxsch:TimelineView NavigationButtonsVisibility="Never" 
                                AppointmentStyle="{StaticResource aptStyle}"
                                AppointmentContentTemplate="{StaticResource appointmentContentTemplate}">
                                <dxsch:TimelineView.TimeScales>
                                    <dxsch:TimeScaleDay />
                                </dxsch:TimelineView.TimeScales>
                            </dxsch:TimelineView>
                            <dxmvvm:Interaction.Triggers>
                        <dxmvvm:EventToCommand EventName="Loaded"
                                            Command="{Binding DefaultLoadCommand}" 
                                            PassEventArgsToCommand="True" />
                        <dxmvvm:EventToCommand EventName="MouseUp"
                                            Command="{Binding SelectedIntervalCommand}" 
                                            PassEventArgsToCommand="True" />
                        <dxmvvm:EventToCommand EventName="VisibleIntervalsChanged"
                                            Command="{Binding scheduler_VisibleIntervalsChangedCommand}" PassEventArgsToCommand="True"
                                            >
                               <dxmvvm:EventToCommand.CommandParameter>
                            <MultiBinding Converter="{Converters:ConverterForRefresh}">
                                <Binding ElementName="scheduler" />
                                <Binding ElementName="accordionControl" />
                            </MultiBinding>
                            
                        </dxmvvm:EventToCommand.CommandParameter>
                    </dxmvvm:EventToCommand>
                       
                       <dxmvvm:EventToCommand Command="{Binding DataContext.AppointmentDropCommand,RelativeSource={RelativeSource AncestorType=UserControl}}" EventName="AppointmentDrop"  PassEventArgsToCommand="True" >
                        </dxmvvm:EventToCommand>
                       <dxmvvm:EventToCommand EventName="PopupMenuShowing"
                                            Command="{Binding DataContext.PopupMenuShowingCommand,RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                            PassEventArgsToCommand="True" />
                        <dxmvvm:EventToCommand EventName="AppointmentWindowShowing"
                                            Command="{Binding DisableAppointmentCommand}" 
                                            PassEventArgsToCommand="True" />
                       </dxmvvm:Interaction.Triggers>
                </UIHelper:PlanningSchedulerControl>
                    </Grid>
               </Grid>
                <!-- End GEOS2-4156 Schedular-->
                <!--</Grid>-->

                <dxg:GridControl x:Name="dxgGridControl1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="4"
                         ItemsSource="{Binding DataContext.ProductionPlanningReviewList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}" SelectionMode="Cell"
                     
                         ImplyNullLikeEmptyStringWhenFiltering="True" AllowLiveDataShaping="True" 
                         Visibility="{Binding IsGridViewVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                
                                 >
                                <!--TotalSummarySource="{Binding Path=TotalSummary}"
                                 TotalSummaryGeneratorTemplate="{StaticResource SummaryTemplateQTY}"-->
                                <dxg:GridColumn Header="{DynamicResource DeliveryWeek}" FieldName="DeliveryWeek" FilterPopupMode="CheckedList" Width="110" FixedWidth="True" ReadOnly="True"  />
                    <!--ShowInColumnChooser="True"-->
                                <dxg:GridColumn Header="{DynamicResource DeliveryDate}" FieldName="DeliveryDate" FilterPopupMode="CheckedList" Width="120" FixedWidth="True" ReadOnly="True"  >
                        <!--ShowInColumnChooser="True"-->

                        <dxg:GridColumn.CellTemplate>

                                        <DataTemplate>

                                            <Border Background="{Binding Data.DeliveryDateHtmlColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                <dxe:TextEdit   Name="PART_Editor" Margin="0 0 0 0" MaskType="DateTime"   MaskShowPlaceHolders="False" ValidateOnTextInput="False" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  ShowBorder="False"
                                                                                          Mask="d"  MaskUseAsDisplayFormat="True"  Foreground="Black">

                                                </dxe:TextEdit>
                                            </Border>
                                        </DataTemplate>
                           
                        </dxg:GridColumn.CellTemplate>
                      
                        <dxg:GridColumn.EditSettings>
                                        <dxe:DateEditSettings  MaskType="DateTime" Mask="d" MaskUseAsDisplayFormat="True" ></dxe:DateEditSettings>
                                    </dxg:GridColumn.EditSettings>
                                

                                </dxg:GridColumn>
                                <dxg:GridColumn Header="{DynamicResource OTCode}" FieldName="OTCode" FilterPopupMode="CheckedList" Width="220" FixedWidth="True" ReadOnly="True" />
                    <!--ShowInColumnChooser="True"-->
                                <dxg:GridColumn Header="{DynamicResource OriginPlant}" FieldName="OriginalPlant" Width="130" FixedWidth="True" ColumnFilterMode="DisplayText" FilterPopupMode="CheckedList" ReadOnly="True"  />
                    <!--ShowInColumnChooser="True"-->
                                <dxg:GridColumn Header="{DynamicResource ProductionPlant}" FieldName="ProductionPlant" Width="130" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True"  />
                    <!--ShowInColumnChooser="True"-->
                                <dxg:GridColumn Header="{DynamicResource Template}" FieldName="Template" Width="130" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" />
                    <!--ShowInColumnChooser="True"-->
                    <dxg:GridColumn Header="{DynamicResource Type}" FieldName="Type" Width="180" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" /> <!--ShowInColumnChooser="True"-->
                    <dxg:GridColumn Header="{DynamicResource ItemNumber}" FieldName="NumItem" Width="100" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True"  /> <!--ShowInColumnChooser="True"-->
                    

                    <dxg:GridColumn Header="{DynamicResource Qty}" FieldName="QTY" Width="50" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True" /> <!--ShowInColumnChooser="True"-->
                    <dxg:GridColumn Header="{DynamicResource CurrentWorkStation}" FieldName="CurrentWorkStation" Width="150" FixedWidth="True" FilterPopupMode="CheckedList" ReadOnly="True"  />

                    <dxg:GridColumn Header="{DynamicResource PlanDeliveryDate}" FieldName="PlanningDeliveryDate" Width="150" FixedWidth="True" FilterPopupMode="Default" ReadOnly="False" IsEnabled="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsEditProductionPlanPermissionERM}" >    <!--ShowInColumnChooser="True"-->
                        <dxg:GridColumn.CellTemplate>

                                        <DataTemplate>

                            
                                <dxe:DateEdit Name="PART_Editor" Margin="0 0 0 0" MaskType="DateTime"   MaskShowPlaceHolders="False" ValidateOnTextInput="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ShowBorder="False"
                                                                                          Mask="d"  MaskUseAsDisplayFormat="True" IsEnabled="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsEditProductionPlanPermissionERM}" >
                                               <dxe:TextEdit.Style>
                                                <Style TargetType="dxe:TextEdit">
                                            <Setter Property="dxp:ExportSettings.TargetType" Value="Panel" />
                                            <Setter Property="IsEnabled" Value="True"/>
                                                    <Style.Triggers>
                                                            <DataTrigger Binding="{Binding RowData.Row.PlanningDeliveryDate}" >
                                                    <Setter Property="IsEnabled" Value="False"/>
                                                </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                                </dxe:TextEdit.Style>

                                            </dxe:DateEdit>
                                           
                                        </DataTemplate>
                                    </dxg:GridColumn.CellTemplate>
                                    <dxg:GridColumn.EditSettings>
                                        <dxe:DateEditSettings  MaskType="DateTime" Mask="d" MaskUseAsDisplayFormat="True" ></dxe:DateEditSettings>
                                    </dxg:GridColumn.EditSettings>


                                </dxg:GridColumn>

                   
                    <dxmvvm:Interaction.Behaviors>
                                    <UIHelper:GridSelectingBehavior />
                                     
                                </dxmvvm:Interaction.Behaviors>


                                
                    <dxg:GridControl.TotalSummary>
                        <dxg:GridSummaryItem x:Name="summary" FieldName="DeliveryWeek"  SummaryType="Count"  DisplayFormat="Total: {0}" Visible="True" />

                        <dxg:GridSummaryItem x:Name="summary1" FieldName="QTY" ShowInColumn="QTY" SummaryType="Sum" DisplayFormat=" {0}" Visible="True" />
                       
                    </dxg:GridControl.TotalSummary>
                                <dxg:GridControl.View>
                        <dxg:TableView x:Name="PlanningDateReviewTableView"
                                NavigationStyle="Cell"
                                RowDetailsVisibilityMode="Visible"
                                ShowHorizontalLines="True"
                                ShowSearchPanelMode="Always"
                                ShowColumnHeaders="True"
                                VerticalScrollbarVisibility="Auto" 
                                HorizontalScrollbarVisibility="Auto"
                                AllowFixedColumnMenu="False"
                                ShowFixedTotalSummary="True" 
                                ShowTotalSummary="True"
                                SearchPanelHorizontalAlignment="Stretch"
                                ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                AllowGrouping="True"
                                ShowGroupedColumns="True"
                                SummariesIgnoreNullValues="True"
                                SummaryCalculationMode="AllRows"
                                 
                                ShowGroupPanel="False"
                              
                                AllowPerPixelScrolling="True"
                                UIHelper:PlanningDateReviewCellEditHelper.IsEnabled="True"
                                FocusedRow="{Binding Path=SelectedAttendanceRecord,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                ShowIndicator="False" AutoWidth="True"
                                GroupSummaryDisplayMode="AlignByColumns" 
                                SearchString="{Binding MyFilterString,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                            <!--ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"  IsColumnChooserVisible="True"-->
                            <dxg:TableView.Resources>
                                <DataTemplate x:Key="AttendanceReportPrintHeaderTemplate">
                                    <Grid Width="{Binding UsablePageWidth}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="50" />
                                            <ColumnDefinition Width="130" />
                                        </Grid.ColumnDefinitions>
                                        <dxe:TextEdit Text=" " Width="{Binding UsablePageWidth}" Grid.ColumnSpan="3" IsPrintingMode="True" Background="#333E5E" HorizontalAlignment="Stretch" 
                                              VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold" Height="50" />
                                        <dxe:TextEdit Text="Attendance Report" IsPrintingMode="True" HorizontalAlignment="Stretch" 
                                              VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold" />
                                        <Image Source="/Emdep.Geos.Modules.Hrm;component/Assets/Images/GeosReportLogo.png" Height="50" Width="80" dxp:ExportSettings.TargetType="Image" Grid.Column="2" />
                                    </Grid>
                                </DataTemplate>

                                <DataTemplate x:Key="AttendanceReportPrintFooterTemplate">
                                    <dxe:TextEdit HorizontalContentAlignment="Center" 
                                            Width="{Binding Path=UsablePageWidth, Mode=OneWay}" 
                                            dxp:ExportSettings.TargetType="PageNumber" 
                                            dxp:PageNumberExportSettings.Kind="NumberOfTotal" 
                                            dxp:PageNumberExportSettings.Format="Page {0} of {1}" />
                                </DataTemplate>

                            </dxg:TableView.Resources>

                                        <dxmvvm:Interaction.Behaviors>
                                            <!--<dxmvvm:EventToCommand Command="{Binding TableViewLoadedCommand}"
                                                   EventName="Loaded"
                                                   PassEventArgsToCommand="True" />-->

                                <dxmvvm:EventToCommand Command="{Binding DataContext.ShowPlanningDateValidationCommand,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}" EventName="CellValueChanging" CommandParameter="{Binding RowData.Row,ElementName=PlanningDateReviewTableView}" PassEventArgsToCommand="True" >
                                            </dxmvvm:EventToCommand>
                                            <!--<dxmvvm:EventToCommand Command="{Binding EditAttendanceGridDoubleClickCommand}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=AttendanceTableView}">

                                    <dxmvvm:EventToCommand.EventArgsConverter>
                                        <dx:EventArgsToDataRowConverter />
                                    </dxmvvm:EventToCommand.EventArgsConverter>
                                </dxmvvm:EventToCommand>-->
                                <dxmvvm:EventToCommand Command="{Binding DataContext.CellValueUpdatedCommnadCommand,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=UserControl}}" CommandParameter="{Binding RowData.Row,ElementName=PlanningDateReviewTableView}" EventName="CellValueChanging" PassEventArgsToCommand="True" >
                                </dxmvvm:EventToCommand>
                                <dxmvvm:EventToCommand EventName="ShowFilterPopup"
                                               Command="{Binding CustomShowFilterPopupCommand}"
                                               PassEventArgsToCommand="True" />
                            </dxmvvm:Interaction.Behaviors>

                        </dxg:TableView>
                    </dxg:GridControl.View>

                </dxg:GridControl>


            </Grid>
           
        </Grid>
    </DockPanel>
</UserControl>
