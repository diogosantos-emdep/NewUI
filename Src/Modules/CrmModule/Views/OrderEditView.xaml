<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.Crm.Views.OrderEditView"
                        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                        xmlns:local="clr-namespace:Emdep.Geos.Modules.Crm.Views"
                        xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
                        xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                        xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
                        xmlns:ViewModels="clr-namespace:Emdep.Geos.Modules.Crm.ViewModels"
                        xmlns:Views="clr-namespace:Emdep.Geos.Modules.Crm.Views"
                        xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
                        xmlns:cmd="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                        xmlns:xtraControl="clr-namespace:DevExpress.XtraEditors.Controls;assembly=DevExpress.Data.v19.2"
                        xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                        xmlns:xtraEditor="clr-namespace:DevExpress.Utils;assembly=DevExpress.Data.v19.2"
                        xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
                        xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
                        xmlns:Validation="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
                        xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
                        xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
                        xmlns:dxefl="clr-namespace:DevExpress.Xpf.Editors.Flyout.Native;assembly=DevExpress.Xpf.Core.v19.2"
                        xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
                        xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
                        xmlns:ve="http://schemas.devexpress.com/winfx/2008/xaml/docking/visualelements"
                        xmlns:Behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
                        xmlns:dxwuin="http://schemas.devexpress.com/winfx/2008/xaml/windowsui/navigation"
                        xmlns:sys="clr-namespace:System;assembly=mscorlib"
                        xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
                        xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
                        mc:Ignorable="d"
                        Height="{Binding SystemParameters.PrimaryScreenHeight}" 
                        Width="{Binding SystemParameters.PrimaryScreenWidth}"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        HorizontalContentAlignment="Stretch"
                        VerticalContentAlignment="Stretch"
                        Title="{Binding LeadsEditViewTitle,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                        TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}"
                        xmlns:dxre="http://schemas.devexpress.com/winfx/2008/xaml/richedit"
                        Template="{StaticResource Maximized_DXDialogWindow}"
                        Style="{DynamicResource WinUIDialogWindowStyle}">

    <!--[GEOS2-1931][28.12.2022][rdixit] Updated Design to make Layout responsive windows-->
    <dxmvvm:Interaction.Behaviors>
        <dxmvvm:SaveFileDialogService Title="Save Excel Report" />
    </dxmvvm:Interaction.Behaviors>

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding OrderEditViewCancelButtonCommand}" />
    </dxwui:WinUIDialogWindow.InputBindings>

    <dxwui:WinUIDialogWindow.Resources>
        <dxmvvm:BooleanNegationConverter x:Key="BooleanNegationConverter" />
        <UIConverter:DateFormatConverter x:Key="DateFormatConverter" />
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <dxre:PlainTextToContentConverter x:Key="PlainTextToContentConverter" />
        <dxre:RtfToContentConverter x:Key="rtfToContentConverter" />

        <sys:String x:Key="ShortDateTimeFormat">dd/MM/yyyy hh:mm tt</sys:String>
        <sys:String x:Key="ShortTimeFormat">hh:mm tt</sys:String>
        <sys:String x:Key="ShortDateFormat">dd/MM/yyyy</sys:String>

        <ControlTemplate x:Key="popupContentTemplate">
            <dxg:GridControl x:Name="PART_GridControl" AutoExpandAllGroups="True" ImplyNullLikeEmptyStringWhenFiltering="True">
                <dxg:GridControl.Columns>
                    <dxg:GridColumn FieldName="Name" Header="Name" FilterPopupMode="CheckedList" />
                    <dxg:GridColumn FieldName="CarOEM.Name" Header="OEM" FilterPopupMode="CheckedList" />
                    <dxg:GridColumn FieldName="CreationDate" Header="Creation Date" FilterPopupMode="CheckedList" />
                </dxg:GridControl.Columns>
                <dxg:GridControl.View>
                    <dxg:TableView Name="View"
                        ShowGroupedColumns="True"
                        AutoWidth="True"
                        ShowIndicator="False"
                        AllowPerPixelScrolling="True"
                        ScrollAnimationDuration="0"
                        ShowAutoFilterRow="True"
                        ShowTotalSummary="False"
                        IsSynchronizedWithCurrentItem="False"
                        SearchPanelHorizontalAlignment="Stretch"
                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly">
                    </dxg:TableView>
                </dxg:GridControl.View>
            </dxg:GridControl>
        </ControlTemplate>

        <Style x:Key="ApplyForeColorTextBlock" 
                TargetType="TextBlock">
            <Setter Property="UIHelper:AutoForeGroundExtension.AutoForeGround" Value="True" />
        </Style>

        <Style x:Key="myGroupBoxStyle" TargetType="{x:Type dxlc:GroupBox}">
            <Setter Property="MaximizeElementVisibility" Value="Visible" />
            <Setter Property="Width" Value="280" />
            <Setter Property="Height" Value="155" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding MaximizedElementPosition}" Value="Bottom">
                    <Setter Property="Width" Value="280" />
                    <Setter Property="Height" Value="27" />
                </DataTrigger>
                <DataTrigger Binding="{Binding MaximizedElementPosition}" Value="Top">
                    <Setter Property="Width" Value="280" />
                    <Setter Property="Height" Value="27" />
                </DataTrigger>
            </Style.Triggers>

        </Style>

        <Style TargetType="{x:Type dxdo:LayoutPanel}">
            <Setter Property="AllowClose" Value="False" />
        </Style>

        <dxmvvm:ObjectToObjectConverter x:Key="NodeLevelValueToBooleanConverter" DefaultTarget="False">
            <dxmvvm:MapItem Source="0" Target="True" />
        </dxmvvm:ObjectToObjectConverter>
        <Style TargetType="{x:Type ve:AutoHideTray}">
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <ve:psvStackPanel HorizontalAlignment="Right" />
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ActivityTypeImage" TargetType="{x:Type Image}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1">
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyleInvert}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="2">
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeCallImageStyleInvert}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="3">
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeEmailImageStyleInvert}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="4">
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeTaskImageStyleInvert}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="5">
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyleInvert}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="6">
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypePlannedAppointmentImageStyleInvert}" />
                </DataTrigger>

                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyleInvert}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyleInvert}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource AcitvityTypeAppointmentImageStyleInvert}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="2" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeCallImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="2" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeCallImageStyleInvert}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="3" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeEmailImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="3" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeEmailImageStyleInvert}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="4" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeTaskImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="4" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeTaskImageStyleInvert}" />
                </MultiDataTrigger>

                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="5" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="5" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyleInvert}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="6" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypePlannedAppointmentImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="6" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypePlannedAppointmentImageStyleInvert}" />
                </MultiDataTrigger>

            </Style.Triggers>
        </Style>
        <!--chitra GEOS2-3804 20/05/2024-->
        <!--Type Icons-->
        <Style x:Key="ActionTypeImage" TargetType="{x:Type Image}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="271">
                    <Setter Property="Image.Source" Value="{DynamicResource ActionTypeActionImageStyleInvert}" />
                </DataTrigger>
                <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="272">
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyleInvert}" />
                </DataTrigger>

                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="271" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActionTypeActionImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="271" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActionTypeActionImageStyleInvert}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="272" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyle}" />
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="272" />
                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyleInvert}" />
                </MultiDataTrigger>
            </Style.Triggers>
        </Style>

        <!--Done Status-->
        <Style x:Key="ActionStatusImage" TargetType="{x:Type Image}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding RowData.Row.ActivityGridStatus}" Value="Done">
                    <Setter Property="Image.Source" Value="{DynamicResource ActivityCompletedStyle}" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </dxwui:WinUIDialogWindow.Resources>

    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">

        <cmd:Interaction.Triggers>
            <cmd:EventToCommand Command="{Binding DataContext.CustomNodeFilterCommand, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                EventName="CustomNodeFilter"
                PassEventArgsToCommand="True"
                SourceObject="{Binding ElementName=treeListView1}" />
        </cmd:Interaction.Triggers>

        <Grid ShowGridLines="False" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="5" />
                <RowDefinition Height="45" />
            </Grid.RowDefinitions>
                     
          
                    <dxlc:FlowLayoutControl x:Name="flowLayoutControl"
                                    Orientation="Vertical"
                                    ItemSpace="5" 
                                            Grid.Row="0"
                                    HorizontalAlignment="Stretch"
                                    LayerSpace="5" 
                                    Background="Transparent" 
                                    AllowMaximizedElementMoving="False" 
                                    BreakFlowToFit="False"
                                    Padding="5"
                                    MaximizedElementPosition="Right"
                                    StretchContent="True">
                        <dxmvvm:Interaction.Behaviors>
                            <UIHelper:FlowLayoutControlForMinimiseMaximise />
                        </dxmvvm:Interaction.Behaviors>

                        <dxlc:GroupBox x:Name="Information" Selector.IsSelected="True" HorizontalAlignment="Stretch" Style="{StaticResource myGroupBoxStyle}">
                            <dxlc:GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <DockPanel Margin="-5,0,0,0">
                                        <TextBlock Margin="0,0,0,0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource LeadsEditViewInformation}" />
                                        <dxe:TextEdit FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center" ShowBorder="False" IsReadOnly="True">
                                            <Binding Path="DataContext.InformationError" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                                <Binding.ValidationRules>
                                                    <Validation:RequiredValidationRule FieldName="InformationError" ValidationStep="UpdatedValue" />
                                                </Binding.ValidationRules>
                                            </Binding>
                                        </dxe:TextEdit>
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.HeaderTemplate>
                            <!--<dxlc:GroupBox.HeaderTemplate>
                        <DataTemplate>
                            <DockPanel Margin="-5,0,0,0">
                                -->
                            <!--<Image Style="{DynamicResource InformationImageStyle}"
                                     Width="24" Height="24" HorizontalAlignment="Left"/>-->
                            <!--
                                <TextBlock Margin="5,0,0,0"
                                            VerticalAlignment="Center"
                                            FontWeight="Bold"
                                            Text="{DynamicResource LeadsEditViewInformation}" />
                            </DockPanel>
                        </DataTemplate>
                    </dxlc:GroupBox.HeaderTemplate>-->
                            <dxlc:GroupBox.ContentTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="30" />
                                            <RowDefinition Height="*" />
                                        </Grid.RowDefinitions>
                                        <Label Grid.Row="0"
                                        Grid.Column="0"
                                        Margin="2"
                                        Content="{DynamicResource LeadsEditViewCode}"
                                        FontWeight="Bold"
                                        Padding="2" />
                                        <TextBlock Grid.Row="0"
                                            Grid.Column="1"
                                            Margin="2"
                                            Padding="2"
                                            Text="{Binding DataContext.OfferCode, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                        <Label Grid.Row="1"
                                        Grid.Column="0"
                                        Margin="2"
                                        Content="{DynamicResource LeadsEditViewCustomer}"
                                        FontWeight="Bold"
                                        Padding="2" />
                                        <TextBlock Grid.Row="1"
                                            Grid.Column="1"
                                            Margin="2"
                                            Padding="2"
                                            Text="{Binding DataContext.CompanyName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                            TextWrapping="Wrap"
                                           />
                                        <Label Grid.Row="2"
                                        Grid.Column="0"
                                        Margin="2"
                                        Content="{DynamicResource LeadsEditViewDescription}"
                                        FontWeight="Bold"
                                        Padding="2" />
                                        <TextBlock Grid.Row="2"
                                            Grid.Column="1"
                                            Margin="2"
                                            Padding="2"
                                            Text="{Binding DataContext.Description, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                            TextWrapping="Wrap"
                                           />
                                    </Grid>
                                </DataTemplate>
                            </dxlc:GroupBox.ContentTemplate>
                            <dxlc:GroupBox.MaximizedContentTemplate>
                                <DataTemplate>
                                    <!-- Start Grid -->
                                    <ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Auto">
                                        <Grid x:Name="GridGroup" ShowGridLines="False" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="5" />
                                                <RowDefinition Height="40" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="60" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="0" />

                                                <RowDefinition>
                                                    <RowDefinition.Style>
                                                        <Style TargetType="RowDefinition">
                                                            <Setter Property="RowDefinition.Height" Value="0" />
                                                            <Style.Triggers>
                                                                <DataTrigger Value="True" Binding="{Binding  DataContext.GridRowHeightForRfq,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="35" />
                                                                </DataTrigger>
                                                                <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForRfq,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="0" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </RowDefinition.Style>
                                                </RowDefinition>
                                                <RowDefinition>
                                                    <RowDefinition.Style>
                                                        <Style TargetType="RowDefinition">
                                                            <Setter Property="RowDefinition.Height" Value="0" />
                                                            <Style.Triggers>
                                                                <DataTrigger Value="True" Binding="{Binding  DataContext.GridRowHeightForRfq,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="35" />
                                                                </DataTrigger>
                                                                <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForRfq,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="0" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </RowDefinition.Style>
                                                </RowDefinition>
                                                <RowDefinition>
                                                    <RowDefinition.Style>
                                                        <Style TargetType="RowDefinition">
                                                            <Setter Property="RowDefinition.Height" Value="0" />
                                                            <Style.Triggers>
                                                                <DataTrigger Value="True" Binding="{Binding  DataContext.GridRowHeightForQuoteSent,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="35" />
                                                                </DataTrigger>
                                                                <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForQuoteSent,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="0" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </RowDefinition.Style>
                                                </RowDefinition>
                                                <RowDefinition>
                                                    <RowDefinition.Style>
                                                        <Style TargetType="RowDefinition">
                                                            <Setter Property="RowDefinition.Height" Value="0" />
                                                            <Style.Triggers>
                                                                <DataTrigger Value="True" Binding="{Binding  DataContext.GridRowHeightForDiscount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="35" />
                                                                </DataTrigger>
                                                                <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForDiscount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="0" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </RowDefinition.Style>
                                                </RowDefinition>
                                                <RowDefinition>
                                                    <RowDefinition.Style>
                                                        <Style TargetType="RowDefinition">
                                                            <Style.Triggers>
                                                                <DataTrigger Value="True" Binding="{Binding  DataContext.GridRowHeight,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="35" />
                                                                </DataTrigger>
                                                                <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeight,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                    <Setter Property="RowDefinition.Height" Value="0" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </RowDefinition.Style>
                                                </RowDefinition>
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />
                                                <RowDefinition Height="35" />

                                                <!--<RowDefinition Height="35"/>-->
                                                <!--<RowDefinition Height="70"/>-->
                                            </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="180*" />
                                            <ColumnDefinition Width="250*" />
                                            <ColumnDefinition Width="40*" />
                                            <ColumnDefinition Width="150*" />
                                            <ColumnDefinition Width="200*" />
                                            <ColumnDefinition Width="150*" />
                                        </Grid.ColumnDefinitions>
                                        <Label Grid.Column="5"
                                        Grid.Row="1"                                  
                                        HorizontalAlignment="Left"
                                        Content="" />
                                 
                                        <Label Grid.Column="0"
                                        Grid.Row="1"                                  
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsEditViewStatus}" />
                                            <UIHelper:MyComboBoxEdit Grid.Column="1"
                                                                Grid.Row="1"
                                                                Grid.ColumnSpan="1"
                                                                Margin="0,5,0,0"
                                                                Height="30"
                                                                HorizontalAlignment="Stretch"
                                                                VerticalAlignment="Top"
                                                                ApplyItemTemplateToSelectedItem="True"
                                                                DisplayMember="Status"
                                                                EditValue="{Binding DataContext.SelectedGeosStatus, Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}"
                                                                IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                                IsSynchronizedWithCurrentItem="True"
                                                                IsTextEditable="False"
                                                                ItemsSource="{Binding DataContext.GeosStatusList, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                                SelectedItem="{Binding DataContext.SelectedGeosStatus, Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}">
                                                <dxe:ComboBoxEdit.ItemContainerStyle>
                                                    <Style TargetType="dxe:ComboBoxEditItem">
                                                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                                        <Setter Property="IsEnabled" Value="{Binding IsEnabled}" />
                                                    </Style>
                                                </dxe:ComboBoxEdit.ItemContainerStyle>
                                                <dxe:ComboBoxEdit.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border Margin="2,0,0,0"
                                                    Background="{Binding HtmlColor}"
                                                    BorderBrush="{Binding ColorName}"
                                                    Padding="2">
                                                            <TextBlock Margin="2,0,0,0"
                                                        HorizontalAlignment="Center"
                                                        Foreground="Black"
                                                        Padding="2"
                                                        Text="{Binding Name}" />
                                                        </Border>
                                                    </DataTemplate>
                                                </dxe:ComboBoxEdit.ItemTemplate>
                                                <dxe:ComboBoxEdit.EditNonEditableTemplate>
                                                    <ControlTemplate>
                                                        <Border Margin="2,2,2,2"
                                                        Background="{Binding EditValue.HtmlColor}"
                                                        BorderBrush="{Binding EditValue.ColorName}">
                                                            <TextBlock HorizontalAlignment="Center"
                                                                Foreground="Black"
                                                                Text="{Binding EditValue.Name}" />
                                                        </Border>
                                                    </ControlTemplate>
                                                </dxe:ComboBoxEdit.EditNonEditableTemplate>
                                            </UIHelper:MyComboBoxEdit>
                                            <Border Grid.Column="0"
                                            Grid.Row="1"
                                            Margin="0 0 10 0"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center">
                                                <ContentControl>
                                                    <Image x:Name="LostStatus"
                                                    Width="20"
                                                    Height="20"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Top"
                                                    DataContext="{Binding DataContext,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    Style="{DynamicResource LostStatusButtonImageStyle}"
                                                    Visibility="{Binding DataContext.VisibilityLost,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                        <Image.ToolTip>
                                                            <StackPanel>
                                                                <!--<Image  Style="{DynamicResource LostStatusButtonImageStyle}" Width="16" Height="16" HorizontalAlignment="Left"/>-->
                                                                <TextBlock HorizontalAlignment="Stretch" Text="{DynamicResource LeadLostStatus}" />
                                                                <!--<Image Source="/Emdep.Geos.Modules.Crm;component/Assets/Images/pushpin.png" Width="16" Height="16" HorizontalAlignment="Left"/>
                                                    <TextBlock Text="{Binding DataContext.ShowStatusDescription, RelativeSource={RelativeSource Self}}" HorizontalAlignment="Stretch"/>-->
                                                            </StackPanel>
                                                        </Image.ToolTip>
                                                    </Image>
                                                    <dxmvvm:Interaction.Behaviors>
                                                        <dxmvvm:EventToCommand Command="{Binding DataContext.LostOpportunityWindowCommand , RelativeSource={RelativeSource AncestorType=Window}}"
                                                                        EventName="MouseDoubleClick"
                                                                        PassEventArgsToCommand="True" />
                                                    </dxmvvm:Interaction.Behaviors>
                                                </ContentControl>
                                            </Border>
                                            <Label Grid.Row="0"
                                        Grid.Column="0"
                                        Grid.ColumnSpan="2"
                                        Margin="0,-50,0,0"
                                        Width="213"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Top"
                                        FontWeight="Bold"
                                        Style="{DynamicResource LabelTitleStyle}" />
                                            <Label Grid.Column="0"
                                        Grid.Row="2"
                                        Content="Code" />
                                            <DockPanel Grid.Column="1" Grid.Row="2">
                                                <dxe:ComboBoxEdit Width="110"
                                            Height="25"
                                            VerticalAlignment="Top"
                                            DisplayMember="Name"
                                            IsEnabled="False"
                                            IsTextEditable="False"
                                            ItemsSource="{Binding DataContext.OfferTypeList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                            SelectedIndex="{Binding DataContext.SelectedIndexOfferType,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                            ValueMember="IdOfferType" />
                                                <dxe:TextEdit Margin="5,0,0,0"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Top"
                                            IsReadOnly="True"
                                            Text="{Binding DataContext.OfferCode, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                            </DockPanel>
                                            <Label Grid.Column="0"
                                        Grid.Row="3"
                                        Content="{DynamicResource LeadsEditViewCompanyGroup}" />
                                            <dxe:ComboBoxEdit x:Name="editor"
                                                        Grid.Column="1"
                                                        Grid.Row="3"
                                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        DisplayMember="CustomerName" IsTextEditable="False" 
                                                        ValidateOnTextInput="False" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        ItemsSource="{Binding DataContext.CompanyGroupList, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox} }">
                                                <!--SelectedIndex="{Binding DataContext.SelectedIndexCompanyGroup,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"-->
                                                <dxe:ComboBoxEdit.SelectedIndex>
                                                    <Binding Mode="TwoWay"
                                                        Path="DataContext.SelectedIndexCompanyGroup"
                                                        RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                        UpdateSourceTrigger="PropertyChanged"
                                                        ValidatesOnDataErrors="False">
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="SelectedIndexCompanyGroup" ValidationStep="UpdatedValue" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:ComboBoxEdit.SelectedIndex>
                                            </dxe:ComboBoxEdit>
                                            <Label Grid.Column="0"
                                        Grid.Row="4"
                                        Content="{DynamicResource LeadsEditViewCompanyPlant}" />
                                            <dxe:ComboBoxEdit Grid.Column="1"
                                                        Grid.Row="4"
                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        DisplayMember="Name"
                                        IsTextEditable="False" 
                                                        ValidateOnTextInput="False" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        ItemsSource="{Binding DataContext.CompanyPlantList,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}">
                                                <!--SelectedIndex="{Binding DataContext.SelectedIndexCompanyPlant,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"-->
                                                <dxe:ComboBoxEdit.SelectedIndex>
                                                    <Binding Mode="TwoWay"
                                                        Path="DataContext.SelectedIndexCompanyPlant"
                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                        UpdateSourceTrigger="PropertyChanged"
                                                        ValidatesOnDataErrors="False">
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="SelectedIndexCompanyPlant" ValidationStep="UpdatedValue" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:ComboBoxEdit.SelectedIndex>
                                            </dxe:ComboBoxEdit>

                                            <!--Engineering Analysis-->
                                            <Border Margin="10 0 0 0"
                                            Grid.Column="2"
                                            Grid.Row="1"
                                            HorizontalAlignment="Stretch"
                                            VerticalAlignment="Center">
                                                <ContentControl>
                                                    <Image x:Name="EngAnalysis"
                                                    Width="20"
                                                    Height="20"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Top"
                                                    DataContext="{Binding DataContext,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    Visibility="{Binding DataContext.IsEngAnalysis, Converter={UIConverter:BoolToVisibilityConverter},RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                    Style="{DynamicResource LostStatusButtonImageStyle}"
                                                    >
                                                        <Image.ToolTip>
                                                            <TextBlock HorizontalAlignment="Stretch" Text="{DynamicResource LeadsEngineeringAnalysis}" />
                                                        </Image.ToolTip>
                                                    </Image>
                                                    <dxmvvm:Interaction.Behaviors>
                                                        <dxmvvm:EventToCommand Command="{Binding DataContext.EditEngineeringAnalysisCommand , RelativeSource={RelativeSource AncestorType=Window}}"
                                                                       EventName="MouseDoubleClick"
                                                                        PassEventArgsToCommand="True" />
                                                    </dxmvvm:Interaction.Behaviors>
                                                </ContentControl>
                                            </Border>

                                            <StackPanel Orientation="Horizontal" Grid.Column="3"
                                                Grid.Row="1" Grid.ColumnSpan="2"
                                                >
                                                <Label Content="{DynamicResource LeadsEngineeringAnalysis}" Width="150"
                                                HorizontalAlignment="Right" VerticalAlignment="Center" />

                                                <dxe:ToggleSwitch x:Name="togswEngAnal" HorizontalAlignment="Right" VerticalAlignment="Center" ContentPlacement="Inside"
                                                            CheckedStateContent="On" UncheckedStateContent="Off" ToggleSwitchWidth="50" ToggleSwitchHeight="22" IsThreeState="False"
                                                            IsEnabled="{Binding DataContext.IsEngAnalysisEnable,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                            IsChecked="{Binding DataContext.IsEngAnalysis,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />

                                                <!--IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"-->
                                                <!--<dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand EventName="Click"
                                                                            Command="{Binding DataContext.IsEngineeringAnalysisCommand, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                                                            PassEventArgsToCommand="True"/>
                                            </dxmvvm:Interaction.Behaviors>-->

                                            </StackPanel>
                                            <Label Content="{DynamicResource ProductCategory}" Grid.Row="2"
                                        Grid.Column="3" Grid.ColumnSpan="2"
                                        />
                                            <UIHelper:LookUpEditEx Name="lookUpEditCategory" Grid.Row="2" Grid.Column="4" HorizontalAlignment="Stretch" VerticalAlignment="Top"
                                                        ItemsSource="{Binding DataContext.ListProductCategory,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" 
                                                        DisplayMember="Name" IsTextEditable="False"
                                                        ValueMember="IdProductCategory" Height="25" 
                                                        IsReadOnly="{Binding DataContext.IsCategoryControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        AutoPopulateColumns="False"
                                                        ApplyItemTemplateToSelectedItem="True"
                                                        SelectedItem="{Binding DataContext.SelectedCategory,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}">
                                                <UIHelper:LookUpEditEx.PopupContentTemplate>
                                                    <ControlTemplate>
                                                        <dxg:GridControl Name="PART_GridControl" SelectionMode="Row">
                                                            <dxg:GridControl.Columns>
                                                                <dxg:GridColumn FieldName="Name" Header=" " AllowColumnFiltering="False" AllowSorting="False">
                                                                    <dxg:GridColumn.HeaderTemplate>
                                                                        <DataTemplate>
                                                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                                                <Button Content="Clear" Command="{Binding DataContext.SelectionClearCommand , RelativeSource={RelativeSource AncestorType=Window}}"
                                                                                    IsEnabled="{Binding DataContext.IsCategoryControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Converter={StaticResource BooleanNegationConverter}}" />
                                                                            </StackPanel>
                                                                        </DataTemplate>
                                                                    </dxg:GridColumn.HeaderTemplate>
                                                                </dxg:GridColumn>
                                                            </dxg:GridControl.Columns>

                                                            <dxg:GridControl.View>
                                                                <UIHelper:MyTreeListView AutoWidth="True" AllowBestFit="True" ShowIndicator="False"
                                                                                    TreeDerivationMode="Selfreference" 
                                                                                    KeyFieldName="IdProductCategory" 
                                                                                    ParentFieldName="IdParent">
                                                                    <dxmvvm:Interaction.Behaviors>
                                                                        <dxmvvm:EventToCommand Command="{Binding DataContext.FocusedRowChangingCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                                                                            EventName="FocusedRowChanging" PassEventArgsToCommand="True" />
                                                                    </dxmvvm:Interaction.Behaviors>
                                                                    <UIHelper:MyTreeListView.CellStyle>
                                                                        <Style TargetType="{x:Type dxg:LightweightCellEditor}">
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.IsDisabled, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" Value="True">
                                                                                    <Setter Property="Background" Value="Transparent" />
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </UIHelper:MyTreeListView.CellStyle>
                                                                </UIHelper:MyTreeListView>
                                                            </dxg:GridControl.View>
                                                        </dxg:GridControl>
                                                    </ControlTemplate>
                                                </UIHelper:LookUpEditEx.PopupContentTemplate>

                                                <UIHelper:LookUpEditEx.EditNonEditableTemplate>
                                                    <ControlTemplate>
                                                        <StackPanel Orientation="Horizontal" Margin="4,2,4,2">
                                                            <TextBlock Text="{Binding RelativeSource={RelativeSource Self}, Path=(dxe:BaseEdit.OwnerEdit).SelectedItem.MergedCategoryAndProduct }" />
                                                        </StackPanel>
                                                    </ControlTemplate>
                                                </UIHelper:LookUpEditEx.EditNonEditableTemplate>
                                                <!--<dxg:LookUpEdit.Buttons>
                                                <dxe:ButtonInfo Content="Clear" Command="{Binding DataContext.SelectionClearCommand , RelativeSource={RelativeSource AncestorType=Window}}" />
                                            </dxg:LookUpEdit.Buttons>-->
                                            </UIHelper:LookUpEditEx>

                                            <StackPanel Grid.Column="3"
                                                Grid.Row="3"
                                                Grid.ColumnSpan="2"
                                                Orientation="Horizontal">
                                                <Label Grid.Column="4"
                                                Grid.Row="1"
                                                Width="150"
                                                HorizontalAlignment="Left"
                                                Content="{DynamicResource LeadsAddViewProductService}" />
                                                <dxe:TextEdit Grid.Row="1"
                                                    Grid.Column="4"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    Foreground="Transparent"
                                                    IsReadOnly="True"
                                                    ShowBorder="False"
                                                    Text="{Binding DataContext.ProductAndServicesCount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                    <dxe:TextEdit.EditValue>
                                                        <Binding Mode="TwoWay"
                                                    Path="DataContext.ProductAndServicesCount"
                                                    RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                    UpdateSourceTrigger="PropertyChanged"
                                                    ValidatesOnDataErrors="False">
                                                            <Binding.ValidationRules>
                                                                <Validation:RequiredValidationRule FieldName="ProductAndServicesCount" />
                                                            </Binding.ValidationRules>
                                                        </Binding>
                                                    </dxe:TextEdit.EditValue>
                                                </dxe:TextEdit>
                                            </StackPanel>
                                            <dxe:CheckEdit x:Name="checkBoxShowAll"
                                        Grid.Column="3"
                                        Grid.Row="4"
                                        Width="150"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsAddViewShowAll}"
                                        EditValue="{Binding DataContext.IsShowAll,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                <dxmvvm:Interaction.Behaviors>
                                                    <dxmvvm:EventToCommand Command="{Binding DataContext.ShowAllCheckedCommand, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                CommandParameter="{Binding ElementName=treeListView1}"
                                                EventName="Checked" />
                                                    <dxmvvm:EventToCommand Command="{Binding DataContext.ShowAllUncheckedCommand, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                CommandParameter="{Binding ElementName=treeListView1}"
                                                EventName="Unchecked" />
                                                </dxmvvm:Interaction.Behaviors>
                                            </dxe:CheckEdit>
                                            <dxg:TreeListControl Grid.Column="3"
                                        Grid.Row="5"
                                        Grid.ColumnSpan="2"
                                        Grid.RowSpan="9"
                                        Height="Auto"
                                        VerticalAlignment="Top" HorizontalAlignment="Stretch"
                                        ItemsSource="{Binding DataContext.Dttable, IsAsync=True, Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        Name="TreeListControl1"
                                        ScrollViewer.HorizontalScrollBarVisibility="Visible"
                                        ShowBorder="True">
                                                <dxg:TreeListControl.Columns>
                                                    <dxg:TreeListColumn Width="20"
                                                Header=" "
                                                HorizontalHeaderContentAlignment="Center">
                                                        <dxg:TreeListColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <dxe:CheckEdit HorizontalAlignment="Center"
                                                            IsChecked="{Binding RowData.Row.IsChecked,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                            IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            Tag="{Binding Data.idOfferOption}">
                                                                    <dxe:CheckEdit.Style>
                                                                        <Style TargetType="{x:Type dxe:CheckEdit}">
                                                                            <Setter Property="Visibility" Value="Visible" />
                                                                            <Setter Property="IsEnabled" Value="True" />
                                                                            <Style.Triggers>
                                                                                <DataTrigger Value="{x:Null}" Binding="{Binding RowData.Row.Qty}">
                                                                                    <Setter Property="Visibility" Value="Hidden" />
                                                                                    <Setter Property="IsEnabled" Value="False" />
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </dxe:CheckEdit.Style>
                                                                    <dxmvvm:Interaction.Triggers>
                                                                        <dxmvvm:EventToCommand Command="{Binding DataContext.CheckEditQuantityValueChangedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                    EventName="EditValueChanged"
                                                                    PassEventArgsToCommand="True" />
                                                                    </dxmvvm:Interaction.Triggers>
                                                                </dxe:CheckEdit>
                                                            </DataTemplate>
                                                        </dxg:TreeListColumn.CellTemplate>
                                                    </dxg:TreeListColumn>
                                                    <dxg:TreeListColumn Width="Auto"
                                                                FieldName="{Binding RowData.Row.Name}"
                                                                Header="Name"
                                                                HorizontalHeaderContentAlignment="Center">
                                                        <dxg:TreeListColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <TextBlock Text="{Binding RowData.Row.Name}" />
                                                            </DataTemplate>
                                                        </dxg:TreeListColumn.CellTemplate>
                                                    </dxg:TreeListColumn>
                                                    <dxg:TreeListColumn FieldName="{Binding RowData.Row.Qty}" Header="Qty" Width="Auto"
                                                                >
                                                        <dxg:TreeListColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <dxe:SpinEdit Value="{Binding RowData.Row.Qty,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                            AllowRoundOutOfRangeValue="True"
                                                            IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                            Increment="1"
                                                            IsFloatValue="False"
                                                            MaxValue="999"
                                                            MinValue="0"
                                                            Tag="{Binding RowData.Row.idOfferOption}">
                                                                    <dxe:SpinEdit.Style>
                                                                        <Style TargetType="{x:Type dxe:SpinEdit}">
                                                                            <Setter Property="Visibility" Value="Visible" />
                                                                            <Setter Property="IsEnabled" Value="True" />
                                                                            <Setter Property="IsReadOnly" Value="False" />
                                                                            <Style.Triggers>
                                                                                <DataTrigger Value="{x:Null}" Binding="{Binding RowData.Row.Qty}">
                                                                                    <Setter Property="Visibility" Value="Hidden" />
                                                                                    <Setter Property="IsEnabled" Value="False" />
                                                                                    <Setter Property="IsReadOnly" Value="True" />
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </dxe:SpinEdit.Style>
                                                                    <dxmvvm:Interaction.Triggers>
                                                                        <dxmvvm:EventToCommand Command="{Binding DataContext.QuantityEditValueChangedCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                                                    EventName="EditValueChanged"
                                                                    PassEventArgsToCommand="True" />
                                                                    </dxmvvm:Interaction.Triggers>
                                                                </dxe:SpinEdit>
                                                            </DataTemplate>
                                                        </dxg:TreeListColumn.CellTemplate>
                                                    </dxg:TreeListColumn>
                                                </dxg:TreeListControl.Columns>
                                                <dxg:TreeListControl.View>
                                                    <dxg:TreeListView AutoExpandAllNodes="True"
                                                                AutoWidth="True"
                                                                KeyFieldName="idOfferOption"
                                                                Name="treeListView1"
                                                                ParentFieldName="IdOfferOptionType"
                                                                SearchPanelHorizontalAlignment="Stretch"
                                                                ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly">
                                                        <dxmvvm:Interaction.Behaviors>
                                                            <dxmvvm:EventToCommand Command="{Binding DataContext.CustomNodeFilterCommand, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                                            EventName="CustomNodeFilter"
                                                                            PassEventArgsToCommand="True"
                                                                            SourceObject="{Binding ElementName=treeListView1}" />
                                                        </dxmvvm:Interaction.Behaviors>
                                                    </dxg:TreeListView>
                                                </dxg:TreeListControl.View>
                                            </dxg:TreeListControl>
                                            <Label Grid.Column="0"
                                        Grid.Row="5"
                                            Width="120"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsEditViewDescription}" />
                                            <dxe:TextEdit Grid.Row="5"
                                                    Grid.Column="1"
                                                    Height="50"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalContentAlignment="Stretch"
                                                    HorizontalContentAlignment="Left"
                                                    VerticalAlignment="Top"
                                                    AcceptsReturn="True"
                                                    IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    Text="{Binding DataContext.Description,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" MaxLength="500"
                                                    TextWrapping="Wrap"
                                                    VerticalScrollBarVisibility="Visible">
                                                <dxe:TextEdit.EditValue>
                                                    <Binding Mode="TwoWay"
                                                Path="DataContext.Description"
                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                UpdateSourceTrigger="PropertyChanged"
                                                ValidatesOnDataErrors="False">
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="Description" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:TextEdit.EditValue>
                                            </dxe:TextEdit>
                                            <Label Grid.Column="0"
                                        Grid.Row="6"
                                            Width="120"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsAddViewSource}" />
                                            <dxe:ComboBoxEdit Grid.Column="1"
                                                        Grid.Row="6"
                                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        ApplyItemTemplateToSelectedItem="True"
                                                        DisplayMember="Value" IsTextEditable="False" 
                                                        ValidateOnTextInput="False" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                        IsReadOnly="{Binding DataContext.IsReadonly,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        ItemsSource="{Binding DataContext.LeadSourceList, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}"
                                                        ValueMember="IdLookupValue">
                                                <dxe:ComboBoxEdit.ItemTemplate>
                                                    <DataTemplate>
                                                        <DockPanel>
                                                            <Rectangle Width="15"
                                                        Height="15"
                                                        Margin="3"
                                                        Fill="{Binding HtmlColor}" />
                                                            <TextBlock Margin="5,0,0,0"
                                                        Padding="3"
                                                        Text="{Binding Value}" />
                                                        </DockPanel>
                                                    </DataTemplate>
                                                </dxe:ComboBoxEdit.ItemTemplate>
                                                <dxe:ComboBoxEdit.SelectedIndex>
                                                    <Binding Mode="TwoWay"
                                                        Path="DataContext.SelectedIndexLeadSource"
                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                        UpdateSourceTrigger="PropertyChanged"
                                                        ValidatesOnDataErrors="True">
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="SelectedIndexLeadSource" ValidationStep="UpdatedValue" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:ComboBoxEdit.SelectedIndex>
                                                <dxe:ComboBoxEdit.ItemContainerStyle>
                                                    <Style TargetType="dxe:ComboBoxEditItem">
                                                        <Setter Property="IsEnabled" Value="{Binding InUse}" />
                                                    </Style>
                                                </dxe:ComboBoxEdit.ItemContainerStyle>
                                            </dxe:ComboBoxEdit>


                                    <!--Add Source Button-->
                                    <Button Visibility="Visible" Grid.Row="6" Grid.Column="2" Height="20" Width="20" HorizontalAlignment="Center" VerticalAlignment="Center" 
                    Command="{Binding DataContext.AddSourceButtonCommand ,  RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                   IsEnabled="{Binding DataContext.IsSourceButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                    CommandParameter="{Binding ElementName=TripsTableView}" BorderThickness="0" Margin="-1,0,0,0"
                    >
                                        <Button.ToolTip>
                                            <TextBlock Text="{DynamicResource CustomerAddViewAddSource}"/>
                                        </Button.ToolTip>
                                        <Button.ContentTemplate>
                                            <DataTemplate>
                                                <Image Style="{DynamicResource AddCustomerButtonImageStyle}"  Height="20" Width="20" Margin="-10"/>
                                            </DataTemplate>
                                        </Button.ContentTemplate>
                                    </Button>
                                    <!--<Border Grid.Column="2" 
                                        Grid.Row="6"
                                        IsEnabled="{Binding DataContext.IsSourceButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center">
                                        <ContentControl>
                                            <Image x:Name="AddSource"
                                                Width="20"
                                                Height="20"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Top"
                                                DataContext="{Binding DataContext,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                Style="{DynamicResource AddCustomerButtonImageStyle}">
                                                <Image.ToolTip>
                                                    <StackPanel>
                                                        <TextBlock HorizontalAlignment="Stretch" Text="{DynamicResource CustomerAddViewAddSource}" />
                                                    </StackPanel>
                                                </Image.ToolTip>
                                            </Image>
                                            <dxmvvm:Interaction.Behaviors>
                                                <dxmvvm:EventToCommand Command="{Binding DataContext.AddSourceButtonCommand ,  RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    EventName="MouseLeftButtonUp"
                                                    PassEventArgsToCommand="True" />
                                            </dxmvvm:Interaction.Behaviors>
                                        </ContentControl>
                                    </Border>-->

                                    <!--SelectedIndex="{Binding DataContext.SelectedIndexCompanyPlant,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                SelectedIndex="{Binding DataContext.SelectedIndexGeosProject,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"-->
                                            <Label Grid.Column="0"
                                        Grid.Row="7"
                                        Width="120"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsEditViewProject}" />
                                            <dxg:LookUpEdit Name="searchLookUpEdit"
                                        Grid.Column="1" 
                                        Grid.Row="7"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Top"
                                        SelectedIndex="{Binding DataContext.SelectedIndexGeosProject,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        PopupHeight="300"
                                        PopupWidth="400"
                                        PopupMinHeight="100"
                                        PopupMinWidth="100"
                                        IsPopupAutoWidth="False"
                                        FilterCondition="StartsWith"
                                        FindButtonPlacement="None"
                                                    
                                        NullValueButtonPlacement="Popup"
                                        FindMode="Always"
                                        IsReadOnly="{Binding DataContext.IsReadonly,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        PopupContentTemplate="{StaticResource popupContentTemplate}"
                                        ItemsSource="{Binding DataContext.GeosProjectsList,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}" 
                                        AutoPopulateColumns="False"
                                        DisplayMember="Name"                                       
                                        ShowSizeGrip="False"
                                        IsTextEditable="False"
                                        ImmediatePopup="True"
                                        AutoComplete="True"
                                        IncrementalFiltering="True">
                                            </dxg:LookUpEdit>

                                            <!--<dxe:ComboBoxEdit
                                        x:Name="CmbProject"
                                        Grid.Column="2"
                                        Grid.Row="7"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Top"
                                        AutoComplete="True"
                                        ImmediatePopup="True"
                                        IncrementalFiltering="True"
                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        IsTextEditable="True"
                                        ItemsSource="{Binding DataContext.GeosProjectsListTemp,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}"
                                        SelectedIndex="{Binding DataContext.SelectedIndexGeosProject,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        Text="{Binding DataContext.ProjectName,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />-->
                                            <!-- DisplayMember="Title" SelectedIndex="{Binding DataContext.SelectedIndexCompanyPlant,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"-->

                                            <Border Grid.Column="2"
                                            Grid.Row="7" Margin="0,-7,0,0"
                                        HorizontalAlignment="Center"
                                            VerticalAlignment="Center">
                                                <ContentControl>
                                                    <Image x:Name="AddProject"
                                                Width="20"
                                                    Height="20"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Top"
                                                    DataContext="{Binding DataContext,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    Style="{DynamicResource AddCustomerButtonImageStyle}">
                                                        <Image.ToolTip>
                                                            <StackPanel>
                                                                <TextBlock HorizontalAlignment="Stretch" Text="{DynamicResource LeadAddViewAddProject}" />
                                                            </StackPanel>
                                                        </Image.ToolTip>
                                                    </Image>
                                                    <dxmvvm:Interaction.Behaviors>
                                                        <dxmvvm:EventToCommand Command="{Binding DataContext.AddProjectButtonCommand ,  RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    EventName="MouseLeftButtonUp" CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    PassEventArgsToCommand="True" />
                                                    </dxmvvm:Interaction.Behaviors>
                                                </ContentControl>
                                            </Border>


                                            <Label Grid.Column="0"
                                        Grid.Row="8"
                                        Content="{DynamicResource LeadsEditViewOEM}" />
                                            <dxe:ComboBoxEdit Grid.Column="1"
                                                        Grid.Row="8"
                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        DisplayMember="Name"
                                        IsReadOnly="{Binding DataContext.IsReadonly,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        IsTextEditable="False" 
                                                        ValidateOnTextInput="False" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                        ItemsSource="{Binding DataContext.CaroemsList,Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}"
                                        SelectedIndex="{Binding DataContext.SelectedIndexCarOEM,Mode=TwoWay ,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                            <!--Amount-->
                                            <Label Grid.Column="0"
                                        Grid.Row="9" Width="120"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsEditViewAmount}" />
                                            <Grid Grid.Column="1" Grid.Row="9" HorizontalAlignment="Stretch">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="60" />
                                            </Grid.ColumnDefinitions>
                                            <!--<StackPanel Grid.Column="1"
                                        Grid.Row="9"
                                        HorizontalAlignment="Stretch">
                                            <dxlc:LayoutControl Margin="0,0,0,0" Orientation="Vertical" Padding="0,0,0,0">
                                                <StackPanel Orientation="Horizontal">
                                                        <dxlc:LayoutItem>-->
                                            <dxe:TextEdit Grid.Column="0" Margin="0,0,5,0"
                                                        HorizontalAlignment="Stretch" VerticalAlignment="Top"
                                                        HorizontalContentAlignment="Right"
                                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        MaskType="Numeric"
                                                        Text="{Binding DataContext.OrderAmount, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <dxe:TextEdit.EditValue>
                                                                <Binding Mode="TwoWay"
                                                                Path="DataContext.OrderAmount"
                                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                                UpdateSourceTrigger="PropertyChanged"
                                                                ValidatesOnDataErrors="False">
                                                                        <Binding.ValidationRules>
                                                                            <Validation:RequiredValidationRule FieldName="OrderAmount" />
                                                                        </Binding.ValidationRules>
                                                                    </Binding>
                                                                </dxe:TextEdit.EditValue>
                                                                <dxmvvm:Interaction.Behaviors>
                                                                    <dxmvvm:EventToCommand EventName="LostFocus" Command="{Binding DataContext.OrderAmountLostFocusCommand, RelativeSource={RelativeSource AncestorType=UserControl}}" PassEventArgsToCommand="True" />
                                                                </dxmvvm:Interaction.Behaviors>
                                                            </dxe:TextEdit>
                                                        <!--</dxlc:LayoutItem>-->
                                                        <!--<dxlc:LayoutItem>-->                                            
                                                        <dxe:ComboBoxEdit Width="60"
                                                        Grid.Column="1"
                                            VerticalAlignment="Top"
                                                        HorizontalAlignment="Center"                                                        
                                                        DisplayMember="Name"
                                                        IsReadOnly="True" IsTextEditable="False"
                                            ValidateOnTextInput="False" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"                                                       
                                                        ItemsSource="{Binding DataContext.Currencies, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        SelectedIndex="{Binding DataContext.SelectedIndexCurrency,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        ValueMember="IdCurrency" />
                                        </Grid>
                                        <!--</dxlc:LayoutItem>
                                                    </StackPanel>
                                                </dxlc:LayoutControl>
                                            </StackPanel>-->

                                            <Label Grid.Column="0"
                                        Grid.Row="11"
                                        Width="120"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsEditViewRFQ}" />
                                            <dxe:TextEdit Grid.Row="11"
                                        Grid.Column="1"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalContentAlignment="Top"
                                        HorizontalContentAlignment="Left"
                                                    VerticalAlignment="Top"
                                                    AcceptsReturn="True"
                                                    EditValue="{Binding DataContext.Rfq,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    TextWrapping="Wrap"
                                                    >
                                                <dxe:TextEdit.Style>
                                                    <Style TargetType="dxe:TextEdit">
                                                        <Style.Triggers>
                                                            <DataTrigger Value="True" Binding="{Binding DataContext.GridRowHeightForRfq,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:TextEdit.Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                            <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForRfq,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:TextEdit.Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </dxe:TextEdit.Style>
                                            </dxe:TextEdit>

                                            <!--<Label
                                        Grid.Column="0"
                                        Grid.Row="10"
                                        Width="120"
                                        HorizontalAlignment="Left"
                                        Content= "{Binding DataContext.LeadsEditViewCloseDate,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                    <dxe:DateEdit
                                        Grid.Column="2"
                                        Grid.Row="10"
                                        VerticalAlignment="Top"
                                        HorizontalContentAlignment="Right"
                                        InvalidValueBehavior="AllowLeaveEditor"
                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        IsTextEditable="False"
                                        Mask="{Binding CultureInfo.CurrentCulture.DateTimeFormat.YearMonthPattern}"
                                        MaskUseAsDisplayFormat="True">
                                        <dxe:DateEdit.EditValue>
                                            <Binding
                                                Mode="TwoWay"
                                                Path="DataContext.OfferCloseDate"
                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                UpdateSourceTrigger="PropertyChanged"
                                                ValidatesOnDataErrors="False">
                                                <Binding.ValidationRules>
                                                    <Validation:RequiredValidationRule FieldName="OfferCloseDate" />
                                                </Binding.ValidationRules>
                                            </Binding>
                                        </dxe:DateEdit.EditValue>
                                        <dxe:DateEdit.ErrorToolTipContentTemplate>
                                            <DataTemplate>
                                                <TextBlock x:Name="txtErrorMsg" Text="Can not set on previous date" />
                                            </DataTemplate>
                                        </dxe:DateEdit.ErrorToolTipContentTemplate>
                                    </dxe:DateEdit>-->

                                            <Label Grid.Column="0"
                                        Grid.Row="12"
                                        Width="150"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsEditViewRFQReceptionDate}" />

                                            <dxe:DateEdit Grid.Column="1"
                                        Grid.Row="12"
                                        VerticalAlignment="Top"
                                        HorizontalContentAlignment="Right"
                                        InvalidValueBehavior="AllowLeaveEditor"
                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        IsTextEditable="False"
                                        Mask="{Binding CultureInfo.CurrentCulture.DateTimeFormat.YearMonthPattern}"
                                        MaskUseAsDisplayFormat="True">
                                                <!--EditValue="{Binding DataContext.OfferCloseDate,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"-->
                                                <dxe:DateEdit.EditValue>
                                                    <Binding Mode="TwoWay"
                                                Path="DataContext.RFQReceptionDate"
                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                UpdateSourceTrigger="PropertyChanged"
                                                ValidatesOnDataErrors="False">
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="RFQReceptionDate" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:DateEdit.EditValue>
                                                <dxe:DateEdit.Style>
                                                    <Style TargetType="dxe:DateEdit">
                                                        <Style.Triggers>
                                                            <DataTrigger Value="True" Binding="{Binding DataContext.GridRowHeightForRfq,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:DateEdit.Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                            <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForRfq,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:DateEdit.Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </dxe:DateEdit.Style>
                                            </dxe:DateEdit>

                                            <Label Grid.Column="0"
                                        Grid.Row="13"
                                        Width="150"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsEditViewQuoteSentDate}" />

                                            <dxe:DateEdit Grid.Column="1"
                                        Grid.Row="13"
                                        VerticalAlignment="Top"
                                        HorizontalContentAlignment="Right"
                                        InvalidValueBehavior="AllowLeaveEditor"
                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        IsTextEditable="False"
                                        Mask="{Binding CultureInfo.CurrentCulture.DateTimeFormat.YearMonthPattern}"
                                        MaskUseAsDisplayFormat="True">
                                                <!--EditValue="{Binding DataContext.OfferCloseDate,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"-->
                                                <dxe:DateEdit.EditValue>
                                                    <Binding Mode="TwoWay"
                                                Path="DataContext.QuoteSentDate"
                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                UpdateSourceTrigger="PropertyChanged"
                                                ValidatesOnDataErrors="False">
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="QuoteSentDate" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:DateEdit.EditValue>
                                                <dxe:DateEdit.Style>
                                                    <Style TargetType="dxe:DateEdit">
                                                        <Style.Triggers>
                                                            <DataTrigger Value="True" Binding="{Binding DataContext.GridRowHeightForQuoteSent,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:DateEdit.Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                            <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForQuoteSent,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:DateEdit.Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </dxe:DateEdit.Style>
                                            </dxe:DateEdit>
                                            <!--Discount-->
                                            <!--//[001][kshinde][GEOS2-2911][1/07/2022]-->
                                            <!--Discount-->
                                            <!--//[001][kshinde][GEOS2-2910][1/07/2022]-->
                                        <TextBlock Text="{DynamicResource LeadsAddViewDiscount}" Grid.Row="14" Grid.Column="0" HorizontalAlignment="Left"
                                        >
                                                <TextBlock.Style>
                                                    <Style TargetType="TextBlock">
                                                        <Style.Triggers>
                                                            <DataTrigger Value="True" Binding="{Binding DataContext.GridRowHeightForDiscount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="TextBlock.Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                            <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForDiscount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="TextBlock.Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                            <!--Width="120"
                                   HorizontalAlignment="Left" />-->

                                            <dxe:SpinEdit x:Name="PART_Editor" Grid.Row="14" Grid.Column="1" AllowRoundOutOfRangeValue="True" HorizontalAlignment="Stretch" VerticalAlignment="Top"
                                                  Increment="1.1" MinValue="0" Mask="P1" MaskType="Numeric" Value="{Binding DataContext.Discount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                                  MaxValue="100" IsFloatValue="True" MaskUseAsDisplayFormat="True">
                                                <dxe:SpinEdit.Style>
                                                    <Style TargetType="dxe:SpinEdit">
                                                        <Style.Triggers>
                                                            <DataTrigger Value="True" Binding="{Binding DataContext.GridRowHeightForDiscount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:SpinEdit.Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                            <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForDiscount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:SpinEdit.Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </dxe:SpinEdit.Style>
                                            </dxe:SpinEdit>


                                            <!--DeliveryDate-->
                                            <Label Grid.Column="0"
                                        Grid.Row="15" Width="150"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsEditViewDeliveryDate}" />                                     

                                        <dxe:DateEdit Grid.Column="1"
                                        Grid.Row="15"
                                        VerticalAlignment="Top"
                                        HorizontalContentAlignment="Right"
                                        InvalidValueBehavior="AllowLeaveEditor"
                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        IsTextEditable="False"
                                        Mask="{Binding CultureInfo.CurrentCulture.DateTimeFormat.YearMonthPattern}"
                                        MaskUseAsDisplayFormat="True">
                                                <dxe:DateEdit.EditValue>
                                                    <Binding Mode="TwoWay"
                                                Path="DataContext.DeliveryDate"
                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                UpdateSourceTrigger="PropertyChanged"
                                                ValidatesOnDataErrors="False">
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="QuoteSentDate" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:DateEdit.EditValue>
                                                <dxe:DateEdit.Style>
                                                    <Style TargetType="dxe:DateEdit">
                                                        <Style.Triggers>
                                                            <DataTrigger Value="True" Binding="{Binding DataContext.GridRowHeight,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:DateEdit.Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                            <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeight,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                <Setter Property="dxe:DateEdit.Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </dxe:DateEdit.Style>
                                            </dxe:DateEdit>

                                            <!--[skale][20/11/2019][GEOS2-1806]- Add new field "Offer Owner" and "Offered To" in Opportunities-->

                                        <Label Grid.Column="0"
                                        Grid.Row="16"
                                        Width="150"
                                        HorizontalAlignment="Left"
                                        Content="{DynamicResource LeadsEditViewOfferTo}" />

                                        <dxe:ComboBoxEdit x:Name="editor1" Grid.Column="1"
                                                        Grid.Row="16" 
                                                      HorizontalAlignment="Stretch"
                                                        EditValue="{Binding DataContext.SelectedOfferToList,RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                    ItemsSource="{Binding DataContext.OfferToList,RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                    DisplayMember="People.FullName"
                                                    AllowDefaultButton="True" 
                                                    AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                        Style="{DynamicResource ComboBoxEditStyle}">
                                                <dxe:ComboBoxEdit.StyleSettings>
                                                    <dxe:TokenComboBoxStyleSettings NewTokenPosition="Far" EnableTokenWrapping="True" />
                                                </dxe:ComboBoxEdit.StyleSettings>
                                            </dxe:ComboBoxEdit>


                                        <TextBlock Grid.Row="17" 
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Text="{DynamicResource LeadsEditViewConfidentalLevel}" />

                                        <!--<StackPanel Grid.Row="17" Margin="0,15,0,0"
                                        Grid.Column="1"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Left"
                                        Orientation="Horizontal">-->
                                        <Grid Grid.Row="17" 
                                        Grid.Column="1" HorizontalAlignment="Stretch">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="70" />
                                            </Grid.ColumnDefinitions>
                                            <dxe:RatingEdit x:Name="Ratingeditor" Grid.Column="0" Height="30" HorizontalAlignment="Stretch" VerticalAlignment="Center" Maximum="100" Minimum="0" Precision="Full"                                                                                        
                                            EditValue="{Binding ElementName=comboBoxEdit1, Path=EditValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,Converter={UIConverter:CustConverter}}"
                                            IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                
                                                <dxe:RatingEdit.EditTemplate>
                                                    <ControlTemplate>
                                                        <dxe:RatingControl HorizontalAlignment="Stretch" Height="30" Width="150"
                                                        IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        Name="PART_Editor" />
                                                    </ControlTemplate>
                                                </dxe:RatingEdit.EditTemplate>
                                                <dxe:RatingEdit.ItemStyle>
                                                    <Style TargetType="dxe:RatingItem">
                                                        <Setter Property="DataContext" Value="{Binding Path=(dxe:BaseEdit.OwnerEdit).DataContext}" />
                                                        <Style.Triggers>
                                                            <!--<DataTrigger Binding="{Binding DataContext.Background,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Converter={UIConverter:IsNullColorConverter}}" Value="False">
                                                        <Setter Property="Background" Value="{Binding DataContext.Background,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Converter={UIConverter:ColorToBrushConverter}}"/>
                                                    </DataTrigger>-->
                                                            <DataTrigger Value="False" Binding="{Binding DataContext.HoverBackground,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Converter={UIConverter:IsNullColorConverter}}">
                                                                <Setter Property="HoverBackground" Value="{Binding ActualHoverValue, Converter={UIConverter:ColorToBrushConverter}, RelativeSource={RelativeSource AncestorType=dxe:RatingControl}, ConverterParameter=hover}" />
                                                            </DataTrigger>
                                                            <DataTrigger Value="False" Binding="{Binding DataContext.SelectedBackground,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Converter={UIConverter:IsNullColorConverter}}">
                                                                <Setter Property="SelectedBackground" Value="{Binding DataContext.SelectedBackground,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Converter={UIConverter:ColorToBrushConverter}}" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </dxe:RatingEdit.ItemStyle>
                                            </dxe:RatingEdit>
                                            <dxe:ComboBoxEdit Width="60"
                                                        Grid.Column="1"
                                            Height="30" Margin="5,0,0,0"
                                            HorizontalAlignment="Right"
                                            HorizontalContentAlignment="Center"
                                            ApplyItemTemplateToSelectedItem="True"
                                            EditValue="{Binding DataContext.SelectedIndexConfidentialLevel,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                            IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                            IsTextEditable="False"
                                            ItemsSource="{Binding DataContext.ConfidentialLevelList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                            Name="comboBoxEdit1">
                                                <dxe:ComboBoxEdit.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding StringFormat={}{0}%}" />
                                                    </DataTemplate>
                                                </dxe:ComboBoxEdit.ItemTemplate>
                                            </dxe:ComboBoxEdit>
                                            <!--</StackPanel>-->
                                        </Grid>
                                        <Label Grid.Column="0"
                                        Grid.Row="18"
                                        Content="{DynamicResource LeadsEditViewBusinessUnit}" />

                                        <dxe:ComboBoxEdit x:Name="ComboBoxEditBusiness" 
                                        Grid.Column="1"
                                                        Grid.Row="18"
                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        DisplayMember="Value" IsTextEditable="False" 
                                                        ValidateOnTextInput="False" AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                        IsReadOnly="{Binding DataContext.IsReadonly,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        ItemsSource="{Binding DataContext.BusinessUnitList, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox} }">
                                                <dxe:ComboBoxEdit.ItemContainerStyle>
                                                    <Style TargetType="dxe:ComboBoxEditItem">
                                                        <Setter Property="IsEnabled" Value="{Binding InUse}" />
                                                    </Style>
                                                </dxe:ComboBoxEdit.ItemContainerStyle>
                                                <!--SelectedIndex="{Binding DataContext.SelectedIndexBusinessUnit,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">-->
                                                <dxe:ComboBoxEdit.SelectedIndex>
                                                    <Binding Mode="TwoWay"
                                                        Path="DataContext.SelectedIndexBusinessUnit"
                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                        UpdateSourceTrigger="PropertyChanged"
                                                        ValidatesOnDataErrors="True">
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="SelectedIndexBusinessUnit" ValidationStep="UpdatedValue" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:ComboBoxEdit.SelectedIndex>
                                            </dxe:ComboBoxEdit>

                                        <StackPanel Orientation="Horizontal" Grid.Column="0" Grid.Row="19">
                                                <Label HorizontalAlignment="Left"
                                                Content="{DynamicResource LeadsEditViewSalesOwner}" Width="160" />
                                            <dxe:TextEdit HorizontalAlignment="Right"
                                            VerticalAlignment="Top"
                                            Foreground="Transparent"
                                                    IsReadOnly="True"
                                                    ShowBorder="False"
                                                    Text="{Binding DataContext.IsSiteResponsibleRemoved,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                    <dxe:TextEdit.EditValue>
                                                        <Binding Mode="TwoWay"
                                                    Path="DataContext.IsSiteResponsibleRemoved"
                                                    RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                    UpdateSourceTrigger="PropertyChanged"
                                                    ValidatesOnDataErrors="True">
                                                            <Binding.ValidationRules>
                                                                <Validation:RequiredValidationRule FieldName="IsSiteResponsibleRemoved" />
                                                            </Binding.ValidationRules>
                                                        </Binding>
                                                    </dxe:TextEdit.EditValue>
                                                </dxe:TextEdit>
                                            </StackPanel>
                                        <dxe:ComboBoxEdit Grid.Column="1"
                                                        Grid.Row="19"
                                                      HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        ApplyItemTemplateToSelectedItem="True"
                                                        DisplayMember="FullName"
                                                      IsReadOnly="True"
                                                      ItemsSource="{Binding DataContext.SalesOwnerList, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox} }"
                                                      SelectedItem="{Binding Path=EditValue, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
                                                <!--IsReadOnly="{Binding DataContext.IsControlEnable,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"-->
                                                <dxe:ComboBoxEdit.ItemContainerStyle>
                                                    <Style TargetType="dxe:ComboBoxEditItem">
                                                        <Setter Property="IsEnabled" Value="{Binding IsSiteResponsibleExist}" />
                                                    </Style>
                                                </dxe:ComboBoxEdit.ItemContainerStyle>
                                                <!--SelectedIndex="{Binding DataContext.SelectedIndexSalesOwner,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"-->
                                                <dxe:ComboBoxEdit.SelectedIndex>
                                                    <Binding Mode="TwoWay"
                                                        Path="DataContext.SelectedIndexSalesOwner"
                                                RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                        UpdateSourceTrigger="PropertyChanged"
                                                        ValidatesOnDataErrors="False">
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="SelectedIndexSalesOwner" ValidationStep="UpdatedValue" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:ComboBoxEdit.SelectedIndex>
                                                <dxe:ComboBoxEdit.ItemTemplate>
                                                    <DataTemplate>
                                                        <DockPanel>
                                                            <Image Margin="7,0,0,0"
                                                        Height="60"
                                                        Width="120"
                                                        HorizontalAlignment="Left"
                                                        Source="{Binding OwnerImage}" />
                                                            <TextBlock Margin="-35,0,0,0"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Center"
                                                        Text="{Binding FullName}" />
                                                        </DockPanel>
                                                    </DataTemplate>
                                                </dxe:ComboBoxEdit.ItemTemplate>
                                            </dxe:ComboBoxEdit>


                                            <!--[skale][20/11/2019][GEOS2-1806]- Add new field "Offer Owner" and "Offered To" in Opportunities-->
                                            <!--Offer Owner-->
                                            <StackPanel Orientation="Horizontal" Grid.Column="0" Grid.Row="20">
                                                <Label HorizontalAlignment="Left"
                                                Content="{DynamicResource LeadsEditViewOfferOwner}" Width="160" />
                                            </StackPanel>

                                        <dxe:ComboBoxEdit Grid.Column="1"
                                                        Grid.Row="20"
                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        AutoComplete="True" IsTextEditable="False" 
                                                        DisplayMember="FullName"
                                                      ImmediatePopup="True" IncrementalFiltering="True"
                                                        ItemsSource="{Binding DataContext.OfferOwnerList, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox} }"
                                        SelectedItem="{Binding Path=EditValue, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
                                                <dxe:ComboBoxEdit.SelectedIndex>
                                                    <Binding Path="DataContext.SelectedIndexOfferOwner" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                        ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged"
                                                        Mode="TwoWay"
                                                        >
                                                        <Binding.ValidationRules>
                                                            <Validation:RequiredValidationRule FieldName="SelectedIndexOfferOwner" ValidationStep="UpdatedValue" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:ComboBoxEdit.SelectedIndex>
                                        <!--[Rahul.Gadhave][GEOS2-6084][Date:12/09/2024]-->
                                        <dxe:ComboBoxEdit.ItemContainerStyle>
                                            <Style TargetType="dxe:ComboBoxEditItem">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsActive}" Value="False">
                                                        <Setter Property="IsEnabled" Value="False" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </dxe:ComboBoxEdit.ItemContainerStyle>
                                    </dxe:ComboBoxEdit>

                                            <Border Grid.Column="3"
                                        Grid.ColumnSpan="2"
                                        Grid.Row="18"
                                        Grid.RowSpan="2"
                                        Margin="0"
                                        MaxHeight="95"
                                        HorizontalAlignment="Stretch"
                                            Style="{DynamicResource BorderStyle}"
                                        Visibility="{Binding DataContext.VisibilityAccept,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                <StackPanel HorizontalAlignment="Stretch" Orientation="Vertical">
                                                    <TextBlock Margin="3,0,0,0"
                                                FontWeight="Bold"
                                                Style="{DynamicResource TextBlock16Style}"
                                                Text="{DynamicResource LeadsEditViewOpportunityClosed}" />
                                                    <StackPanel>
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="50*" />
                                                                <ColumnDefinition Width="50*" />
                                                                <ColumnDefinition Width="50*" />
                                                            </Grid.ColumnDefinitions>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="30" />
                                                                <RowDefinition Height="40" />
                                                            </Grid.RowDefinitions>
                                                            <TextBlock Grid.Column="0"
                                                        Grid.Row="0"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{DynamicResource LeadsEditViewCreateIn}" />
                                                            <TextBlock Grid.Column="0"
                                                        Grid.Row="1"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{Binding DataContext.SelectedLeadList[0].CreatedIn, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                                            <TextBlock Grid.Column="1"
                                                        Grid.Row="0"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{DynamicResource LeadsEditViewWonIn}" />
                                                            <TextBlock Grid.Column="1"
                                                        Grid.Row="1"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{Binding DataContext.SelectedLeadList[0].ModifiedIn, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                                            <Grid Grid.Column="2"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="2"
                                                        Margin="18,0,0,20">
                                                                <Grid.ToolTip>
                                                                    <ToolTip>
                                                                        <ToolTip.Template>
                                                                            <ControlTemplate TargetType="ToolTip">
                                                                                <dxg:GridControl x:Name="grid"
                                                                            Height="200"
                                                                            Width="250"
                                                                            ItemsSource="{Binding DataContext.ShowStatusList.OfferStatusTracking, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox, Mode=FindAncestor}, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" ImplyNullLikeEmptyStringWhenFiltering="True">
                                                                                    <dxg:GridControl.View>
                                                                                        <dxg:TableView x:Name="view"
                                                                                    HorizontalContentAlignment="Center"
                                                                                    AllowBestFit="True"
                                                                                    AllowColumnFiltering="False"
                                                                                    AllowColumnMoving="True"
                                                                                    AllowConditionalFormattingMenu="True"
                                                                                    AllowEditing="False"
                                                                                    AllowGrouping="False"
                                                                                    AllowResizing="True"
                                                                                    AllowScrollAnimation="True"
                                                                                    AllowScrollHeaders="False"
                                                                                    AllowSorting="True"
                                                                                    AutoMoveRowFocus="False"
                                                                                    AutoWidth="True"
                                                                                    FocusedRow="{Binding SelectedObject, Mode=TwoWay}"
                                                                                    NavigationStyle="Row"
                                                                                    RowMinHeight="20"
                                                                                    ShowAutoFilterRow="False"
                                                                                    ShowColumnHeaders="True"
                                                                                    ShowGroupPanel="False"
                                                                                    ShowHorizontalLines="True"
                                                                                    ShowIndicator="False"
                                                                                    ShowVerticalLines="True"
                                                                                    VerticalScrollbarVisibility="Auto" 
                                                                                    SearchPanelHorizontalAlignment="Stretch"
                                                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" />
                                                                                    </dxg:GridControl.View>
                                                                                    <dxg:GridControl.Columns>
                                                                                        <dxg:GridColumn Width="80"
                                                                                    FieldName="SalesStatusType.Name"
                                                                                    Header="Status"
                                                                                    HorizontalHeaderContentAlignment="Center" FilterPopupMode="CheckedList">
                                                                                            <dxg:GridColumn.CellTemplate>
                                                                                                <DataTemplate>
                                                                                                    <Border Background="{Binding Data.SalesStatusType.HtmlColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                                                                        <TextBlock Text="{Binding Data.SalesStatusType.Name}" Background="{Binding Data.SalesStatusType.HtmlColor}" Style="{StaticResource ApplyForeColorTextBlock}" HorizontalAlignment="Center" />
                                                                                                    </Border>
                                                                                                </DataTemplate>
                                                                                            </dxg:GridColumn.CellTemplate>
                                                                                        </dxg:GridColumn>
                                                                                        <dxg:GridColumn Width="100"
                                                                                    FieldName="NoOfDays"
                                                                                    Header="No. of Days"
                                                                                    HorizontalHeaderContentAlignment="Center" FilterPopupMode="CheckedList">
                                                                                            <dxg:GridColumn.CellTemplate>
                                                                                                <DataTemplate>
                                                                                                    <Border Background="{Binding Data.SalesStatusType.HtmlColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                                                                        <TextBlock Text="{Binding Data.NoOfDays}" Background="{Binding Data.SalesStatusType.HtmlColor}" Style="{StaticResource ApplyForeColorTextBlock}" HorizontalAlignment="Center" />
                                                                                                    </Border>
                                                                                                </DataTemplate>
                                                                                            </dxg:GridColumn.CellTemplate>
                                                                                        </dxg:GridColumn>
                                                                                    </dxg:GridControl.Columns>
                                                                                </dxg:GridControl>
                                                                            </ControlTemplate>
                                                                        </ToolTip.Template>
                                                                    </ToolTip>
                                                                </Grid.ToolTip>
                                                                <Image Grid.Column="2"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="2"
                                                        Margin="0,0,0,15"
                                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        Source="/Emdep.Geos.Modules.Crm;component/Assets/Images/Accept.png" />
                                                                <!--<Ellipse Height="50" Fill="#FF005BAA" Width="50"/>-->
                                                                <!--<Ellipse
                                                            Height="50"
                                                            Width="50"
                                                            StrokeThickness="1"
                                                            Style="{DynamicResource EllipseStyle}" />
                                                        <TextBlock
                                                            Margin="0"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Top"
                                                            Foreground="White"
                                                            Style="{DynamicResource TextBlockdaysStyle}"
                                                            Text="{DynamicResource LeadsEditViewAge}"
                                                            TextAlignment="Center" />
                                                        <TextBlock
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            TextAlignment="Center">
                                                            <TextBlock.Style>
                                                                <Style BasedOn="{StaticResource TextBlock18Style}" TargetType="{x:Type TextBlock}">
                                                                    <Setter Property="Foreground" Value="White" />
                                                                    <Setter Property="Text" Value="{Binding DataContext.LeadsGenerateDays,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                                                    <Style.Triggers>
                                                                        <DataTrigger Value="True" Binding="{Binding DataContext.LeadsGenerateDays,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Converter={UIConverter:RangeToBooleanConverter}}">
                                                                            <Setter Property="Text" Value="99+" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </TextBlock.Style>
                                                        </TextBlock>
                                                        <TextBlock
                                                            Margin="0,0,0,3"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Bottom"
                                                            Foreground="White"
                                                            Style="{DynamicResource TextBlockdaysStyle}"
                                                            Text="{DynamicResource LeadsEditViewDays}"
                                                            TextAlignment="Center" />-->
                                                            </Grid>

                                                        </Grid>
                                                    </StackPanel>
                                                </StackPanel>
                                            </Border>
                                            <Border Grid.Column="3"
                                        Grid.ColumnSpan="2"
                                        Grid.Row="17"
                                        Grid.RowSpan="2"
                                        Margin="0"
                                        MaxHeight="95"
                                        HorizontalAlignment="Stretch"
                                            Style="{DynamicResource BorderStyle}"
                                        Visibility="{Binding DataContext.VisibilityLost,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                <StackPanel HorizontalAlignment="Stretch" Orientation="Vertical">
                                                    <TextBlock Margin="3,0,0,0"
                                                FontWeight="Bold"
                                                Style="{DynamicResource TextBlock16Style}"
                                                Text="{DynamicResource LeadsEditViewOpportunityClosed}" />
                                                    <StackPanel>
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="50*" />
                                                                <ColumnDefinition Width="50*" />
                                                                <ColumnDefinition Width="50*" />
                                                            </Grid.ColumnDefinitions>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="30" />
                                                                <RowDefinition Height="40" />
                                                            </Grid.RowDefinitions>
                                                            <TextBlock Grid.Column="0"
                                                        Grid.Row="0"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{DynamicResource LeadsEditViewCreateIn}" />
                                                            <TextBlock Grid.Column="0"
                                                        Grid.Row="1"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{Binding DataContext.SelectedLeadList[0].CreatedIn, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                                            <TextBlock Grid.Column="1"
                                                        Grid.Row="0"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{DynamicResource LeadsEditViewLostIn}" />
                                                            <TextBlock Grid.Column="1"
                                                        Grid.Row="1"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{Binding DataContext.SelectedLeadList[0].ModifiedIn, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                                            <Grid Grid.Column="2"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="2"
                                                        Margin="18,0,0,20">
                                                                <Grid.ToolTip>
                                                                    <ToolTip>
                                                                        <ToolTip.Template>
                                                                            <ControlTemplate TargetType="ToolTip">
                                                                                <dxg:GridControl x:Name="grid"
                                                                            Height="200"
                                                                            Width="250"
                                                                            ItemsSource="{Binding DataContext.ShowStatusList.OfferStatusTracking, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox, Mode=FindAncestor}, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" ImplyNullLikeEmptyStringWhenFiltering="True">
                                                                                    <dxg:GridControl.View>
                                                                                        <dxg:TableView x:Name="view"
                                                                                    HorizontalContentAlignment="Center"
                                                                                    AllowBestFit="True"
                                                                                    AllowColumnFiltering="False"
                                                                                    AllowColumnMoving="True"
                                                                                    AllowConditionalFormattingMenu="True"
                                                                                    AllowEditing="False"
                                                                                    AllowGrouping="False"
                                                                                    AllowResizing="True"
                                                                                    AllowScrollAnimation="True"
                                                                                    AllowScrollHeaders="False"
                                                                                    AllowSorting="True"
                                                                                    AutoMoveRowFocus="False"
                                                                                    AutoWidth="True"
                                                                                    FocusedRow="{Binding SelectedObject, Mode=TwoWay}"
                                                                                    NavigationStyle="Row"
                                                                                    RowMinHeight="20"
                                                                                    ShowAutoFilterRow="False"
                                                                                    ShowColumnHeaders="True"
                                                                                    ShowGroupPanel="False"
                                                                                    ShowHorizontalLines="True"
                                                                                    ShowIndicator="False"
                                                                                    ShowVerticalLines="True"
                                                                                    VerticalScrollbarVisibility="Auto" 
                                                                                    SearchPanelHorizontalAlignment="Stretch"
                                                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" />
                                                                                    </dxg:GridControl.View>
                                                                                    <dxg:GridControl.Columns>
                                                                                        <dxg:GridColumn Width="80"
                                                                                    FieldName="SalesStatusType.Name"
                                                                                    Header="Status"
                                                                                    HorizontalHeaderContentAlignment="Center" FilterPopupMode="CheckedList">
                                                                                            <dxg:GridColumn.CellTemplate>
                                                                                                <DataTemplate>
                                                                                                    <Border Background="{Binding Data.SalesStatusType.HtmlColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                                                                        <TextBlock Text="{Binding Data.SalesStatusType.Name}" Background="{Binding Data.SalesStatusType.HtmlColor}" Style="{StaticResource ApplyForeColorTextBlock}" HorizontalAlignment="Center" />
                                                                                                    </Border>
                                                                                                </DataTemplate>
                                                                                            </dxg:GridColumn.CellTemplate>
                                                                                        </dxg:GridColumn>
                                                                                        <dxg:GridColumn Width="100"
                                                                                    FieldName="NoOfDays"
                                                                                    Header="No. of Days"
                                                                                    HorizontalHeaderContentAlignment="Center" FilterPopupMode="CheckedList">
                                                                                            <dxg:GridColumn.CellTemplate>
                                                                                                <DataTemplate>
                                                                                                    <Border Background="{Binding Data.SalesStatusType.HtmlColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                                                                        <TextBlock Text="{Binding Data.NoOfDays}" Background="{Binding Data.SalesStatusType.HtmlColor}" Style="{StaticResource ApplyForeColorTextBlock}" HorizontalAlignment="Center" />
                                                                                                    </Border>
                                                                                                </DataTemplate>
                                                                                            </dxg:GridColumn.CellTemplate>
                                                                                        </dxg:GridColumn>
                                                                                    </dxg:GridControl.Columns>
                                                                                </dxg:GridControl>
                                                                            </ControlTemplate>
                                                                        </ToolTip.Template>
                                                                    </ToolTip>
                                                                </Grid.ToolTip>
                                                                <Image Grid.Column="2"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="2"
                                                        Margin="0,0,0,15"
                                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        Source="/Emdep.Geos.Modules.Crm;component/Assets/Images/Lost.png" />

                                                            </Grid>

                                                        </Grid>
                                                    </StackPanel>
                                                </StackPanel>
                                            </Border>
                                            <Border Grid.Column="3"
                                        Grid.ColumnSpan="2"
                                        Grid.Row="13"
                                        Grid.RowSpan="5"
                                        Margin="0"
                                        MaxHeight="95"
                                        HorizontalAlignment="Stretch"
                                            Style="{DynamicResource BorderStyle}"
                                        Visibility="{Binding DataContext.VisibilityForecast,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                <StackPanel HorizontalAlignment="Stretch" Orientation="Vertical">
                                                    <TextBlock Margin="3,0,0,0"
                                                FontWeight="Bold"
                                                Style="{DynamicResource TextBlock16Style}"
                                                Text="{DynamicResource LeadsEditViewOpportunityOpen}" />
                                                    <StackPanel>
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="50*" />
                                                                <ColumnDefinition Width="50*" />
                                                                <ColumnDefinition Width="50*" />
                                                            </Grid.ColumnDefinitions>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="30" />
                                                                <RowDefinition Height="40" />
                                                            </Grid.RowDefinitions>
                                                            <TextBlock Grid.Column="0"
                                                        Grid.Row="0"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{DynamicResource LeadsEditViewCreateIn}" />
                                                            <TextBlock Grid.Column="0"
                                                        Grid.Row="1"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{Binding DataContext.SelectedLeadList[0].CreatedIn, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                                            <TextBlock Grid.Column="1"
                                                        Grid.Row="0"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{DynamicResource LeadsEditViewModifyIn}" />
                                                            <TextBlock Grid.Column="1"
                                                        Grid.Row="1"
                                                        HorizontalAlignment="Center"
                                                        Style="{DynamicResource TextBlock16Style}"
                                                        Text="{Binding DataContext.SelectedLeadList[0].ModifiedIn, StringFormat=d, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture},RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                                            <!-- #FF3C618D,#FF023E7C,#FF0060B6 <Image Source="/Emdep.Geos.Modules.Crm;component/Assets/Images/ForecastStatus.png" Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" HorizontalAlignment="Stretch" VerticalAlignment="Top"></Image>-->
                                                            <Grid Grid.Column="2"
                                                        Grid.Row="0"
                                                        Grid.RowSpan="2"
                                                        Margin="18,0,0,20">
                                                                <Grid.ToolTip>
                                                                    <ToolTip>
                                                                        <ToolTip.Template>
                                                                            <ControlTemplate TargetType="ToolTip">
                                                                                <dxg:GridControl x:Name="grid"
                                                                            Height="200"
                                                                            Width="250"
                                                                            ItemsSource="{Binding DataContext.ShowStatusList.OfferStatusTracking, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox, Mode=FindAncestor}, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" ImplyNullLikeEmptyStringWhenFiltering="True">
                                                                                    <dxg:GridControl.View>
                                                                                        <dxg:TableView x:Name="view"
                                                                                    HorizontalContentAlignment="Center"
                                                                                    AllowBestFit="True"
                                                                                    AllowColumnFiltering="False"
                                                                                    AllowColumnMoving="True"
                                                                                    AllowConditionalFormattingMenu="True"
                                                                                    AllowEditing="False"
                                                                                    AllowGrouping="False"
                                                                                    AllowResizing="True"
                                                                                    AllowScrollAnimation="True"
                                                                                    AllowScrollHeaders="False"
                                                                                    AllowSorting="True"
                                                                                    AutoMoveRowFocus="False"
                                                                                    AutoWidth="True"
                                                                                    FocusedRow="{Binding SelectedObject, Mode=TwoWay}"
                                                                                    NavigationStyle="Row"
                                                                                    RowMinHeight="20"
                                                                                    ShowAutoFilterRow="False"
                                                                                    ShowColumnHeaders="True"
                                                                                    ShowGroupPanel="False"
                                                                                    ShowHorizontalLines="True"
                                                                                    ShowIndicator="False"
                                                                                    ShowVerticalLines="True"
                                                                                    VerticalScrollbarVisibility="Auto" 
                                                                                    SearchPanelHorizontalAlignment="Stretch"
                                                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" />
                                                                                    </dxg:GridControl.View>
                                                                                    <dxg:GridControl.Columns>
                                                                                        <dxg:GridColumn Width="80"
                                                                                    FieldName="SalesStatusType.Name"
                                                                                    Header="Status"
                                                                                    HorizontalHeaderContentAlignment="Center" FilterPopupMode="CheckedList">
                                                                                            <dxg:GridColumn.CellTemplate>
                                                                                                <DataTemplate>
                                                                                                    <Border Background="{Binding Data.SalesStatusType.HtmlColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                                                                        <TextBlock Text="{Binding Data.SalesStatusType.Name}" Background="{Binding Data.SalesStatusType.HtmlColor}" Style="{StaticResource ApplyForeColorTextBlock}" HorizontalAlignment="Center" />
                                                                                                    </Border>
                                                                                                </DataTemplate>
                                                                                            </dxg:GridColumn.CellTemplate>
                                                                                        </dxg:GridColumn>
                                                                                        <dxg:GridColumn Width="100"
                                                                                    FieldName="NoOfDays"
                                                                                    Header="No. of Days"
                                                                                    HorizontalHeaderContentAlignment="Center" FilterPopupMode="CheckedList">
                                                                                            <dxg:GridColumn.CellTemplate>
                                                                                                <DataTemplate>
                                                                                                    <Border Background="{Binding Data.SalesStatusType.HtmlColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                                                                                        <TextBlock Text="{Binding Data.NoOfDays}" Background="{Binding Data.SalesStatusType.HtmlColor}" Style="{StaticResource ApplyForeColorTextBlock}" HorizontalAlignment="Center" />
                                                                                                    </Border>
                                                                                                </DataTemplate>
                                                                                            </dxg:GridColumn.CellTemplate>
                                                                                        </dxg:GridColumn>
                                                                                    </dxg:GridControl.Columns>
                                                                                </dxg:GridControl>
                                                                            </ControlTemplate>
                                                                        </ToolTip.Template>
                                                                    </ToolTip>
                                                                </Grid.ToolTip>
                                                                <!--<Ellipse Height="50" Fill="#FF005BAA" Width="50"/>-->
                                                                <Ellipse Height="50"
                                                            Width="50"
                                                            StrokeThickness="1"
                                                            Style="{DynamicResource EllipseStyle}" />
                                                                <TextBlock Margin="0"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Top"
                                                            Foreground="White"
                                                            Style="{DynamicResource TextBlockdaysStyle}"
                                                            Text="{DynamicResource LeadsEditViewAge}"
                                                            TextAlignment="Center" />
                                                                <TextBlock HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            TextAlignment="Center">
                                                                    <TextBlock.Style>
                                                                        <Style BasedOn="{StaticResource TextBlock18Style}" TargetType="{x:Type TextBlock}">
                                                                            <Setter Property="Foreground" Value="White" />
                                                                            <Setter Property="Text" Value="{Binding DataContext.LeadsGenerateDays,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                                                            <Style.Triggers>
                                                                                <DataTrigger Value="True" Binding="{Binding DataContext.LeadsGenerateDays,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},Converter={UIConverter:RangeToBooleanConverter}}">
                                                                                    <Setter Property="Text" Value="99+" />
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </TextBlock.Style>
                                                                </TextBlock>
                                                                <TextBlock Margin="0,0,0,3"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Bottom"
                                                            Foreground="White"
                                                            Style="{DynamicResource TextBlockdaysStyle}"
                                                            Text="{DynamicResource LeadsEditViewDays}"
                                                            TextAlignment="Center" />
                                                            </Grid>
                                                        </Grid>
                                                    </StackPanel>
                                                </StackPanel>
                                            </Border>
                                        </Grid>
                                        <!-- Start Grid -->
                                    </ScrollViewer>
                                </DataTemplate>
                            </dxlc:GroupBox.MaximizedContentTemplate>
                        </dxlc:GroupBox>

                        <!--[skale][20/11/2019][GEOS2-1806]- Add new field "Offer Owner" and "Offered To" in Opportunities-->
                        <!--Contacts-->
                        <!--<dxlc:GroupBox x:Name="Contacts" Style="{StaticResource myGroupBoxStyle}">
                    <dxlc:GroupBox.HeaderTemplate>
                        <DataTemplate>
                            <DockPanel Margin="-5,0,0,0">
                                <TextBlock Margin="0,0,0,0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource LeadsEditViewContact}" />
                                <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ContactCount"
                                    Text="{Binding DataContext.ListAddedContact.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                            </DockPanel>
                        </DataTemplate>
                    </dxlc:GroupBox.HeaderTemplate>
                    <dxlc:GroupBox.ContentTemplate>
                        <DataTemplate>
                            <Border Style="{DynamicResource BorderStyle}">
                                <Grid Margin="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <dxe:ImageEdit Grid.Column="0"  Margin="5,0,0,0"
                                               Stretch="UniformToFill" 
                                               Height="80" Width="80" 
                                               Source="{Binding DataContext.PrimaryOfferContact.People.OwnerImage,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                               ShowMenu="False" IsReadOnly="True"/>
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Top" Margin="12,0,12,0" Grid.Column="1">
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                            <TextBlock Text="{Binding DataContext.PrimaryOfferContact.People.FullName,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextTrimming="CharacterEllipsis" FontWeight="Bold"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                            <TextBlock Text="{Binding DataContext.PrimaryOfferContact.People.JobTitle,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextTrimming="CharacterEllipsis" />
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <Image Height="16"
                                                    Width="16"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Top"
                                                    Style="{DynamicResource PhoneColorImageStyle}" />
                                            <TextBlock Text="{Binding DataContext.PrimaryOfferContact.People.Phone,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" TextTrimming="CharacterEllipsis" Margin="5,0,0,0" />
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <Image Height="16"
                                                    Width="16"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Top"
                                                    Style="{DynamicResource EmailColorImageStyle}" />
                                            <TextBlock TextTrimming="CharacterEllipsis" Margin="5,0,0,0">
                                                    <Hyperlink TargetName="_blank"
                                                        Command="{Binding DataContext.HyperlinkForEmail,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        CommandParameter="{Binding DataContext.PrimaryOfferContact.People.Email,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        Style="{DynamicResource hyperlinkGridStyle}">
                                                        <InlineUIContainer>
                                                            <TextBlock Text="{Binding DataContext.PrimaryOfferContact.People.Email,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                                        </InlineUIContainer>
                                                    </Hyperlink>
                                                </TextBlock>
                                        </StackPanel>
                                    </StackPanel>
                                    <Grid.Style>
                                        <Style TargetType="{x:Type Grid}">
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Style.Triggers>
                                                <DataTrigger Value="{x:Null}" Binding="{Binding DataContext.PrimaryOfferContact, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                    <Setter Property="Visibility" Value="Hidden" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                </Grid>
                            </Border>

                        </DataTemplate>
                    </dxlc:GroupBox.ContentTemplate>
                    <dxlc:GroupBox.MaximizedContentTemplate>
                        <DataTemplate>
                            <Grid Margin="-10">
                                <dxdo:DockLayoutManager Margin="7" Name="DockManager">
                                    <dxdo:LayoutGroup x:Name="RootGroup1" Orientation="Vertical">
                                        <dxdo:LayoutPanel x:Name="AssignedSalesOwnerList" Margin="-4 -4 -4 0"
                                                                  AllowHide="False" AllowClose="False"
                                                                  ShowPinButton="False" 
                                                                  SnapsToDevicePixels="True">
                                            <dxe:ListBoxEdit x:Name="ListBoxEditContact" ItemsSource="{Binding DataContext.ListAddedContact,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" 
                                                                     HorizontalContentAlignment="Stretch" VerticalAlignment="Stretch"
                                                                     ScrollViewer.CanContentScroll="False" ItemContainerStyle="{DynamicResource EditorListBoxThemeKey_DefaultItemStyle}">
                                                <dxe:ListBoxEdit.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border Style="{DynamicResource BorderStyle}">
                                                            <Grid Width="450">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="120" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="20" />
                                                                </Grid.ColumnDefinitions>

                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="30" />
                                                                    <RowDefinition Height="30" />
                                                                    <RowDefinition Height="30" />
                                                                    <RowDefinition Height="30" />
                                                                </Grid.RowDefinitions>
                                                              
                                                                <dxe:ImageEdit Grid.Column="0" Grid.Row="0" Grid.RowSpan="4" 
                                                                           ShowMenu="False" ShowLoadDialogOnClickMode="Never"
                                                                           Source="{Binding Path=OwnerImage}"
                                                                           Stretch="UniformToFill" />

                                                                <TextBlock Grid.Column="1" 
                                                                                    Grid.Row="0"
                                                                                    Margin="5,0,0,0"
                                                                                    HorizontalAlignment="Left"
                                                                                    VerticalAlignment="Center"
                                                                                    FontWeight="Bold"
                                                                                    Style="{DynamicResource TextBlock16Style}"
                                                                                    Text="{Binding Path=FullName}" TextWrapping="WrapWithOverflow"  />

                                                                <TextBlock Grid.Column="1" 
                                                                                    Grid.Row="1" Grid.ColumnSpan="2"
                                                                                    Margin="5,2,0,2"
                                                                                    HorizontalAlignment="Left"
                                                                                    FontWeight="Bold"
                                                                                    Style="{DynamicResource TextBlock12Style}"
                                                                                    Text="{Binding Path=JobTitle}" TextWrapping="WrapWithOverflow" />

                                                                <StackPanel Grid.Column="2" 
                                                                                    Grid.Row="0" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0 3 3 0">
                                                                    <Button ToolTip="{DynamicResource PrimaryContact}" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"
                                                                                     
                                                                    Command="{Binding DataContext.SetSalesResponsibleCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" CommandParameter="{Binding Path=.}">
                                                                        <Image Grid.Column="2" 
                                                                                    Grid.Row="0"
                                                                                    Width="16"
                                                                                    Height="16"                                                                                  
                                                                            HorizontalAlignment="Center" VerticalAlignment="Center" >
                                                                            <Image.Style>
                                                                                <Style TargetType="{x:Type Image}">
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding IsSelected,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="True">
                                                                                            <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/PrimaryContact.png" />
                                                                                        </DataTrigger>
                                                                                        <DataTrigger Binding="{Binding IsSelected,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" Value="False">
                                                                                            <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/PrimaryContactSales.png" />
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </Image.Style>

                                                                        </Image>

                                                                    </Button>
                                                                </StackPanel>

                                                                <WrapPanel Grid.Column="1" Grid.Row="2" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="5,0,0,0">
                                                                    <Image Height="16"
                                                                                Width="16"
                                                                                Margin="0,0,0,0"
                                                                                HorizontalAlignment="Left"
                                                                                VerticalAlignment="Top"
                                                                                Style="{DynamicResource PhoneColorImageStyle}" />
                                                                    <TextBlock Style="{DynamicResource TextBlock12Style}"
                                                                                Text="{Binding Path=Phone}" Margin="5,0,0,0"
                                                                                TextTrimming="CharacterEllipsis" />
                                                                </WrapPanel>
                                                                
                                                                <WrapPanel Grid.Column="1" Grid.Row="3" Grid.ColumnSpan="2" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="5,0,0,0">
                                                                    <Image Height="16"
                                                                                Width="16"
                                                                                Margin="0,0,0,0"
                                                                                HorizontalAlignment="Left"
                                                                                VerticalAlignment="Top"
                                                                                Style="{DynamicResource EmailColorImageStyle}" />
                                                                    <TextBlock TextTrimming="CharacterEllipsis" Margin="5,0,0,0">
                                                                                <Hyperlink TargetName="_blank"
                                                                                    Command="{Binding DataContext.HyperlinkForEmail,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                                                    CommandParameter="{Binding Email}"
                                                                                    Style="{DynamicResource hyperlinkGridStyle}">
                                                                                    <InlineUIContainer>
                                                                                        <TextBlock Text="{Binding Path=Email}" />
                                                                                    </InlineUIContainer>
                                                                                </Hyperlink>
                                                                            </TextBlock>
                                                                </WrapPanel>
                                                                
                                                                <dxe:ButtonEdit Grid.Row="0"
                                                                                    Grid.Column="3" Grid.ColumnSpan="2"
                                                                                    HorizontalAlignment="Right" VerticalAlignment="Top"
                                                                                    Margin="0 4 4 0"
                                                                                    ShowText="False" Width="15" Height="15" 
                                                                                    Background="Transparent"
                                                                                    AllowDefaultButton="False">
                                                                    <dxe:ButtonEdit.Buttons>
                                                                        <dxe:ButtonInfo GlyphKind="Cancel">
                                                                            <dxmvvm:Interaction.Behaviors>
                                                                                <dxmvvm:EventToCommand Command="{Binding DataContext.AssignedSalesCancelCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                                                                           EventName="Click"
                                                                                                           CommandParameter="{Binding Path=.}" />
                                                                            </dxmvvm:Interaction.Behaviors>
                                                                        </dxe:ButtonInfo>
                                                                    </dxe:ButtonEdit.Buttons>
                                                                </dxe:ButtonEdit>
                                                            </Grid>
                                                        </Border>
                                                    </DataTemplate>
                                                </dxe:ListBoxEdit.ItemTemplate>

                                                <dxe:ListBoxEdit.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <WrapPanel Width="{Binding ActualWidth, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ScrollContentPresenter}}" />
                                                    </ItemsPanelTemplate>
                                                </dxe:ListBoxEdit.ItemsPanel>

                                                <dxmvvm:Interaction.Behaviors>
                                                    <dxmvvm:EventToCommand Command="{Binding DataContext.LinkedContactDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                           EventName="MouseDoubleClick" CommandParameter="{Binding Path=.}">
                                                        <dxmvvm:EventToCommand.EventArgsConverter>
                                                            <dx:EventArgsToDataRowConverter />
                                                        </dxmvvm:EventToCommand.EventArgsConverter>
                                                    </dxmvvm:EventToCommand>
                                                </dxmvvm:Interaction.Behaviors>
                                            </dxe:ListBoxEdit>
                                        </dxdo:LayoutPanel>
                                    </dxdo:LayoutGroup>

                                    <dxdo:DockLayoutManager.AutoHideGroups>
                                        <dxdo:AutoHideGroup DockType="Bottom">
                                            <dxdo:LayoutPanel x:Name="AddSalesUser" ItemHeight="360" 
                                                              Caption="{DynamicResource AddContactViewHeader}" AllowClose="False">
                                                <dxg:GridControl x:Name="SalesUserContacts"
                                                    DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox, Mode=FindAncestor}}"
                                                    EnableSmartColumnsGeneration="True"
                                                    ItemsSource="{Binding ListCustomerContact}"
                                                    SelectionMode="Row" ImplyNullLikeEmptyStringWhenFiltering="True" >

                                                    <dxg:GridColumn AllowEditing="False" FieldName="FullName" Header="{DynamicResource CustomerEditViewFullName}" FilterPopupMode="CheckedList" />
                                                    <dxg:GridColumn AllowEditing="False" FieldName="CompanyDepartment.Value" Header="{DynamicResource ContactViewDepartment}" FilterPopupMode="CheckedList" />
                                                    <dxg:GridColumn AllowEditing="False" FieldName="JobTitle" Header="{DynamicResource ContactViewJobTitle}" FilterPopupMode="CheckedList" />
                                                  
                                                    <dxg:GridControl.View>
                                                        <dxg:TableView x:Name="tableSalesUserContact"
                                                            AllowBestFit="True"
                                                            AutoWidth="True"
                                                            EnableImmediatePosting="True"
                                                            HorizontalScrollbarVisibility="Auto"
                                                            IndicatorWidth="25"
                                                            NavigationStyle="Cell"
                                                            ShowGroupPanel="False"
                                                            ShowIndicator="False"
                                                            ShowAutoFilterRow="True"
                                                            ShowSearchPanelMode="Default"
                                                            VerticalScrollbarVisibility="Auto"
                                                            SearchPanelHorizontalAlignment="Stretch"
                                                            ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly">

                                                            <dxmvvm:Interaction.Behaviors>
                                                                <dxmvvm:EventToCommand Command="{Binding DataContext.GetSalesContactCommand, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox, Mode=FindAncestor}}"
                                                                                           EventName="MouseDoubleClick"
                                                                                           PassEventArgsToCommand="True">
                                                                    <dxmvvm:EventToCommand.EventArgsConverter>
                                                                        <dx:EventArgsToDataRowConverter />
                                                                    </dxmvvm:EventToCommand.EventArgsConverter>
                                                                </dxmvvm:EventToCommand>
                                                            </dxmvvm:Interaction.Behaviors>

                                                        </dxg:TableView>
                                                    </dxg:GridControl.View>

                                                </dxg:GridControl>
                                            </dxdo:LayoutPanel>
                                        </dxdo:AutoHideGroup>
                                    </dxdo:DockLayoutManager.AutoHideGroups>
                                </dxdo:DockLayoutManager>
                            </Grid>

                        </DataTemplate>
                    </dxlc:GroupBox.MaximizedContentTemplate>
                </dxlc:GroupBox>-->


                        <!--Attachment-->
                        <dxlc:GroupBox x:Name="Attachments" Visibility="Collapsed" Style="{StaticResource myGroupBoxStyle}">
                            <dxlc:GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <DockPanel Margin="-5,0,0,0">
                                        <TextBlock Margin="5,0,0,0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource LeadsEditViewAttachment}" />
                                        <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="AttachmetsCount"
                                    Text="0" />
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.HeaderTemplate>
                            <dxlc:GroupBox.ContentTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50" />
                                            <ColumnDefinition Width="200" />
                                        </Grid.ColumnDefinitions>
                                    </Grid>
                                </DataTemplate>
                            </dxlc:GroupBox.ContentTemplate>
                            <dxlc:GroupBox.MaximizedContentTemplate>
                                <DataTemplate />
                            </dxlc:GroupBox.MaximizedContentTemplate>
                        </dxlc:GroupBox>
                        <!--Activity-->
                        <dxlc:GroupBox x:Name="Activities" Style="{StaticResource myGroupBoxStyle}">
                            <dxlc:GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <DockPanel Margin="-5,0,0,0">
                                        <TextBlock Text="{DynamicResource CustomerEditViewActivities}" Margin="5,0,0,0"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    ></TextBlock>
                                        <TextBlock Name="ActivityCount" Text="{Binding DataContext.OrderActivityList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                       FontWeight="Bold"
                                    Width="50"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Margin="5,1,0,0"
                                    />
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.HeaderTemplate>
                            <dxlc:GroupBox.ContentTemplate>
                                <DataTemplate>
                                    <Grid>
                                        <Grid.Style>
                                            <Style>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding DataContext.OrderActivityList.Count,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="0">
                                                        <Setter Property="Grid.Visibility" Value="Hidden" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="18" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <!--Type-->
                                        <Label Content="{DynamicResource EditActivityType}" FontWeight="Bold"
                                        Grid.Column="0"
                                        HorizontalAlignment="Left" />
                                        <Image Grid.Row="0" Grid.Column="1" Width="15" Height="15" Margin="3,0,0,0">
                                            <Image.Style>
                                                <Style>
                                                    <Style.Triggers>
                                                        <!-- Appoinment !-->
                                                        <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="1">
                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyle}" />
                                                        </DataTrigger>
                                                        <!-- Call !-->
                                                        <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="2">
                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeCallImageStyle}" />
                                                        </DataTrigger>
                                                        <!-- Email !-->
                                                        <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="3">
                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeEmailImageStyle}" />
                                                        </DataTrigger>
                                                        <!-- Task !-->
                                                        <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="4">
                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeTaskImageStyle}" />
                                                        </DataTrigger>
                                                        <!-- Information !-->
                                                        <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="5">
                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyle}" />
                                                        </DataTrigger>
                                                        <!-- Planned Appoinment !-->
                                                        <DataTrigger Binding="{Binding DataContext.CustomerActivityList[0].LookupValue.IdImage, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="6">
                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityTypePlannedAppointmentImageStyle}" />
                                                        </DataTrigger>
                                                <!-- Action !-->
                                                <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdLookupValue, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="271">
                                                    <Setter Property="Image.Source" Value="{DynamicResource ActionTypeActionImageStyle}" />
                                                </DataTrigger>
                                                <!-- Action Information !-->
                                                <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdLookupValue, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Value="272">
                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyle}" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <TextBlock Text="{Binding DataContext.OrderActivityList[0].LookupValue.Value, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                           Grid.Column="2" Grid.Row="0"
                                            Margin="5,0,0,0" Padding="2"
                                            HorizontalAlignment="Left" VerticalAlignment="Center" />

                                        <!--Subject-->
                                        <Label Content="{DynamicResource EditActivitySubject}" FontWeight="Bold"
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        HorizontalAlignment="Left" />
                                        <TextBlock Grid.Row="1"
                                            Grid.Column="1"
                                            Grid.ColumnSpan="2" Margin="3,0,0,0" Padding="2"
                                            HorizontalAlignment="Left" VerticalAlignment="Center"
                                                   TextWrapping="Wrap" 
                                           MaxHeight="30" 
                                           TextTrimming="CharacterEllipsis"
                                           Text="{Binding DataContext.OrderActivityList[0].Subject, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                                   ToolTip="{Binding DataContext.OrderActivityList[0].Subject, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                        <!--Due date-->
                                        <Label Content="{DynamicResource ActivityDueDate}" FontWeight="Bold"
                                        Grid.Row="2"
                                        Grid.Column="0"
                                        HorizontalAlignment="Left" />
                                        <dxe:TextEdit Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Margin="3,0,0,0" Padding="2" 
                                              Text="{Binding DataContext.OrderActivityList[0].ToDate, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                              Style="{DynamicResource TextEditStyle}"
                                              Mask="{StaticResource ShortDateFormat}" MaskType="DateTime" MaskUseAsDisplayFormat="True" IsPrintingMode="True" />

                                        <!--Owner-->
                                        <!--
                            <Label Content= "{DynamicResource NewActivityOwner}" FontWeight="Bold" Grid.Row="3" Grid.Column="0" HorizontalAlignment="Left" 
                                       Visibility="{Binding DataContext.IsAppointmentVisible,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            <dxe:TextEdit Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="2" Margin="3,0,0,0" Padding="2" Text="{Binding DataContext.ToDate, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                              Style="{DynamicResource TextEditStyle}"
                                              Mask="{StaticResource ShortDateTimeFormat}" MaskType="DateTime" MaskUseAsDisplayFormat="True" IsPrintingMode="True" 
                                              Visibility="{Binding DataContext.IsAppointmentVisible,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>-->
                                    </Grid>
                                </DataTemplate>
                            </dxlc:GroupBox.ContentTemplate>
                            <dxlc:GroupBox.MaximizedContentTemplate>
                                <DataTemplate>

                                    <Grid Margin="-10">
                                        <dxdo:DockLayoutManager Margin="7" Name="DockManager">

                                            <dxdo:LayoutGroup x:Name="RootGroup1" Orientation="Vertical">
                                                <dxdo:LayoutPanel x:Name="AssignedSalesOwnerList" Margin="-10 -10 -10 0"
                                                                  AllowHide="False" AllowClose="False"
                                                                  ShowPinButton="False" 
                                                                  SnapsToDevicePixels="True">

                                                    <Grid>
                                                        <dxg:GridControl x:Name="ActivityGrid" ScrollViewer.VerticalScrollBarVisibility="Auto" VerticalAlignment="Stretch"
                                                 SelectedItem="{Binding DataContext.SelectedActivity,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                 ItemsSource="{Binding DataContext.OrderActivityList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                 Width="Auto" SelectionMode="Row" FilterString="{Binding MyFilterString}" ImplyNullLikeEmptyStringWhenFiltering="True">
                                                            <dxg:GridControl.Columns>
                                                                <dxg:GridColumn FieldName="Subject" Header="{DynamicResource ActivitySubjectHeader}" MinWidth="100" Width="150" ReadOnly="True" FilterPopupMode="CheckedList" />
                                                        <dxg:GridColumn FieldName="Category" Header="{DynamicResource ActivityCategoryHeader}" MinWidth="100" Width="150" ReadOnly="True" FilterPopupMode="CheckedList">
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <!--<Image Margin="5" Height="16" Width="16" Style="{StaticResource ActivityTypeImage}" />-->
                                                                        <TextBlock Text="{Binding RowData.Row.Category}" VerticalAlignment="Center" Margin="5 0" />
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>
                                                        <dxg:GridColumn FieldName="LookupValue.Value" Header="{DynamicResource ActivityTypeHeader}" MinWidth="100" Width="150" ReadOnly="True" FilterPopupMode="CheckedList">
                                                                    <dxg:GridColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <StackPanel Orientation="Horizontal">
                                                                                <Image Margin="5" Height="16" Width="16">
                                                                                    <Image.Style>
                                                                                        <Style>
                                                                                            <Style.Triggers>
                                                                                                <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage}" Value="1">
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyleInvert}" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage}" Value="2">
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeCallImageStyleInvert}" />
                                                                                                </DataTrigger>

                                                                                                <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage}" Value="3">
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeEmailImageStyleInvert}" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage}" Value="4">
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeTaskImageStyleInvert}" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage}" Value="5">
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyleInvert}" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage}" Value="6">
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypePlannedAppointmentImageStyleInvert}" />
                                                                                                </DataTrigger>
                                                                                        <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="271">
                                                                                            <Setter Property="Image.Source" Value="{DynamicResource ActionTypeActionImageStyleInvert}" />
                                                                                        </DataTrigger>
                                                                                        <DataTrigger Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="272">
                                                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyleInvert}" />
                                                                                        </DataTrigger>
                                                                                        <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding DataContext.OrderActivityList[0].LookupValue.IdImage}" Value="1" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyle}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyleInvert}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyle}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyleInvert}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeAppointmentImageStyle}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="1" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource AcitvityTypeAppointmentImageStyleInvert}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="2" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeCallImageStyle}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="2" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeCallImageStyleInvert}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="3" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeEmailImageStyle}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="3" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeEmailImageStyleInvert}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="4" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeTaskImageStyle}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="4" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeTaskImageStyleInvert}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="5" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyle}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="5" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyleInvert}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="6" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypePlannedAppointmentImageStyle}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.LookupValue.IdImage}" Value="6" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityTypePlannedAppointmentImageStyleInvert}" />
                                                                                                </MultiDataTrigger>
                                                                                        <MultiDataTrigger>
                                                                                            <MultiDataTrigger.Conditions>
                                                                                                <Condition Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="271" />
                                                                                                <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                            </MultiDataTrigger.Conditions>
                                                                                            <Setter Property="Image.Source" Value="{DynamicResource ActionTypeActionImageStyle}" />
                                                                                        </MultiDataTrigger>
                                                                                        <MultiDataTrigger>
                                                                                            <MultiDataTrigger.Conditions>
                                                                                                <Condition Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="271" />
                                                                                                <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                            </MultiDataTrigger.Conditions>
                                                                                            <Setter Property="Image.Source" Value="{DynamicResource ActionTypeActionImageStyleInvert}" />
                                                                                        </MultiDataTrigger>
                                                                                        <MultiDataTrigger>
                                                                                            <MultiDataTrigger.Conditions>
                                                                                                <Condition Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="272" />
                                                                                                <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                            </MultiDataTrigger.Conditions>
                                                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyle}" />
                                                                                        </MultiDataTrigger>
                                                                                        <MultiDataTrigger>
                                                                                            <MultiDataTrigger.Conditions>
                                                                                                <Condition Binding="{Binding RowData.Row.LookupValue.IdLookupValue}" Value="272" />
                                                                                                <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                            </MultiDataTrigger.Conditions>
                                                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityTypeInformationImageStyleInvert}" />
                                                                                        </MultiDataTrigger>
                                                                                    </Style.Triggers>
                                                                                        </Style>
                                                                                    </Image.Style>
                                                                                </Image>
                                                                                <TextBlock Text="{Binding RowData.Row.LookupValue.Value}" VerticalAlignment="Center" Margin="5 0" />
                                                                            </StackPanel>
                                                                        </DataTemplate>
                                                                    </dxg:GridColumn.CellTemplate>
                                                                </dxg:GridColumn>
                                                                <dxg:GridColumn FieldName="ToDate" Header="{DynamicResource ActivityDueDateHeader}" MinWidth="100" Width="145" ReadOnly="True" FilterPopupMode="CheckedList" />
                                                                <dxg:GridColumn FieldName="ActivityGridStatus" Header="{DynamicResource ActivityGridStatus}" MinWidth="100" Width="120" ReadOnly="True" FilterPopupMode="CheckedList">
                                                                    <dxg:GridColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <StackPanel Orientation="Horizontal">
                                                                                <Image Margin="5 2 2 2" Height="16" Width="16">
                                                                                    <Image.Style>
                                                                                        <Style>
                                                                                            <Style.Triggers>
                                                                                                <DataTrigger Binding="{Binding RowData.Row.ActivityGridStatus}" Value="Completed">
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityCompletedStyle}" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding RowData.Row.ActivityStatus.IdImage}" Value="2">
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityStatusInProgressInvert}" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding RowData.Row.ActivityStatus.IdImage}" Value="1">
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityStatusNotStartedInvert}" />
                                                                                                </DataTrigger>
                                                                                        <DataTrigger Binding="{Binding RowData.Row.ActivityGridStatus}" Value="Done">
                                                                                            <Setter Property="Image.Source" Value="{DynamicResource ActivityCompletedStyle}" />
                                                                                        </DataTrigger>
                                                                                        <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.ActivityStatus.IdImage}" Value="2" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityStatusInProgress}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.ActivityStatus.IdImage}" Value="2" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityStatusInProgressInvert}" />
                                                                                                </MultiDataTrigger>

                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.ActivityStatus.IdImage}" Value="1" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="None" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityStatusNotStarted}" />
                                                                                                </MultiDataTrigger>
                                                                                                <MultiDataTrigger>
                                                                                                    <MultiDataTrigger.Conditions>
                                                                                                        <Condition Binding="{Binding RowData.Row.ActivityStatus.IdImage}" Value="1" />
                                                                                                        <Condition Binding="{Binding RowData.SelectionState}" Value="Focused" />
                                                                                                    </MultiDataTrigger.Conditions>
                                                                                                    <Setter Property="Image.Source" Value="{DynamicResource ActivityStatusNotStartedInvert}" />
                                                                                                </MultiDataTrigger>
                                                                                            </Style.Triggers>
                                                                                        </Style>
                                                                                    </Image.Style>
                                                                                </Image>
                                                                                <TextBlock Margin="5 0 0 0" Text="{Binding Path=RowData.Row.ActivityGridStatus}" VerticalAlignment="Center" />
                                                                            </StackPanel>
                                                                        </DataTemplate>
                                                                    </dxg:GridColumn.CellTemplate>
                                                                </dxg:GridColumn>
                                                                <dxg:GridColumn FieldName="CloseDate" Header="{DynamicResource ActivityCloseDate}" MinWidth="100" Width="140" ReadOnly="True" FilterPopupMode="CheckedList" />
                                                                <dxg:GridColumn FieldName="People.FullName" Header="{DynamicResource ActivityOwnerHeader}" MinWidth="100" Width="*" ReadOnly="True" FilterPopupMode="CheckedList" />
                                                            </dxg:GridControl.Columns>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <UIHelper:GridSelectingBehavior />
                                                            </dxmvvm:Interaction.Behaviors>
                                                            <dxg:GridControl.View>
                                                                <dxg:TableView Name="ActivityTableView"
                                                                       NavigationStyle="Row"
                                                                       RowDetailsVisibilityMode="Visible"
                                                                       ShowHorizontalLines="True" 
                                                                       VerticalScrollbarVisibility="Auto" AllowFixedColumnMenu="False" AllowSorting="True"
                                                                       AllowGrouping="False" ShowGroupPanel="False" ShowIndicator="False"
                                                                       SearchPanelHorizontalAlignment="Stretch"
                                                                       ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly">
                                                                    <dxmvvm:Interaction.Behaviors>
                                                                        <dxmvvm:EventToCommand Command="{Binding DataContext.ActivitiesGridDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                   EventName="MouseDoubleClick"
                                                   PassEventArgsToCommand="True">
                                                                            <dxmvvm:EventToCommand.EventArgsConverter>
                                                                                <dx:EventArgsToDataRowConverter />
                                                                            </dxmvvm:EventToCommand.EventArgsConverter>
                                                                        </dxmvvm:EventToCommand>
                                                                    </dxmvvm:Interaction.Behaviors>
                                                                </dxg:TableView>
                                                            </dxg:GridControl.View>
                                                        </dxg:GridControl>
                                                    </Grid>
                                                </dxdo:LayoutPanel>
                                            </dxdo:LayoutGroup>
                                            <dxdo:DockLayoutManager.AutoHideGroups>
                                                <dxdo:AutoHideGroup DockType="Bottom" Grid.Row="1" Margin="0 0 30 0">
                                                    <dxdo:LayoutPanel x:Name="AddExistingActivitiesTobeLinked" ItemHeight="360" 
                                                              Caption="{DynamicResource LeadsEditViewAddActivity}" AllowClose="False" AllowDrag="False" AllowContextMenu="False" AllowFloat="False" ItemWidth="Auto">
                                                        <Grid>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="*" />
                                                                <RowDefinition Height="40" />
                                                            </Grid.RowDefinitions>
                                                            <dxg:GridControl x:Name="ExistingActivitiesGrid"
                                                                 DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox, Mode=FindAncestor}}"
                                                                 EnableSmartColumnsGeneration="True"
                                                                 ItemsSource="{Binding ExistingActivitiesTobeLinked}"
                                                                 SelectionMode="Row" ImplyNullLikeEmptyStringWhenFiltering="True">

                                                                <dxg:GridControl.Columns>
                                                                    <dxg:GridColumn FieldName="LookupValue.Value" Header="{DynamicResource ActivityTypeHeader}" MinWidth="100" Width="150" ReadOnly="True" FilterPopupMode="CheckedList">
                                                                        <dxg:GridColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <StackPanel Orientation="Horizontal">
                                                                                    <Image Margin="5" Height="16" Width="16" Style="{StaticResource ActivityTypeImage}" />
                                                                            <Image Margin="-18 2 2 2" Height="16" Width="16" Style="{StaticResource ActionTypeImage}" />
                                                                            <TextBlock Text="{Binding RowData.Row.LookupValue.Value}" VerticalAlignment="Center" Margin="5 0" />
                                                                                </StackPanel>
                                                                            </DataTemplate>
                                                                        </dxg:GridColumn.CellTemplate>
                                                                    </dxg:GridColumn>
                                                                    <dxg:GridColumn FieldName="Subject" Header="{DynamicResource ActivitySubjectHeader}" FixedWidth="False" ReadOnly="True" FilterPopupMode="CheckedList" />
                                                                    <dxg:GridColumn FieldName="ToDate" Header="{DynamicResource ActivityDueDateHeader}" MinWidth="100" Width="145" ReadOnly="True" FilterPopupMode="CheckedList" />
                                                                </dxg:GridControl.Columns>

                                                                <dxg:GridControl.View>
                                                                    <dxg:TableView x:Name="tableSalesUserContact1"
                                                                       AllowBestFit="True"
                                                                       AutoWidth="True"
                                                                       EnableImmediatePosting="True"
                                                                       HorizontalScrollbarVisibility="Auto"
                                                                       IndicatorWidth="25"
                                                                       NavigationStyle="Row"
                                                                       ShowGroupPanel="False"
                                                                       ShowIndicator="False"
                                                                       ShowAutoFilterRow="True"
                                                                       ShowSearchPanelMode="Default"
                                                                       VerticalScrollbarVisibility="Auto"
                                                                       SearchPanelHorizontalAlignment="Stretch"
                                                                       ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly">

                                                                        <dxmvvm:Interaction.Behaviors>
                                                                            <dxmvvm:EventToCommand Command="{Binding DataContext.ExistingActivitiesGridDoubleClickCommand, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox, Mode=FindAncestor}}"
                                                                                       EventName="MouseDoubleClick"
                                                                                       PassEventArgsToCommand="True">
                                                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                                                    <dx:EventArgsToDataRowConverter />
                                                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                                                            </dxmvvm:EventToCommand>
                                                                        </dxmvvm:Interaction.Behaviors>

                                                                    </dxg:TableView>
                                                                </dxg:GridControl.View>

                                                            </dxg:GridControl>
                                                            <Button Height="30" Width="30" Grid.Row="1" Margin="0 0 5 5" HorizontalAlignment="Right" VerticalAlignment="Bottom"
                                    Command="{Binding DataContext.AddNewActivityCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" CommandParameter="{Binding ElementName=ActivityTableView}"
                                    Visibility="Visible" IsEnabled="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionEnabled}">

                                                                <Button.ToolTip>
                                                                    <TextBlock Text="{DynamicResource LeadsEditViewAddActivity}" />
                                                                </Button.ToolTip>
                                                                <Button.ContentTemplate>
                                                                    <DataTemplate>
                                                                        <Grid>
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="Auto" />
                                                                                <ColumnDefinition Width="*" />
                                                                            </Grid.ColumnDefinitions>
                                                                            <Image Style="{DynamicResource AddButtonImageStyle}" Grid.Column="1" Height="24" Width="24" HorizontalAlignment="Right" Margin="-10" />
                                                                        </Grid>
                                                                    </DataTemplate>
                                                                </Button.ContentTemplate>
                                                            </Button>
                                                        </Grid>
                                                    </dxdo:LayoutPanel>
                                                </dxdo:AutoHideGroup>
                                            </dxdo:DockLayoutManager.AutoHideGroups>

                                        </dxdo:DockLayoutManager>
                                    </Grid>

                                </DataTemplate>
                            </dxlc:GroupBox.MaximizedContentTemplate>
                        </dxlc:GroupBox>
                        <!--Purchase Orders-->
                        <dxlc:GroupBox x:Name="PurchaseOrders" Style="{StaticResource myGroupBoxStyle}">
                            <dxlc:GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <DockPanel Margin="-5,0,0,0">
                                        <TextBlock Margin="5,0,0,0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource OrderEditPurchaseOrders}" />
                                        <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ChangeLogCount"
                                    Text="{Binding DataContext.CustomerPurchaseOrderList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.HeaderTemplate>
                            <dxlc:GroupBox.ContentTemplate>
                                <DataTemplate>
                                    <StackPanel Margin="0">
                                        <Grid x:Name="PART_Root" Margin="-5">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                            </Grid.RowDefinitions>

                                            <Image Height="24" Width="24" 
                                           HorizontalAlignment="Left"
                                           Margin="3,0,0,0">
                                                <Image.Style>
                                                    <Style>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding DataContext.CustomerPurchaseOrderList[0].IsGoAhead, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="0">
                                                                <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/PODate_Green.png" />
                                                                <Setter Property="Image.ToolTip" Value="{DynamicResource AnnualSalesPerformanceViewPOyDate}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding DataContext.CustomerPurchaseOrderList[0].IsGoAhead, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="1">
                                                                <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/PODate_Red.png" />
                                                                <Setter Property="Image.ToolTip" Value="{DynamicResource AnnualSalesPerformanceViewPOyDate}" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>

                                            <TextBlock Grid.Row="0"
                                        Grid.Column="1"
                                               Margin="3,0,0,0"
                                               FontWeight="Bold" FontSize="16"
                                               Text="{Binding DataContext.CustomerPurchaseOrderList[0].CustomerPurchaseOrderType.POType, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />

                                            <Label Content="{DynamicResource OrderEditPODateBox}"
                                           Grid.Row="1"
                                           Grid.Column="0"
                                           Margin="3,0,0,0"
                                           FontWeight="Bold"
                                           Padding="2" />
                                            <TextBlock Text="{Binding DataContext.CustomerPurchaseOrderList[0].ReceivedIn, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"
                                               Grid.Row="1"
                                               Grid.Column="1"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               />

                                            <Label Content="{DynamicResource OrderEditPOCodeBox}"
                                           Grid.Row="2"
                                           Grid.Column="0"
                                           Margin="3,0,0,0"
                                           FontWeight="Bold"
                                           Padding="2" />
                                            <TextBlock Text="{Binding DataContext.CustomerPurchaseOrderList[0].Code, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                               Grid.Row="2"
                                               Grid.Column="1"
                                               Grid.ColumnSpan="3"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               TextWrapping="WrapWithOverflow" />
                                            <Grid.Style>
                                                <Style TargetType="{x:Type Grid}">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                    <Style.Triggers>
                                                        <DataTrigger Value="0" Binding="{Binding DataContext.CustomerPurchaseOrderList.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                            <Setter Property="Visibility" Value="Hidden" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Grid.Style>
                                        </Grid>
                                    </StackPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.ContentTemplate>
                            <dxlc:GroupBox.MaximizedContentTemplate>
                                <DataTemplate>

                                    <dxg:GridControl Margin="-10,-10,-10,-10"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Top"
                                    ItemsSource="{Binding DataContext.CustomerPurchaseOrderList,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay}"
                                    Padding="0"
                                    ScrollViewer.VerticalScrollBarVisibility="Visible"
                                    SelectionMode="Row" ImplyNullLikeEmptyStringWhenFiltering="True">
                                        <dxg:GridControl.Columns>
                                            <dxg:GridColumn Width="30"
                                                    FixedWidth="True"
                                                    Header=" "
                                                    FieldName="IsGoAhead"
                                                    ReadOnly="True" FilterPopupMode="CheckedList">
                                                <dxg:GridColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Image Height="24" Width="24">
                                                            <Image.Style>
                                                                <Style>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding RowData.Row.IsGoAhead}" Value="0">
                                                                            <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/PODate_Green.png" />
                                                                            <Setter Property="Image.ToolTip" Value="{DynamicResource AnnualSalesPerformanceViewPOyDate}" />
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding RowData.Row.IsGoAhead}" Value="1">
                                                                            <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.Crm;component/Assets/Images/PODate_Red.png" />
                                                                            <Setter Property="Image.ToolTip" Value="{DynamicResource AnnualSalesPerformanceViewPOyDate}" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Image.Style>
                                                        </Image>
                                                    </DataTemplate>
                                                </dxg:GridColumn.CellTemplate>
                                            </dxg:GridColumn>
                                            <dxg:GridColumn Width="150"
                                            FieldName="ReceivedIn"
                                                        FixedWidth="True"
                                                    Header="{DynamicResource OrderEditPODate}"
                                                        ReadOnly="True" FilterPopupMode="CheckedList">
                                                <dxg:GridColumn.EditSettings>
                                                    <dxe:DateEditSettings DisplayFormat="g" Name="PART_Editor" />
                                                </dxg:GridColumn.EditSettings>
                                            </dxg:GridColumn>
                                            <dxg:GridColumn Width="150"
                                            FieldName="Code"
                                            FixedWidth="True"
                                                    Header="{DynamicResource OrderEditPOCode}"
                                            ReadOnly="True" FilterPopupMode="CheckedList" />

                                            <dxg:GridColumn Width="180"
                                            FieldName="CustomerPurchaseOrderType.POType"
                                            FixedWidth="True"
                                                    Header="{DynamicResource OrderEditType}"
                                            ReadOnly="True" FilterPopupMode="CheckedList" />

                                            <dxg:GridColumn Width="150"
                                            FieldName="Value"
                                            FixedWidth="True"
                                                    Header="{DynamicResource OrderEditPOAmount}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                <dxg:GridColumn.EditSettings>
                                                    <dxe:TextEditSettings DisplayFormat="C" />
                                                </dxg:GridColumn.EditSettings>
                                            </dxg:GridColumn>
                                            <dxg:GridColumn Width="*"
                                            FieldName="ReceivedBy"
                                            FixedWidth="False"
                                            Header="{DynamicResource OrderEditPOSender}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                <dxg:GridColumn.EditSettings>
                                                    <dxe:TextEditSettings TextWrapping="WrapWithOverflow" />
                                                </dxg:GridColumn.EditSettings>
                                            </dxg:GridColumn>
                                        </dxg:GridControl.Columns>
                                        <dxmvvm:Interaction.Behaviors>
                                            <UIHelper:GridSelectingBehavior />
                                        </dxmvvm:Interaction.Behaviors>
                                        <dxg:GridControl.View>
                                            <dxg:TableView x:Name="commentTable"
                                            AllowEditing="True"
                                            AllowGrouping="False"
                                            AllowPerPixelScrolling="False"
                                            AutoWidth="True"
                                            HorizontalScrollbarVisibility="Hidden"
                                            NavigationStyle="Row"
                                            ShowGroupPanel="False"
                                            ShowHorizontalLines="True"
                                            ShowIndicator="False"
                                            VerticalScrollbarVisibility="Auto"
                                            SearchPanelHorizontalAlignment="Stretch"
                                            ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly">
                                            </dxg:TableView>
                                        </dxg:GridControl.View>
                                    </dxg:GridControl>

                                </DataTemplate>
                            </dxlc:GroupBox.MaximizedContentTemplate>
                        </dxlc:GroupBox>
                        <!--Shipment-->
                        <dxlc:GroupBox x:Name="Shipment" Style="{StaticResource myGroupBoxStyle}" Visibility="{Binding VisibilityShipment, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                            <dxlc:GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <DockPanel Margin="-5,0,0,0">
                                        <TextBlock Margin="5,0,0,0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource LeadsEditViewShipment}" />
                                        <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ChangeLogCount"
                                    Text="{Binding DataContext.ListShipment.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.HeaderTemplate>
                            <dxlc:GroupBox.ContentTemplate>
                                <DataTemplate>
                                    <StackPanel Margin="0">
                                        <Grid x:Name="PART_Root" Margin="-5">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <Label Content="{DynamicResource LeadsEditViewCommentDateLabel}"
                                        Grid.Row="0"
                                        Grid.Column="0"
                                           Margin="3,0,0,0"
                                           FontWeight="Bold"
                                           Padding="2" />
                                            <TextBlock Text="{Binding DataContext.ListShipment[0].DeliveryDate, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"
                                        Grid.Row="0"
                                        Grid.Column="1"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               />
                                            <Label Content="{DynamicResource LeadsEditViewCommentUserLabel}"
                                        Grid.Row="1"
                                           Grid.Column="0"
                                           Margin="3,0,0,0"
                                           FontWeight="Bold"
                                           Padding="2">
                                            </Label>
                                            <TextBlock Text="{Binding DataContext.ListShipment[0].People.FullName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        Grid.Row="1"
                                               Grid.Column="1"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               />
                                            <Label Content="{DynamicResource LeadsEditViewAgency1}"
                                        Grid.Row="2"
                                           Grid.Column="0"
                                           Margin="3,0,0,0"
                                           FontWeight="Bold"
                                           Padding="2">
                                            </Label>
                                            <TextBlock Text="{Binding DataContext.ListShipment[0].TransportAgency.Name,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        Grid.Row="2"
                                               Grid.Column="1"
                                               Grid.ColumnSpan="3"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               TextWrapping="WrapWithOverflow" />
                                            <Label Content="{DynamicResource LeadsEditViewTrackingNumber1}"
                                        Grid.Row="3"
                                        Grid.Column="0"
                                           Margin="3,0,0,0"
                                           FontWeight="Bold"
                                           Padding="2">
                                            </Label>
                                            <TextBlock Text="{Binding DataContext.ListShipment[0].ShipmentNumber,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        Grid.Row="3"
                                        Grid.Column="1"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               />
                                            <Grid.Style>
                                                <Style TargetType="{x:Type Grid}">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                    <Style.Triggers>
                                                        <DataTrigger Value="0" Binding="{Binding DataContext.ListShipment.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                            <Setter Property="Visibility" Value="Hidden" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Grid.Style>
                                        </Grid>
                                    </StackPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.ContentTemplate>
                            <dxlc:GroupBox.MaximizedContentTemplate>
                                <DataTemplate>

                                    <DockPanel LastChildFill="True">
                                        <dxg:GridControl Margin="-10,-10,-10,-10"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Top"
                                    DockPanel.Dock="Top"
                                    FilterString="{Binding MyFilterString,Mode=TwoWay ,UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding DataContext.ListShipment,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay}"
                                    Padding="0"
                                    SelectedItem="{Binding DataContext.SelectedShipmentList, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    ScrollViewer.VerticalScrollBarVisibility="Visible"
                                    SelectionMode="Row" ImplyNullLikeEmptyStringWhenFiltering="True">
                                            <dxg:GridControl.Columns>
                                                <dxg:GridColumn Width="150"
                                            FieldName="DeliveryDate"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewLogDate}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                    <dxg:GridColumn.EditSettings>
                                                        <dxe:DateEditSettings DisplayFormat="g" Name="PART_Editor" />
                                                    </dxg:GridColumn.EditSettings>
                                                </dxg:GridColumn>
                                                <dxg:GridColumn Width="*"
                                            FieldName="People.FullName"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewCommentUser}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                    <dxg:GridColumn.EditSettings>
                                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                                    </dxg:GridColumn.EditSettings>
                                                </dxg:GridColumn>
                                                <dxg:GridColumn Width="150"
                                            FieldName="EmdepCode"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewShipmentNumber}"
                                            ReadOnly="True" FilterPopupMode="CheckedList" />
                                                <dxg:GridColumn Width="*"
                                            FieldName="TransportAgency.Name"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewAgency}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                    <dxg:GridColumn.EditSettings>
                                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                                    </dxg:GridColumn.EditSettings>
                                                </dxg:GridColumn>
                                                <dxg:GridColumn Width="*"
                                            FieldName="ShipmentNumber"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewTrackingNumber}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                    <dxg:GridColumn.EditSettings>
                                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                                    </dxg:GridColumn.EditSettings>
                                                </dxg:GridColumn>
                                            </dxg:GridControl.Columns>
                                            <dxmvvm:Interaction.Behaviors>
                                                <UIHelper:GridSelectingBehavior />
                                            </dxmvvm:Interaction.Behaviors>
                                            <dxg:GridControl.View>
                                                <dxg:TableView x:Name="commentTable"
                                            AllowEditing="True"
                                            AllowGrouping="False"
                                            AllowPerPixelScrolling="False"
                                            AutoWidth="True"
                                            HorizontalScrollbarVisibility="Hidden"
                                            NavigationStyle="Row"
                                            ShowGroupPanel="False"
                                            ShowHorizontalLines="True"
                                            ShowIndicator="False"
                                            VerticalScrollbarVisibility="Auto"
                                            SearchPanelHorizontalAlignment="Stretch"
                                            ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly">
                                                    <dxmvvm:Interaction.Behaviors>
                                                        <dxmvvm:EventToCommand Command="{Binding DataContext.CommentsShipmentGridDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    EventName="MouseLeftButtonDown"
                                                    PassEventArgsToCommand="True">
                                                            <dxmvvm:EventToCommand.EventArgsConverter>
                                                                <dx:EventArgsToDataRowConverter />
                                                            </dxmvvm:EventToCommand.EventArgsConverter>
                                                        </dxmvvm:EventToCommand>
                                                    </dxmvvm:Interaction.Behaviors>
                                                </dxg:TableView>
                                            </dxg:GridControl.View>

                                        </dxg:GridControl>
                                        <!--<Grid Visibility="{Binding IsBoxControlEnable, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Stretch" Margin="-10,-10,-10,-10"
                                    VerticalAlignment="Bottom"
                                    DockPanel.Dock="Bottom">
                                    <dxg:GridControl  
                                    FilterString="{Binding MyFilterString,Mode=TwoWay ,UpdateSourceTrigger=PropertyChanged}"
                                    Padding="0" ItemsSource="{Binding DataContext.ListBox,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay}"
                                    ScrollViewer.VerticalScrollBarVisibility="Visible"
                                    SelectionMode="Row">
                                        <dxg:GridControl.Columns>
                                            <dxg:GridColumn
                                            Width="150" FieldName="BoxNumber"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewBox}"
                                            ReadOnly="True">
                                                <dxg:GridColumn.EditSettings>
                                                    <dxe:DateEditSettings DisplayFormat="g" />
                                                </dxg:GridColumn.EditSettings>
                                            </dxg:GridColumn>
                                            <dxg:GridColumn
                                            Width="150"
                                            FieldName="PackingBoxDimension"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewDimentions}"
                                            ReadOnly="True" />
                                            <dxg:GridColumn
                                            Width="*"
                                            FieldName="NetWeight"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewWeight}"
                                            ReadOnly="True">
                                                <dxg:GridColumn.EditSettings>
                                                    <dxe:TextEditSettings TextWrapping="Wrap" />
                                                </dxg:GridColumn.EditSettings>
                                            </dxg:GridColumn>
                                            <dxg:GridColumn
                                            Width="*"
                                            FieldName="Quantity"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewPcs}"
                                            ReadOnly="True">
                                                <dxg:GridColumn.EditSettings>
                                                    <dxe:TextEditSettings TextWrapping="Wrap" />
                                                </dxg:GridColumn.EditSettings>
                                            </dxg:GridColumn>
                                            <dxg:GridColumn
                                            Width="*"
                                            FieldName="Comments"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewAtt}"
                                            ReadOnly="True">
                                                <dxg:GridColumn.EditSettings>
                                                    <dxe:TextEditSettings TextWrapping="Wrap" />
                                                </dxg:GridColumn.EditSettings>
                                            </dxg:GridColumn>
                                        </dxg:GridControl.Columns>
                                        <dxmvvm:Interaction.Behaviors>
                                            <UIHelper:GridSelectingBehavior />
                                        </dxmvvm:Interaction.Behaviors>
                                        <dxg:GridControl.View>
                                            <dxg:TableView
                                            AllowEditing="True"
                                            AllowGrouping="False"
                                            AllowPerPixelScrolling="False"
                                            AutoWidth="True"
                                            HorizontalScrollbarVisibility="Hidden"
                                            NavigationStyle="Row"
                                            ShowGroupPanel="False"
                                            ShowHorizontalLines="True"
                                            ShowIndicator="False"
                                            VerticalScrollbarVisibility="Auto" />
                                        </dxg:GridControl.View>
                                    </dxg:GridControl>
                                </Grid>-->
                                        <dxdo:DockLayoutManager Margin="-10,-10,-10,-10" VerticalAlignment="Bottom">
                                            <dxdo:DockLayoutManager.AutoHideGroups>
                                                <dxdo:AutoHideGroup DockType="Bottom">
                                                    <dxdo:LayoutPanel HorizontalAlignment="Stretch" Caption="Contents" AllowDock="True" AllowRestore="True" AllowContextMenu="False" AllowFloat="False" AllowSizing="False" AllowMaximize="True" AllowActivate="True">
                                                        <dxg:GridControl HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    FilterString="{Binding MyFilterString,Mode=TwoWay ,UpdateSourceTrigger=PropertyChanged}"
                                    Padding="0" ItemsSource="{Binding DataContext.ListBox,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay}"
                                    ScrollViewer.VerticalScrollBarVisibility="Visible"
                                    SelectionMode="Row" ImplyNullLikeEmptyStringWhenFiltering="True">
                                                            <dxg:GridControl.Columns>
                                                                <dxg:GridColumn Width="150"
                                            FieldName="BoxNumber"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewBox}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                                    <dxg:GridColumn.EditSettings>
                                                                        <dxe:DateEditSettings DisplayFormat="g" />
                                                                    </dxg:GridColumn.EditSettings>
                                                                </dxg:GridColumn>
                                                                <dxg:GridColumn Width="150"
                                            FieldName="PackingBoxDimension"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewDimentions}"
                                            ReadOnly="True" FilterPopupMode="CheckedList" />
                                                                <dxg:GridColumn Width="*"
                                            FieldName="GrossWeight"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewWeight}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                                    <dxg:GridColumn.EditSettings>
                                                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                                                    </dxg:GridColumn.EditSettings>
                                                                </dxg:GridColumn>
                                                                <dxg:GridColumn Width="*"
                                            FieldName="Quantity"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewPcs}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                                    <dxg:GridColumn.EditSettings>
                                                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                                                    </dxg:GridColumn.EditSettings>
                                                                </dxg:GridColumn>
                                                                <dxg:GridColumn Width="*"
                                            FieldName="Comments"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewAtt}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                                    <dxg:GridColumn.EditSettings>
                                                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                                                    </dxg:GridColumn.EditSettings>
                                                                </dxg:GridColumn>
                                                            </dxg:GridControl.Columns>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <UIHelper:GridSelectingBehavior />
                                                            </dxmvvm:Interaction.Behaviors>
                                                            <dxg:GridControl.View>
                                                                <dxg:TableView AllowEditing="True"
                                                                        AllowGrouping="False"
                                                                        AllowPerPixelScrolling="False"
                                                                        AutoWidth="True"
                                                                        HorizontalScrollbarVisibility="Hidden"
                                                                        NavigationStyle="Row"
                                                                        ShowGroupPanel="False"
                                                                        ShowHorizontalLines="True"
                                                                        ShowIndicator="False"
                                                                        VerticalScrollbarVisibility="Auto" 
                                                                        SearchPanelHorizontalAlignment="Stretch"
                                                                        ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" />
                                                            </dxg:GridControl.View>
                                                        </dxg:GridControl>
                                                    </dxdo:LayoutPanel>
                                                </dxdo:AutoHideGroup>
                                            </dxdo:DockLayoutManager.AutoHideGroups>
                                        </dxdo:DockLayoutManager>
                                    </DockPanel>

                                </DataTemplate>
                            </dxlc:GroupBox.MaximizedContentTemplate>
                        </dxlc:GroupBox>
                        <!--Comments-->
                        <dxlc:GroupBox x:Name="Comments" Style="{StaticResource myGroupBoxStyle}">
                            <dxlc:GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <DockPanel Margin="-5,0,0,0">
                                        <!--<Image Style="{DynamicResource CommentImageStyle}"
                                     Width="24" Height="24" HorizontalAlignment="Left"/>-->
                                        <TextBlock Margin="0,0,0,0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource LeadsEditViewComment}" />
                                        <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="CommentsCount"
                                    Text="{Binding DataContext.ListLogComments.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.HeaderTemplate>
                            <dxlc:GroupBox.ContentTemplate>
                                <DataTemplate>
                                    <StackPanel Margin="0">
                                        <Grid x:Name="PART_Root" Margin="-5">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0"
                                        Grid.Column="0"
                                           Margin="3,0,0,0"
                                           Content="{DynamicResource LeadsEditViewCommentDateLabel}"
                                        FontWeight="Bold"
                                           Padding="2" />
                                            <TextBlock Grid.Row="0"
                                        Grid.Column="1"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               Text="{Binding DataContext.ListLogComments[0].DateTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"
                                        TextWrapping="NoWrap" />
                                            <Label Grid.Row="1"
                                           Grid.Column="0"
                                           Margin="3,0,0,0"
                                           Content="{DynamicResource LeadsEditViewCommentUserLabel}"
                                        FontWeight="Bold"
                                           Padding="2" />
                                            <TextBlock Grid.Row="1"
                                               Grid.Column="1"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               Text="{Binding DataContext.ListLogComments[0].People.FullName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        TextWrapping="NoWrap" />
                                            <Label Grid.Row="2"
                                           Grid.Column="0"
                                           Margin="3,0,0,0"
                                           Content="{DynamicResource LeadsEditViewCommentsLabel}"
                                        FontWeight="Bold"
                                           Padding="2" />
                                            <TextBlock Grid.Row="2"
                                               Grid.Column="1"
                                               Grid.ColumnSpan="3"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               Text="{Binding DataContext.CommentText, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        TextWrapping="WrapWithOverflow" />
                                            <Grid.Style>
                                                <Style TargetType="{x:Type Grid}">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                    <Style.Triggers>
                                                        <DataTrigger Value="0" Binding="{Binding DataContext.ListLogComments.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                            <Setter Property="Visibility" Value="Hidden" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Grid.Style>
                                        </Grid>
                                    </StackPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.ContentTemplate>
                            <dxlc:GroupBox.MaximizedContentTemplate>
                                <DataTemplate>

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="30" />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*" />
                                            <RowDefinition Height="40" />
                                        </Grid.RowDefinitions>
                                        <dxg:GridControl x:Name="gcComments"
                                    Grid.Row="0"                                  
                                    Grid.ColumnSpan="2"
                                    Margin="-10,-10,-10,-10"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Top"
                                    ItemsSource="{Binding DataContext.ListLogComments, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox, Mode=FindAncestor}, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                    Padding="0"
                                    ScrollViewer.VerticalScrollBarVisibility="Visible"
                                    SelectedItem="{Binding DataContext.SelectedComment, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" ImplyNullLikeEmptyStringWhenFiltering="True">
                                            <dxg:GridControl.Columns>
                                                <dxg:GridColumn Width="150"
                                            FieldName="People.FullName"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewCommentUser}" FilterPopupMode="CheckedList">
                                                    <dxg:GridColumn.DisplayTemplate>
                                                        <ControlTemplate>
                                                            <TextBlock Name="PART_Editor" FontWeight="Bold"></TextBlock>
                                                        </ControlTemplate>
                                                    </dxg:GridColumn.DisplayTemplate>
                                                </dxg:GridColumn>

                                                <dxg:GridColumn Width="150"
                                            Binding="{Binding DateTime,StringFormat=g, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewCommentDate}" FilterPopupMode="CheckedList">
                                                    <dxg:GridColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <dxe:TextEdit DisplayFormatString="g" Name="PART_Editor" FontWeight="Bold" />
                                                        </DataTemplate>
                                                    </dxg:GridColumn.CellTemplate>
                                                </dxg:GridColumn>
                                                <dxg:GridColumn FieldName="Comments" Visible="False" ShowInColumnChooser="False" />
                                                <dxg:GridColumn Width="*" IsEnabled="False" AllowColumnFiltering="False" ShowInColumnChooser="False" />
                                                <dxg:GridColumn Width="40"
                                            FieldName=""
                                            FixedWidth="True"
                                            AllowColumnFiltering="False">
                                                    <dxg:GridColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <Button Command="{Binding DataContext.DeleteCommentRowCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}}}"
                                                        CommandParameter="{Binding RowData.Row}"
                                                        Content=""
                                                        IsEnabled="{Binding DataContext.IsAcceptControlEnableorder,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                        Name="deleteRowComment">
                                                                <Button.ContentTemplate>
                                                                    <DataTemplate>
                                                                        <Image Height="16"
                                                                    Width="16"
                                                                    Source="/Emdep.Geos.Modules.Crm;component/Assets/Images/Delete.png" />
                                                                    </DataTemplate>
                                                                </Button.ContentTemplate>
                                                            </Button>
                                                        </DataTemplate>
                                                    </dxg:GridColumn.CellTemplate>
                                                </dxg:GridColumn>
                                            </dxg:GridControl.Columns>
                                            <dxg:GridControl.View>
                                                <dxg:TableView x:Name="commentTable"
                                            AllowEditing="True"
                                            AutoWidth="True"
                                            HorizontalScrollbarVisibility="Hidden"
                                            NavigationStyle="Row"
                                            ShowGroupPanel="False"
                                            ShowIndicator="False"
                                            VerticalScrollbarVisibility="Auto"
                                            RowDetailsVisibilityMode="Visible"
                                            SearchPanelHorizontalAlignment="Stretch"
                                            ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                            SearchColumns="People.FullName;Comments" 
                                            ShowSearchPanelMode="Always">
                                                    <dxg:TableView.RowDetailsTemplate>
                                                        <DataTemplate>
                                                            <dx:DXExpander IsExpanded="{Binding Path=RowState.(UIHelper:ShowDetailBehavior.ShowDetail)}" HorizontalExpand="None" VerticalExpand="FromTopToBottom">
                                                                <Grid>
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="50" />
                                                                        <ColumnDefinition Width="*" />
                                                                    </Grid.ColumnDefinitions>
                                                                    <dxe:ImageEdit ShowLoadDialogOnClickMode="Never" ShowMenu="False" Source="{Binding Row.People.OwnerImage}" Stretch="UniformToFill" Width="50" Height="50" HorizontalAlignment="Center" VerticalAlignment="Top" />
                                                                    <dxre:RichEditControl VerticalAlignment="Stretch" HorizontalAlignment="Stretch" 
                                                                              LayoutUnit="Document" MinHeight="50"
                                                                              VerticalScrollBarVisibility="Collapsed" HorizontalScrollBarVisibility="Collapsed"  
                                                                              Grid.Column="1" Grid.Row="0" ReadOnly="True" 
                                                                              ActiveViewType="Simple">
                                                                        <dxre:RichEditControl.Style>
                                                                            <Style>
                                                                                <Setter Property="dxre:RichEditControl.Content" Value="{Binding Path=Row.Comments,Converter={StaticResource rtfToContentConverter}, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" />
                                                                                <Style.Triggers>
                                                                                    <DataTrigger Binding="{Binding Path=Row.IsRtfText,Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" Value="False">
                                                                                        <Setter Property="dxre:RichEditControl.Content" Value="{Binding Path=Row.Comments,Converter={StaticResource PlainTextToContentConverter},Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </dxre:RichEditControl.Style>
                                                                        <dxmvvm:Interaction.Behaviors>
                                                                            <UIHelper:RichEditControlSearchHelper SearchText="{Binding View.SearchString}" />
                                                                        </dxmvvm:Interaction.Behaviors>
                                                                        <dxre:RichEditControl.VerticalRulerOptions>
                                                                            <dxre:DXRichEditVerticalRulerOptions Visibility="Hidden" />
                                                                        </dxre:RichEditControl.VerticalRulerOptions>
                                                                        <dxre:RichEditControl.HorizontalRulerOptions>
                                                                            <dxre:DXRichEditHorizontalRulerOptions Visibility="Hidden" />
                                                                        </dxre:RichEditControl.HorizontalRulerOptions>
                                                                        <dxmvvm:Interaction.Triggers>
                                                                            <dxmvvm:EventToCommand Command="{Binding DataContext.RichTextResizingCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type dxre:RichEditControl}} }" EventName="Loaded" PassEventArgsToCommand="False" />
                                                                            <dxmvvm:EventToCommand Command="{Binding DataContext.RichTextResizingCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" CommandParameter="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type dxre:RichEditControl}} }" EventName="ContentChanged" PassEventArgsToCommand="False" />
                                                                        </dxmvvm:Interaction.Triggers>
                                                                    </dxre:RichEditControl>
                                                                </Grid>
                                                            </dx:DXExpander>
                                                        </DataTemplate>
                                                    </dxg:TableView.RowDetailsTemplate>
                                                    <dxmvvm:Interaction.Behaviors>
                                                        <dxmvvm:EventToCommand Command="{Binding DataContext.CommentsGridDoubleClickCommand,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                    EventName="MouseDoubleClick"
                                                    PassEventArgsToCommand="True">
                                                            <dxmvvm:EventToCommand.EventArgsConverter>
                                                                <dx:EventArgsToDataRowConverter />
                                                            </dxmvvm:EventToCommand.EventArgsConverter>
                                                        </dxmvvm:EventToCommand>
                                                        <UIHelper:ShowDetailBehavior />
                                                    </dxmvvm:Interaction.Behaviors>
                                                </dxg:TableView>
                                            </dxg:GridControl.View>
                                        </dxg:GridControl>
                                        <ToggleButton Grid.Row="1"
                                    Grid.Column="1"
                                    Height="30"
                                    Width="30"
                                    Margin="0,0,-5,-5"
                                    VerticalAlignment="Bottom"
                                    HorizontalAlignment="Right"
                                    DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                    FontWeight="Bold"
                                    IsEnabled="{Binding DataContext.IsAcceptControlEnableorder,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                    Name="btnAddNewComment">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="Checked">
                                                    <i:InvokeCommandAction Command="{Binding Path=CommentButtonCheckedCommand}" />
                                                </i:EventTrigger>
                                                <i:EventTrigger EventName="Unchecked">
                                                    <i:InvokeCommandAction Command="{Binding Path=CommentButtonUncheckedCommand}" />
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                            <ToggleButton.ContentTemplate>
                                                <DataTemplate>
                                                    <Image Height="24"
                                                Width="24"
                                                Margin="-10"
                                                VerticalAlignment="Stretch"
                                                HorizontalAlignment="Stretch"
                                                Style="{DynamicResource AddCommentButtonImageStyle}" />
                                                </DataTemplate>
                                            </ToggleButton.ContentTemplate>
                                        </ToggleButton>
                                        <ToggleButton Grid.Row="1"
                                    Grid.Column="0"
                                    Height="30"
                                    Width="30"
                                    Margin="0,0,-5,-5"
                                    VerticalAlignment="Bottom"
                                    HorizontalAlignment="Right"
                                    DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                    FontWeight="Bold"
                                    Name="btnExcelExportComment" 
                                    IsEnabled="{Binding DataContext.IsAcceptControlEnableorder,Mode=OneTime, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                    >
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="Checked">
                                                    <i:InvokeCommandAction Command="{Binding Path=ExcelexportButtonCheckedCommand}" CommandParameter="{Binding ElementName=commentTable}" />
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                            <ToggleButton.ContentTemplate>
                                                <DataTemplate>
                                                    <Image Height="24"
                                                Width="24"
                                                Margin="-10"
                                                VerticalAlignment="Stretch"
                                                HorizontalAlignment="Stretch"
                                                Style="{DynamicResource ExcelExportButtonImageStyle}" />
                                                </DataTemplate>
                                            </ToggleButton.ContentTemplate>
                                        </ToggleButton>
                                        <dxe:FlyoutControl PlacementTarget="{Binding ElementName=btnAddNewComment}" StaysOpen="True">
                                            <dxmvvm:Interaction.Behaviors>
                                                <UIHelper:FlyoutControlBehavior IsOpen="{Binding DataContext.ShowCommentsFlyout, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxlc:GroupBox}}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            </dxmvvm:Interaction.Behaviors>
                                            <dxe:FlyoutControl.Settings>
                                                <dxe:FlyoutSettings Placement="Left" />
                                            </dxe:FlyoutControl.Settings>
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition Height="20" />
                                                    <RowDefinition Height="Auto" />
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>
                                                <UIHelper:BindableRichTextBox Name="BindableRichTextBox_Editor"                                                               
                                            Grid.Row="0"
                                            Grid.Column="0"
                                            Grid.ColumnSpan="2"
                                            Height="390"
                                            Width="800"
                                            Margin="-10">
                                                    <UIHelper:BindableRichTextBox.Style>
                                                        <Style>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding DataContext.IsNormal,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="True">
                                                                    <Setter Property="UIHelper:BindableRichTextBox.Document" Value="{Binding DataContext.LeadComment, Converter={UIConverter:RtfConvert},  RelativeSource={RelativeSource FindAncestor,
                                                                AncestorType={x:Type dxlc:GroupBox}}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding DataContext.IsRtf,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" Value="False">
                                                                    <Setter Property="UIHelper:BindableRichTextBox.Document" Value="{Binding DataContext.LeadComment, Converter={UIConverter:RtfToFlowDocumentConverter}, RelativeSource={RelativeSource FindAncestor,
                                                                AncestorType={x:Type dxlc:GroupBox}}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </UIHelper:BindableRichTextBox.Style>
                                                </UIHelper:BindableRichTextBox>



                                                <StackPanel Orientation="Horizontal" Grid.Row="2" Grid.Column="0" HorizontalAlignment="Right" VerticalAlignment="Bottom">
                                                    <RadioButton GroupName="commentTextType" Content="{DynamicResource LeadEditSplitViewCommentTextNormal}" IsChecked="{Binding DataContext.IsNormal,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox,Mode=FindAncestor},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Right" Margin="0,0,15,0">
                                                        <dxmvvm:Interaction.Behaviors>
                                                            <dxmvvm:EventToCommand Command="{Binding DataContext.IsEditorChangedCommand,
                                                                        RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" EventName="Click"                                                           
                                                                        CommandParameter="{Binding ElementName=BindableRichTextBox_Editor}"
                                                                        PassEventArgsToCommand="True">
                                                            </dxmvvm:EventToCommand>
                                                        </dxmvvm:Interaction.Behaviors>
                                                    </RadioButton>
                                                    <RadioButton GroupName="commentTextType" Content="{DynamicResource LeadEditSplitViewCommentTextRtf}" IsChecked="{Binding DataContext.IsRtf, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox,Mode=FindAncestor},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" HorizontalAlignment="Left" Margin="0,0,5,0">
                                                        <dxmvvm:Interaction.Behaviors>
                                                            <dxmvvm:EventToCommand Command="{Binding DataContext.IsEditorChangedCommand,
                                                                        RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" EventName="Click"                                                           
                                                                        CommandParameter="{Binding ElementName=BindableRichTextBox_Editor}"
                                                                        PassEventArgsToCommand="True">
                                                            </dxmvvm:EventToCommand>
                                                        </dxmvvm:Interaction.Behaviors>
                                                    </RadioButton>

                                                </StackPanel>
                                                <Button Grid.Row="2"
                                            Grid.Column="1"
                                            Height="30"
                                            Width="Auto"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Bottom"
                                            Command="{Binding Path =(dxefl:FlyoutBase.Flyout).PlacementTarget.DataContext.AddNewCommentCommand, RelativeSource={RelativeSource Self}}"
                                            CommandParameter="{Binding ElementName=BindableRichTextBox_Editor}"
                                            Content="{Binding DataContext.CommentButtonText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                            </Grid>
                                        </dxe:FlyoutControl>
                                    </Grid>

                                </DataTemplate>
                            </dxlc:GroupBox.MaximizedContentTemplate>
                        </dxlc:GroupBox>
                        <!--ChangeLog-->
                        <dxlc:GroupBox x:Name="ChangeLog" Style="{StaticResource myGroupBoxStyle}">
                            <dxlc:GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <DockPanel Margin="-5,0,0,0">
                                        <TextBlock Margin="5,0,0,0"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Text="{DynamicResource LeadsEditViewChangeLog}" />
                                        <TextBlock Width="50"
                                    Margin="5,1,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    Name="ChangeLogCount"
                                    Text="{Binding DataContext.ListChangeLog.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.HeaderTemplate>
                            <dxlc:GroupBox.ContentTemplate>
                                <DataTemplate>
                                    <StackPanel Margin="0">
                                        <Grid x:Name="PART_Root" Margin="-5">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0"
                                        Grid.Column="0"
                                           Margin="3,0,0,0"
                                           FontWeight="Bold"
                                           Padding="2">
                                                Date :
                                            </Label>
                                            <TextBlock Grid.Row="0"
                                        Grid.Column="1"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               Text="{Binding DataContext.ListChangeLog[0].DateTime , RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                                            <Label Grid.Row="1"
                                           Grid.Column="0"
                                           Margin="3,0,0,0"
                                           FontWeight="Bold"
                                           Padding="2">
                                                User :
                                            </Label>
                                            <TextBlock Grid.Row="1"
                                               Grid.Column="1"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               Text="{Binding DataContext.ListChangeLog[0].People.FullName, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                            <Label Grid.Row="2"
                                           Grid.Column="0"
                                           Margin="3,0,0,0"
                                           FontWeight="Bold"
                                           Padding="2">
                                                Action :
                                            </Label>
                                            <TextBlock Grid.Row="2"
                                               Grid.Column="1"
                                               Grid.ColumnSpan="3"
                                               Margin="3,0,0,0"
                                               Padding="2"
                                               Text="{Binding DataContext.ListChangeLog[0].Comments, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                        TextWrapping="WrapWithOverflow" />
                                            <Grid.Style>
                                                <Style TargetType="{x:Type Grid}">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                    <Style.Triggers>
                                                        <DataTrigger Value="0" Binding="{Binding DataContext.ListChangeLog.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                            <Setter Property="Visibility" Value="Hidden" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Grid.Style>
                                        </Grid>
                                    </StackPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.ContentTemplate>
                            <dxlc:GroupBox.MaximizedContentTemplate>
                                <DataTemplate>

                                    <DockPanel LastChildFill="True">
                                        <dxg:GridControl Margin="-10,-10,-10,-10"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Top"
                                    DockPanel.Dock="Top"
                                    FilterString="{Binding MyFilterString,Mode=TwoWay ,UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding DataContext.ListChangeLog,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay}"
                                    Padding="0"
                                    ScrollViewer.VerticalScrollBarVisibility="Visible"
                                    SelectionMode="Row" ImplyNullLikeEmptyStringWhenFiltering="True">
                                            <dxg:GridControl.Columns>
                                                <dxg:GridColumn Width="150"
                                            FieldName="People.FullName"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewCommentUser}"
                                            ReadOnly="True" FilterPopupMode="CheckedList" />
                                                <dxg:GridColumn Width="150"
                                            Binding="{Binding DateTime,StringFormat=g, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"
                                            FixedWidth="True"
                                            Header="{DynamicResource LeadsEditViewLogDate}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                    <dxg:GridColumn.EditSettings>
                                                        <dxe:DateEditSettings DisplayFormat="g" Name="PART_Editor" />
                                                    </dxg:GridColumn.EditSettings>
                                                </dxg:GridColumn>
                                                <dxg:GridColumn Width="*"
                                            FieldName="Comments"
                                            FixedWidth="False"
                                            Header="{DynamicResource LeadsEditViewAction}"
                                            ReadOnly="True" FilterPopupMode="CheckedList">
                                                    <dxg:GridColumn.EditSettings>
                                                        <dxe:TextEditSettings TextWrapping="Wrap" />
                                                    </dxg:GridColumn.EditSettings>
                                                </dxg:GridColumn>
                                            </dxg:GridControl.Columns>
                                            <dxmvvm:Interaction.Behaviors>
                                                <UIHelper:GridSelectingBehavior />
                                            </dxmvvm:Interaction.Behaviors>
                                            <dxg:GridControl.View>
                                                <dxg:TableView x:Name="commentTable"
                                            AllowEditing="True"
                                            AllowGrouping="False"
                                            AllowPerPixelScrolling="False"
                                            AutoWidth="True"
                                            HorizontalScrollbarVisibility="Hidden"
                                            NavigationStyle="Row"
                                            ShowGroupPanel="False"
                                            ShowHorizontalLines="True"
                                            ShowIndicator="False"
                                            VerticalScrollbarVisibility="Auto"
                                            SearchPanelHorizontalAlignment="Stretch"
                                            ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" />
                                            </dxg:GridControl.View>
                                        </dxg:GridControl>
                                    </DockPanel>

                                </DataTemplate>
                            </dxlc:GroupBox.MaximizedContentTemplate>
                        </dxlc:GroupBox>
                        <dxmvvm:Interaction.Triggers>
                            <dxmvvm:EventToCommand Command="{Binding CustomCellAppearanceCommand, ElementName=FlowLayoutControl1}" EventName="OnMaximizedElementChanged" />
                        </dxmvvm:Interaction.Triggers>
                    </dxlc:FlowLayoutControl>

            <StackPanel Grid.Row="2"
                Grid.Column="1"
                Grid.ColumnSpan="2"
                Margin="20,0,0,0"
                Width="290"
                HorizontalAlignment="Center"
                Orientation="Horizontal">
                <Button Height="30"
                    Width="100"
                    Margin="0,0,30,0"
                    VerticalAlignment="Bottom"
                    Command="{Binding OrderEditViewAcceptButtonCommand}"
                    Content="Accept"
                    IsEnabled="{Binding IsAcceptControlEnableorder,Mode=OneTime}" />
                <Button Height="30"
                    Width="100"
                    Margin="30,0,0,0"
                    VerticalAlignment="Bottom"
                    Command="{Binding OrderEditViewCancelButtonCommand}"
                    Content="Cancel" />
            </StackPanel>

        </Grid>
    </Grid>
    <!--</ScrollViewer>-->
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="KeyDown">
            <behaviors:InvokeDelegateCommandAction Command="{Binding CommandTextInput}" CommandParameter="{Binding Path=InvokeParameter, RelativeSource={RelativeSource Self}}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>
</dxwui:WinUIDialogWindow>
