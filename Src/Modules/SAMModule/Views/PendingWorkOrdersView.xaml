<UserControl x:Class="Emdep.Geos.Modules.SAM.Views.PendingWorkOrdersView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Emdep.Geos.Modules.SAM.Views"
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui" 
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
             xmlns:dxwuin="http://schemas.devexpress.com/winfx/2008/xaml/windowsui/navigation" 
             xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
             xmlns:dxnav="http://schemas.devexpress.com/winfx/2008/xaml/navigation"
             xmlns:Converters="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
             xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters" 
             xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
             xmlns:ViewModels="clr-namespace:Emdep.Geos.Modules.SAM.ViewModels"
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:dxci="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
             xmlns:SAMCommon ="clr-namespace:Emdep.Geos.Modules.SAM"
             xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
             xmlns:dxp="http://schemas.devexpress.com/winfx/2008/xaml/printing" 
             xmlns:WmsApplication="clr-namespace:Emdep.Geos.Modules.SAM"
             xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
             xmlns:Interactive="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:Behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
             xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
             Style="{DynamicResource UserControlStyle}" 
             xmlns:gif="http://wpfanimatedgif.codeplex.com"
             mc:Ignorable="d" 
             d:DesignHeight="500" d:DesignWidth="700">

    <!--<dxmvvm:Interaction.Behaviors>
        <UIHelper:TimeLineCustomGridService Grid="{Binding ElementName=grid}"/>
    </dxmvvm:Interaction.Behaviors>-->
    
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
        <Converters:ImageConverter x:Key="ImageConverter"/>
        <Converters:CellColorConverterForPoDate x:Key="CellColorConverterForPoDate"/>
        <Converters:CellBackroundColorOtTypeConvertorSAM x:Key="CellBackroundColorOtTypeConvertorSAM"/>
        <Converters:CellBackroundColorProducedModuleConvertor x:Key="CellBackroundColorProducedModuleConvertor"/>
        <UIHelper:MultipleCellEditHelperSAMWorkOrder x:Key="multipleCellEditHelperSAMWorkOrder"/>
        <UIHelper:CellTemplateSelector x:Key="myTemplateSelector"/>
        <UIHelper:ColumnTemplateSelectorSAM x:Key="ColumnTemplateSelectorSAM"/>
        
        <Style x:Key="printCellStyle" TargetType="dxe:TextEdit" BasedOn="{StaticResource {dxgt:TableViewThemeKey ResourceKey=DefaultPrintCellStyle}}">
            <Style.Setters>
                <Setter Property="dxp:ExportSettings.TargetType" Value="Panel"/>
                <Setter Property="DisplayTemplate">
                    <Setter.Value>
                        <ControlTemplate TargetType="dxe:TextEdit">
                            <dxe:TextEdit>
                                <dxe:TextEdit.Background>
                                    <MultiBinding Converter="{StaticResource CellBackroundColorOtTypeConvertorSAM}">
                                        <Binding Path="View.DataContext.GeosAppSettingList"/>
                                        <Binding Path="RowData.Row"/>
                                    </MultiBinding>
                                </dxe:TextEdit.Background>
                            </dxe:TextEdit>

                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style.Setters>
        </Style>

        <Style x:Key="printCellProducedModuleStyle" TargetType="dxe:TextEdit" BasedOn="{StaticResource {dxgt:TableViewThemeKey ResourceKey=DefaultPrintCellStyle}}">
            <Style.Setters>
                <Setter Property="dxp:ExportSettings.TargetType" Value="Panel"/>
                <Setter Property="DisplayTemplate">
                    <Setter.Value>
                        <ControlTemplate>
                            <dxe:TextEdit Name="PART_Editor" Text="{Binding Data.ProducedModules}" HorizontalAlignment="Right" 
                                          IsPrintingMode="True">
                                <!--<dxe:TextEdit.Background>
                                    <MultiBinding Converter="{StaticResource CellBackroundColorProducedModuleConvertor}">
                                        <Binding Path="View.DataContext.GeosAppSettingList"/>
                                        <Binding Path="RowData.Row"/>
                                    </MultiBinding>
                                </dxe:TextEdit.Background>-->
                            </dxe:TextEdit>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style.Setters>
        </Style>
        <DataTemplate x:Key="EmptyColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn Binding="{Binding .}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"  
                                AllowBestFit="True" Width="{Binding Width}" MinWidth="{Binding Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="{Binding Visible}"  AllowMoving="False" ShowInColumnChooser="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" PrintCellStyle="{StaticResource printCellStyle}" >
                    <dxg:TreeListColumn.DisplayTemplate>
                        <ControlTemplate>
                            <TextBlock>
                                <TextBlock.Background>
                                    <MultiBinding Converter="{StaticResource CellBackroundColorOtTypeConvertorSAM}">
                                        <Binding Path="View.DataContext.GeosAppSettingList"/>
                                        <Binding Path="RowData.Row"/>
                                    </MultiBinding>
                                </TextBlock.Background>
                            </TextBlock>
                        </ControlTemplate>
                    </dxg:TreeListColumn.DisplayTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>
        <DataTemplate x:Key="ArrayColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=FieldName}" Tag="{Binding}"  Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  
                                FixedWidth="{Binding FixedWidth}"  AllowBestFit="true" Width="{Binding  Width}" MinWidth="{Binding Width}" HorizontalHeaderContentAlignment="Center"  Visible="{Binding Visible}" AllowMoving="False" ShowInColumnChooser="False" AllowSorting="False" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" BestFitArea="All" UnboundType="Integer">
                    <dxg:TreeListColumn.EditSettings>
                        <dxe:TextEditSettings Mask="D" MaskType="Numeric" HorizontalContentAlignment="Left" MaskUseAsDisplayFormat="true" ValidateOnTextInput="True" ValidateOnEnterKeyPressed="True" AllowNullInput="False">
                        </dxe:TextEditSettings>
                    </dxg:TreeListColumn.EditSettings>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>
        
        <DataTemplate x:Key="DefaultColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn Header="{Binding HeaderText}" FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" 
                                MinWidth="{Binding Width}" AllowMoving="True" Visible="True" AllowEditing="false"
                                 ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" 
                                Width="{Binding Width}" >
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Height="24">
                                <Image  
                            Source="{Binding Data.CountryImageBytes}"  
                            VerticalAlignment="Center" Height="24" Width="24" Margin="2,0,0,0" />
                                <TextBlock Text ="{Binding Data.Country}"  VerticalAlignment="Center" Margin="5,0,0,0" ></TextBlock>
                            </StackPanel>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="StatusColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn Header="{Binding HeaderText}" FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" MinWidth="{Binding Width}" AllowMoving="True" Visible="True" 
                                 ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" 
                                Width="{Binding Width}">
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <Border Background="{Binding Data.HtmlColor}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <TextBlock Text="{Binding Data.Status}" Foreground="Black" />
                            </Border>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="HiddenColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   
                                AllowBestFit="True" Width="{Binding  Width}" MinWidth="{Binding Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="{Binding Visible}"  
                                AllowMoving="True" ShowInColumnChooser="{Binding Visible}" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" />
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="RemarkColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   
                                AllowBestFit="True" Width="{Binding  Width}" MinWidth="{Binding Width}" AllowEditing="True" AllowAutoFilter="True"  Visible="False"  
                                AllowMoving="True" ShowInColumnChooser="True" >
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:TextEdit Name="PART_Editor" Text="{Binding Data.Remarks}" HorizontalAlignment="Left" VerticalAlignment="Center"  ShowBorder="False"                                                 >
                                <dxe:TextEdit.Style>
                                    <Style TargetType="{x:Type dxe:TextEdit}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Data.Type}" Value="TESTBOARD">
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Data.Type}" Value="ELECTRIFICATION">
                                                <Setter Property="IsEnabled" Value="True"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Data.Type}" Value="VISION">
                                                <Setter Property="IsEnabled" Value="False"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Data.Type}" Value="STRUCTURE">
                                                <Setter Property="IsEnabled" Value="False"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding DataContext.IsRemarkReadOnly,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=UserControl}}" Value="true">
                                                <Setter Property="IsEnabled" Value="False"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </dxe:TextEdit.Style>
                            </dxe:TextEdit>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="ProjectColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=FieldName}"  Tag="{Binding}"  
                                Header="{Binding HeaderText}" 
                                AllowCellMerge="{Binding AllowCellMerge}" 
                                AllowEditing="{Binding AllowEditing}"  
                                FixedWidth="{Binding FixedWidth}"  AllowBestFit="true"
                                Width="{Binding Width}" MinWidth="{Binding Width}"
                                HorizontalHeaderContentAlignment="Center"
                                Visible="False" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="OEMColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=FieldName}" Tag="{Binding}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}" 
                                AllowEditing="{Binding AllowEditing}"  FixedWidth="{Binding FixedWidth}"  AllowBestFit="true" Width="{Binding Width}" 
                                HorizontalHeaderContentAlignment="Left"  Visible="False" AllowMoving="True" MinWidth="{Binding Width}"
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:TreeListColumn.DisplayTemplate>
                        <ControlTemplate>
                            <TextBlock Text="{Binding Data.OEM}"></TextBlock>
                        </ControlTemplate>
                    </dxg:TreeListColumn.DisplayTemplate>
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:ComboBoxEdit Name="PART_Editor" ItemsSource="{Binding DataContext.CaroemsList,RelativeSource={RelativeSource AncestorType=UserControl}}"
                                              HorizontalAlignment="Stretch" DisplayMember="Name" ValueMember="Name">
                            </dxe:ComboBoxEdit>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>
        
        <!--[pramod.misal][GEOS2-5888][22.08.2024]-->
       
        <DataTemplate x:Key="ClockColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn 
            FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}"           
            FixedWidth="True"
            MinWidth="{Binding Width}"
            MaxWidth="{Binding Width}"
            AllowMoving="False" 
            FilterPopupMode="CheckedList"
            Visible="True" 
            AllowEditing="False"
            Width="{Binding Width}">

                    <!-- Define the HeaderTemplate to show only the clock icon in header -->
                    <dxg:TreeListColumn.HeaderTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Image Source="{DynamicResource SAMHeaderClockIconImageStyle}" 
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center" Height="22" Width="22"/>
                            </StackPanel>
                        </DataTemplate>
                    </dxg:TreeListColumn.HeaderTemplate>

                    <!-- Define the CellTemplate -->
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <!-- Set background color to red if Clock=True -->
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Data.Clock}" Value="True">
                                                <Setter Property="Background" Value="Red"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>

                                <Image x:Name="image" VerticalAlignment="Stretch" Stretch="Fill" HorizontalAlignment="Stretch" Height="22" Width="22">
                                    <Image.Style>
                                        <Style TargetType="{x:Type Image}">
                                            <Setter Property="Source" Value="{x:Null}"/>
                                            <Style.Triggers>
                                                <!-- DataTrigger that checks the Clock property -->
                                                <DataTrigger Binding="{Binding Data.Clock}" Value="True">
                                                    <Setter Property="Source" Value="{DynamicResource SAMClockIconImageStyle}"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Image.Style>
                                </Image>
                            </Grid>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>

                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>
        <!--END GEOS2-5888-->


        <DataTemplate x:Key="TypeColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   
                                AllowBestFit="True" Width="{Binding  Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="{Binding Visible}"  
                                AllowMoving="False" ShowInColumnChooser="True" MinWidth="{Binding Width}" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" />
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="ModulesColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   
                                AllowBestFit="true" Width="{Binding Width}" AllowEditing="{Binding AllowEditing}" AllowAutoFilter="False" MinWidth="{Binding Width}" Visible="True" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:TreeListColumn.EditSettings>
                        <dxe:TextEditSettings HorizontalContentAlignment="Right"/>
                    </dxg:TreeListColumn.EditSettings>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="DeliveryWeekColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   
                                AllowBestFit="true" Width="{Binding Width}" MinWidth="{Binding Width}" AllowEditing="{Binding AllowEditing}" AllowAutoFilter="False"  Visible="True" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                   
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="Category1ColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   
                                AllowBestFit="true" AllowEditing="false" AllowAutoFilter="False"  Visible="False" Width="{Binding Width}"  MinWidth="{Binding Width}" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="Category2ColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   
                                AllowBestFit="true" AllowEditing="false" AllowAutoFilter="False"  Visible="False" Width="{Binding Width}" MinWidth="{Binding Width}" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" />
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="GroupColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"  
                                AllowBestFit="true" Width="{Binding Width}"  AllowEditing="{Binding AllowEditing}" AllowAutoFilter="False"  Visible="True" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" MinWidth="{Binding Width}" />
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="PlannedDurationColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"  
                                AllowBestFit="true" Width="{Binding Width}" AllowEditing="{Binding AllowEditing}" AllowAutoFilter="False"  Visible="True" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" MinWidth="{Binding Width}">
                    <dxg:TreeListColumn.EditSettings>
                        <dxe:TextEditSettings HorizontalContentAlignment="Right"/>
                    </dxg:TreeListColumn.EditSettings>
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Data.PlannedDuration}" HorizontalAlignment="Center" VerticalAlignment="Center">
                            </TextBlock>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="RealDurationColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  
                                FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding Width}" AllowEditing="{Binding AllowEditing}" AllowAutoFilter="False" 
                                Visible="True" AllowMoving="True" MinWidth="{Binding Width}"
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="ProducedModulesColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   
                                AllowBestFit="true" Width="{Binding  Width}" MinWidth="{Binding Width}" AllowEditing="{Binding AllowEditing}" AllowAutoFilter="False"  Visible="True" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" PrintCellStyle="{StaticResource printCellProducedModuleStyle}">

                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <Border HorizontalAlignment="Stretch">
                                <TextBlock Text="{Binding Data.ProducedModules}" HorizontalAlignment="Right"/>
                                <Border.Background>
                                    <MultiBinding Converter="{StaticResource CellBackroundColorProducedModuleConvertor}">
                                        <Binding Path="View.DataContext.GeosAppSettingList"/>
                                        <Binding Path="RowData.Row"/>
                                    </MultiBinding>
                                </Border.Background>
                            </Border>

                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                    <dxg:TreeListColumn.EditSettings>
                        <dxe:TextEditSettings DisplayFormat="d" HorizontalContentAlignment="Right"/>
                    </dxg:TreeListColumn.EditSettings>
                    
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="PercentTextColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=FieldName}"  Tag="{Binding}"  Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}" 
                                AllowEditing="{Binding AllowEditing}"  FixedWidth="{Binding FixedWidth}"  AllowBestFit="true" Width="{Binding Width}" MinWidth="{Binding Width}" HorizontalHeaderContentAlignment="Center"  Visible="True" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                    <dxg:TreeListColumn.DisplayTemplate>
                        <ControlTemplate>
                            <TextBlock Text="{Binding Data.Progress, StringFormat={}{0}%}" HorizontalAlignment="Center"/>
                        </ControlTemplate>
                    </dxg:TreeListColumn.DisplayTemplate>
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <dxe:ComboBoxEdit Name="PART_Editor" ItemsSource="{Binding DataContext.ProgressList,RelativeSource={RelativeSource AncestorType=UserControl}}"
                                              HorizontalAlignment="Stretch" IsTextEditable="False"
                                              Mask="P0" MaskType="Numeric" HorizontalContentAlignment="Center" MaskUseAsDisplayFormat="true" >
                                <dxe:ComboBoxEdit.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding StringFormat={}{0}%}"/>
                                    </DataTemplate>
                                </dxe:ComboBoxEdit.ItemTemplate>
                            </dxe:ComboBoxEdit>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="PlannedStartDateColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" 
                                FixedWidth="{Binding FixedWidth}" Visible="True" Width="{Binding Width}" MinWidth="{Binding Width}" AllowMoving="True" AllowEditing="{Binding AllowEditing}" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <Border x:Name="StartDateBorder" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <dxe:DateEdit Name="PART_Editor" Mask="dd/MM/yyyy" ShowClearButton="False" IsTextEditable="True"
                                              MaskUseAsDisplayFormat="True" ShowError="False" ShowErrorToolTip="False" InvalidValueBehavior="AllowLeaveEditor"
                                              MinValue="{Binding Data.OfferCloseDateMinValue,ValidatesOnDataErrors=False}">

                                    <dxe:DateEdit.Style>
                                        <Style TargetType="{x:Type dxe:DateEdit}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Value="True">
                                                            <Condition.Binding>
                                                                <MultiBinding Converter="{UIConverter:DateCellColorConverter}">
                                                                    <Binding Path="Data.ExpectedStartDate" />
                                                                    <Binding Path="Data.Quotation.Offer.IdStatus" />
                                                                </MultiBinding>
                                                            </Condition.Binding>
                                                        </Condition>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Foreground" Value="Red" />
                                                </MultiDataTrigger>
                                                
                                            </Style.Triggers>
                                        </Style>
                                    </dxe:DateEdit.Style>
                                </dxe:DateEdit>
                            </Border>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                   
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="PlannedEndDateColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" 
                                FixedWidth="{Binding FixedWidth}" Visible="True" Width="{Binding Width}" MinWidth="{Binding Width}" AllowMoving="True" AllowEditing="{Binding AllowEditing}" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <Border x:Name="EndDateBorder" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <dxe:DateEdit Name="PART_Editor" Mask="dd/MM/yyyy" ShowClearButton="False" IsTextEditable="True"
                                              MaskUseAsDisplayFormat="True" ShowError="False" ShowErrorToolTip="False" InvalidValueBehavior="AllowLeaveEditor"
                                              MinValue="{Binding Data.OfferCloseDateMinValue,ValidatesOnDataErrors=False}">

                                    <dxe:DateEdit.Style>
                                        <Style TargetType="{x:Type dxe:DateEdit}">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Value="True">
                                                            <Condition.Binding>
                                                                <MultiBinding Converter="{UIConverter:DateCellColorConverter}">
                                                                    <Binding Path="Data.ExpectedEndDate" />
                                                                    <Binding Path="Data.Quotation.Offer.IdStatus" />
                                                                </MultiBinding>
                                                            </Condition.Binding>
                                                        </Condition>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Foreground" Value="Red" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </dxe:DateEdit.Style>
                                </dxe:DateEdit>
                            </Border>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="DelayColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  
                                FixedWidth="{Binding FixedWidth}"   AllowBestFit="true" Width="{Binding Width}" MinWidth="{Binding Width}" AllowEditing="{Binding AllowEditing}" AllowAutoFilter="False"  Visible="True" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    <dxg:TreeListColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Data.Delay}" HorizontalAlignment="Center" VerticalAlignment="Center">
                                <TextBlock.Style>
                                    <Style TargetType="{x:Type TextBlock}">
                                        <Setter Property="TextBlock.FontWeight" Value="Bold" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Data.Delay, Converter={Converters:GridViewCellValueColorConvertor}}" Value="-1">
                                                <Setter Property="TextBlock.Foreground" Value="Red" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Data.Delay, Converter={Converters:GridViewCellValueColorConvertor}}" Value="+1">
                                                <Setter Property="TextBlock.Foreground" Value="Green" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Data.Delay, Converter={Converters:GridViewCellValueColorConvertor}}" Value="0">
                                                <Setter Property="TextBlock.Foreground" Value="Transparent" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="PlantColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"   
                                AllowBestFit="true" Width="{Binding Width}" MinWidth="{Binding Width}" AllowEditing="{Binding AllowEditing}" AllowAutoFilter="False"  Visible="True" AllowMoving="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="PODateColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" 
                                FixedWidth="{Binding FixedWidth}" Visible="True" Width="{Binding Width}" MinWidth="{Binding Width}" AllowMoving="True" AllowEditing="{Binding AllowEditing}" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">
                    
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="RealStartDateColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" 
                                FixedWidth="{Binding FixedWidth}" Visible="True" Width="{Binding Width}" MinWidth="{Binding Width}" AllowMoving="True" AllowEditing="{Binding AllowEditing}" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">

                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="RealEndDateColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=(dxci:DependencyObjectExtensions.DataContext).FieldName, RelativeSource={RelativeSource Self}}" 
                                FixedWidth="{Binding FixedWidth}" Visible="True" Width="{Binding Width}" MinWidth="{Binding Width}" AllowMoving="True" AllowEditing="{Binding AllowEditing}" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}">

                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="BusinessUnitColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding Path=FieldName}"  Tag="{Binding}"  Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}" 
                                AllowEditing="{Binding AllowEditing}"  FixedWidth="{Binding FixedWidth}"  AllowBestFit="true" Width="{Binding Width}"
                                HorizontalHeaderContentAlignment="Left"  Visible="False" AllowMoving="True" MinWidth="{Binding Width}"
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="OthersFieldsColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"  
                                AllowBestFit="True" Width="{Binding  Width}" AllowEditing="False" AllowAutoFilter="False"  Visible="False" MinWidth="{Binding Width}" AllowMoving="True"  
                                ShowInColumnChooser="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"/>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="DeliveryDateColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" Visible="True" AllowMoving="True" AllowEditing="{Binding AllowEditing}" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}"
                                Width="{Binding Width}" MinWidth="{Binding Width}"
                                FixedWidth="{Binding FixedWidth}">
                    <dxg:TreeListColumn.CellStyle>
                        <Style TargetType="{x:Type dxg:LightweightCellEditor}" BasedOn="{StaticResource {dxgt:GridRowThemeKey ResourceKey=LightweightCellStyle}}" >
                            <Setter Property="BorderBrush" Value="{DynamicResource TreeListColumnCellBorderBrushColorStyle}" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Data.DeliveryDate, Converter={Converters:CellColorConverter}}" Value="Red">
                                    <Setter Property="Foreground" Value="Red" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </dxg:TreeListColumn.CellStyle>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="DescriptionColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}" Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="True" 
                                AllowBestFit="False" Width="{Binding Width}" MinWidth="{Binding Width}" AllowEditing="False" AllowAutoFilter="False" 
                                Visible="{Binding Visible}"  AllowMoving="False" ShowInColumnChooser="True" 
                                ReadOnly="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=IsPermissionReadOnly}" >
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <DataTemplate x:Key="OfferCodeColumnTemplate">
            <ContentControl>
                <dxg:TreeListColumn FieldName="{Binding FieldName}"  Header="{Binding HeaderText}" AllowCellMerge="{Binding AllowCellMerge}"  FixedWidth="{Binding FixedWidth}"  
                                AllowBestFit="true" AllowEditing="False" AllowAutoFilter="False"  Visible="True"  AllowMoving="True"
                                ShowInColumnChooser="True"
                                Width="{Binding Width}" MinWidth="{Binding Width}" ReadOnly="False">
                    <dxg:TreeListColumn.CellDisplayTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Margin="5,0,0,0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                    <InlineUIContainer>
                                            <TextBlock Text="{Binding Data.Code}"/>
                                        </InlineUIContainer>
                                    <TextBlock.Style>
                                        <Style TargetType="{x:Type TextBlock}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding RowData.SelectionState}" Value="Selected">
                                                    <Setter Property="TextBlock.Visibility" Value="Visible" />
                                                    <Setter Property="Foreground" Value="{DynamicResource ColorMain}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Data.IsParent}" Value="True">
                                                    <Setter Property="TextBlock.Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Data.IsParent}" Value="False">
                                                    <Setter Property="TextBlock.Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <TextBlock Margin="5,0,0,0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                    <Hyperlink x:Name="hyperlink"
                                        TargetName="_blank"
                                        Command="{Binding DataContext.PendingWorkOrderViewHyperlinkClickCommand,RelativeSource={RelativeSource AncestorType=dxg:TreeListControl}}"
                                        CommandParameter="{Binding ElementName=PendingWorkOrderTableView}">
                                        <InlineUIContainer>
                                            <TextBlock Text="{Binding Data.Code}"/>
                                        </InlineUIContainer>
                                    </Hyperlink>
                                    <TextBlock.Style>
                                        <Style TargetType="{x:Type TextBlock}">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Data.IsParent}" Value="True">
                                                    <Setter Property="TextBlock.Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Data.IsParent}" Value="False">
                                                    <Setter Property="TextBlock.Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                    </TextBlock>
                            </StackPanel>
                            <DataTemplate.Triggers>
                                <Trigger Property="dxg:DataViewBase.IsFocusedCell" Value="True">
                                    <Setter TargetName="hyperlink" Property="Foreground" Value="{DynamicResource ColorMain}"/>
                                </Trigger>
                                <DataTrigger Binding="{Binding RowData.SelectionState}" Value="Selected">
                                    <Setter TargetName="hyperlink" Property="Foreground" Value="{DynamicResource ColorMain}" />
                                </DataTrigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="hyperlink" Property="Foreground" Value="OrangeRed" />
                                </Trigger>
                            </DataTemplate.Triggers>
                        </DataTemplate>
                    </dxg:TreeListColumn.CellDisplayTemplate>
                </dxg:TreeListColumn>
            </ContentControl>
        </DataTemplate>

        <Style TargetType="dxg:GridColumnHeader">
            <Setter Property="Height" Value="100" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=(dxg:ColumnBase.HeaderPresenterType)}"
                             Value="ColumnChooser">
                    <Setter Property="Height" Value="30"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="PrintColumnHeaderStyle" TargetType="dxe:TextEdit"  BasedOn="{StaticResource {dxgt:TableViewThemeKey ResourceKey=DefaultPrintCellStyle}}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=Column.DataContext.IsVertical}" Value="True">
                    <Setter Property="dxp:ExportSettings.TargetType" Value="Image"/>
                    <Setter Property="Height" Value="150"/>
                    <Setter Property="DisplayTemplate">
                        <Setter.Value> 
                            <ControlTemplate>
                                <dxe:TextEdit Name="PART_Editor" HorizontalAlignment="Left" Text="{Binding Path=Column.DataContext.FieldName}" IsPrintingMode="True" >
                                    <dxe:TextEdit.LayoutTransform >
                                        <RotateTransform Angle="-90"/>
                                    </dxe:TextEdit.LayoutTransform>
                                </dxe:TextEdit>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="HideButtonStyle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Border BorderThickness="0" Background="{TemplateBinding Background}">
                            <Grid>
                                <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                       Source="/Emdep.Geos.Modules.SAM;component/Assets/Images/ArrowRight.png"
                                       Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter Inverse=True}}"/>

                                <Image Stretch="None" VerticalAlignment="Center" HorizontalAlignment="Center"
                                       Source="/Emdep.Geos.Modules.SAM;component/Assets/Images/ArrowLeft.png"
                                       Visibility="{TemplateBinding IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter}}"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ColumnStyle" TargetType="dxg:TreeListColumn">
            <Setter Property="FilterPopupMode" Value="CheckedList"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsVertical}" Value="true">
                    <Setter Property="HeaderTemplate">
                        <Setter.Value>
                            <DataTemplate>
                                <ContentControl Content="{Binding}">
                                    <ContentControl.LayoutTransform>
                                        <RotateTransform Angle="-90"/>
                                    </ContentControl.LayoutTransform>
                                </ContentControl>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>                    
                </DataTrigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="LeftPanelTileItemStyle" TargetType="{x:Type dxnav:TileBarItem}">
            <Setter Property="Foreground" Value="{Binding BackColor,Converter={Converters:ForegroundColorConverter}}"/>
            <Setter Property="BorderBrush" Value="#FFD6D6D6"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="{Binding BackColor}"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Stretch"/>
            <Setter Property="Height" Value="{Binding Height}"/>
            <Setter Property="Width" Value="{Binding width}"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="SelectionPadding" Value="0" />
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid Margin="2 0 2 0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="70*"/>
                                <RowDefinition>
                                    <RowDefinition.Style>
                                        <Style TargetType="{x:Type RowDefinition}">
                                            <Setter Property="Height" Value="30*"></Setter>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding EntitiesCountVisibility}" Value="Collapsed">
                                                    <Setter Property="Height" Value="30"></Setter>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </RowDefinition.Style>
                                </RowDefinition>
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="35*"/>
                                <ColumnDefinition Width="65*"/>
                            </Grid.ColumnDefinitions>

                            <dxe:ImageEdit Grid.Row="0" Grid.Column="0"
                                           Margin="3 4 0 0" Width="45" Height="45"
                                           ShowBorder="True" BorderThickness="1"
                                           HorizontalAlignment="Left" 
                                           VerticalAlignment="Stretch" 
                                           IsReadOnly="True" 
                                           ShowMenu="False" >
                                <dxe:ImageEdit.Style>
                                    <Style TargetType="{x:Type dxe:ImageEdit}">
                                        <Setter Property="Source" Value="{Binding Image}"></Setter>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Image}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed" ></Setter>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </dxe:ImageEdit.Style>
                            </dxe:ImageEdit>

                            <TextBlock Grid.Row="0" Grid.Column="1" 
                                       Text="{Binding EntitiesCount,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"
                                       FontSize="36" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                       Opacity="0.6" 
                                       Visibility="{Binding EntitiesCountVisibility}"/>

                            <TextBlock Grid.Row="1" Grid.Column="0"  
                                       Grid.ColumnSpan="2"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center"
                                       FontSize="18"
                                       ToolTip="{Binding Caption}"
                                       Text="{Binding Caption}"  TextTrimming="CharacterEllipsis" >
                              
                            </TextBlock>
                        </Grid>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="BorderThickness" Value="5"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource TileBarItemColorStyle}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

       

    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="150"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="40"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="40"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="40"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="40"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="45"/>
            </Grid.ColumnDefinitions>
            <StackPanel Orientation="Horizontal">
            <Label Content="{DynamicResource SAMPendingWorkOrders}" Style="{StaticResource LabelTitleStyle}" />
                <!--//Shubham[skadam] [V.2.6.7.0] GEOS2-8849&GEOS2-8855&GEOS2-8859 SAM module very slow when trying to load informations - Orders ->Structures 16 09 2025-->
                <Image gif:ImageBehavior.RepeatBehavior="Forever" gif:ImageBehavior.AnimatedSource="/Emdep.Geos.Modules.SAM;component/Assets/Images/animatedWarning.gif" 
                Visibility="{Binding IsShowFailedPlantWarning,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,Converter={StaticResource BoolToVis}}" 
                HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5,2,5,0" Height="30" Width="30">
                    <Image.ToolTip>
                        <TextBlock Text="{Binding WarningFailedPlants}"/>
                    </Image.ToolTip>
                </Image>
            </StackPanel>
            <!-- Warehouse combobox section -->
            <Grid Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="5"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Image Grid.Column="0" Style="{DynamicResource WarehouseImageStyle}"
                       Width="24" Height="24"
                       HorizontalAlignment="Center" VerticalAlignment="Center" />
                <TextBlock Grid.Column="2" 
                           Text="{DynamicResource SAMPlant:}" FontWeight="Bold"
                           VerticalAlignment="Center" HorizontalAlignment="Center" />
            </Grid>

            <dxe:ComboBoxEdit Grid.Column="4" Name="CbeWareHouse" 
                              Style="{DynamicResource ComboBoxEditStyle}" 
                              Height="35"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Stretch"
                              IsTextEditable="False"
                              DisplayMember="ShortName"
                              ItemsSource ="{Binding Source={x:Static SAMCommon:SAMCommon.Instance}, Path=PlantOwnerList ,UpdateSourceTrigger=PropertyChanged , Mode=TwoWay}"
                              EditValue="{Binding Source={x:Static SAMCommon:SAMCommon.Instance}, Path=SelectedPlantOwnerList,UpdateSourceTrigger=PropertyChanged}">

                <dxe:ComboBoxEdit.StyleSettings>
                    <dxe:CheckedComboBoxStyleSettings />
                </dxe:ComboBoxEdit.StyleSettings>

                <dxmvvm:Interaction.Triggers>
                    <dxmvvm:EventToCommand EventName="PopupClosed"
                                           Command="{Binding DataContext.PlantOwnerPopupClosed, RelativeSource={RelativeSource AncestorType=UserControl}}" 
                                           PassEventArgsToCommand="True"/>
                </dxmvvm:Interaction.Triggers>
            </dxe:ComboBoxEdit>

            <!--Scan validation-->
            <Button Content=" " Grid.Column="6"
                    Height="40" Width="40" HorizontalAlignment="Right"
                    Command="{Binding ScanValidationCommand}"
                    CommandParameter="{Binding ElementName=PendingWorkOrderTableView}" >
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ScanValidation}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{ DynamicResource ScanvalidationButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!-- Refresh Button -->
            <Button Content=" " Grid.Column="8"
                    Height="40" Width="40" HorizontalAlignment="Right"
                    Command="{Binding RefreshWorkOrderViewCommand}"
                    CommandParameter="{Binding ElementName=PendingWorkOrderTableView}" >
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonRefresh}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{ DynamicResource WareHouseRefreshButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!-- Print Button -->
            <Button Content=" " Grid.Column="10"
                    Height="40" Width="40"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Command="{Binding PrintWorkOrderViewCommand}"
                    CommandParameter="{Binding ElementName=PendingWorkOrderTableView}" >
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonPrint}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{ DynamicResource PrinterButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!-- Export Button -->
            <Button Content=" " 
                    Grid.Column="12"
                    Height="40" Width="40"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Command="{Binding ExportWorkOrderViewCommand}"
                    CommandParameter="{Binding ElementName=PendingWorkOrderTableView}">
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonExportToExcel}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{DynamicResource ExcelExportButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!-- Work Log -->
            <Button Content=" "
                    Grid.Column="14"
                    Height="40" Width="40"
                    HorizontalAlignment="Right"
                    Command="{Binding ScanWorkOderCommand}" >
            
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource LogWork}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <Image Style="{DynamicResource WorkLogScanButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <!-- Save -->
            <!--, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged-->
            <Button Content=" " Height="40" Width="40" Grid.Column="16" Command="{Binding UpdateMultipleRowsWorkOrderCommand}" CommandParameter="{Binding ElementName=PendingWorkOrderTableView}" HorizontalAlignment="Right" Margin="0,0,5,0" 
                    IsEnabled="{Binding Path=(UIHelper:MultipleCellEditHelperSAMWorkOrder.IsValueChanged), ElementName=PendingWorkOrderTableView}">
                <Button.ToolTip>
                    <TextBlock Text="{DynamicResource ButtonSave}"/>
                </Button.ToolTip>
                <Button.ContentTemplate>
                    <DataTemplate>
                        <!--<Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                --><!--<ColumnDefinition Width="*" />--><!--
                            </Grid.ColumnDefinitions>-->
                            <Image Style="{ DynamicResource SaveButtonImageStyle}"  Height="24" Width="24" Margin="-10"/>
                        <!--</Grid>-->
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

        </Grid>

        <DockPanel Grid.Row="1" >
            <dxwui:NavigationFrame x:Name="Navigatedframe" AnimationType="None">
                <dxmvvm:Interaction.Behaviors>
                    <dxwuin:FrameNavigationService/>
                </dxmvvm:Interaction.Behaviors>
            </dxwui:NavigationFrame>

            <UIHelper:DpiResizingPanel DockPanel.Dock="Left">
                <dxnav:TileBar DockPanel.Dock="Left"
                               Visibility="{Binding ElementName=expandButton, Path=IsChecked, Converter={dxmvvm:BooleanToVisibilityConverter}}"
                               Margin="0,-20,0,0"
                               SelectedItem="{Binding SelectedFilter, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                               Orientation="Vertical"
                               ItemSpacing="5"
                               ItemsSource="{Binding QuickFilterList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                               ItemContainerStyle="{StaticResource LeftPanelTileItemStyle}"
                               Focusable="True">
                    <dxmvvm:Interaction.Behaviors>
                        <dxmvvm:EventToCommand Command="{Binding CommandFilterTileClick}" EventName="SelectionChanged" PassEventArgsToCommand="True"/>
                        <dxmvvm:EventToCommand Command="{Binding CommandTileBarDoubleClick}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=PendingWorkOrderTableView}"/>
                    </dxmvvm:Interaction.Behaviors>
                </dxnav:TileBar>
            </UIHelper:DpiResizingPanel>

            <ToggleButton x:Name="expandButton" DockPanel.Dock="Left" Style="{StaticResource HideButtonStyle}" IsChecked="True" VerticalAlignment="Center"/>

            <dxg:TreeListControl ItemsSource="{Binding Dttable, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                             SelectedItem="{Binding SelectedObject, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                             ColumnsSource="{Binding Columns,UpdateSourceTrigger=PropertyChanged}"
                             ColumnGeneratorTemplateSelector="{StaticResource ColumnTemplateSelectorSAM}"
                             AutoGenerateColumns="None" ScrollViewer.HorizontalScrollBarVisibility="Visible"
                             ColumnGeneratorStyle="{StaticResource ColumnStyle}"                             
                             FilterString="{Binding FilterString,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"                             
                             ShowBorder="True"
                             VerticalAlignment="Stretch"
                             SelectionMode="Cell"
                             ImplyNullLikeEmptyStringWhenFiltering="True">
                <dxg:TreeListControl.TotalSummary>
                    <dxg:TreeListSummaryItem x:Name="summary" FieldName="Description" SummaryType="Custom" DisplayFormat="Total: {0}" Visible="True" Alignment="Left"/>
                </dxg:TreeListControl.TotalSummary>
                <dxmvvm:Interaction.Behaviors>
                    <dxmvvm:DependencyPropertyBehavior Binding="{Binding VisibleRowCount, Mode=OneWayToSource}"
                                                       EventName="FilterChanged"
                                                       PropertyName="VisibleRowCount" />

                    <dxmvvm:EventToCommand EventName="CustomUnboundColumnData"
                                       Command="{Binding CustomUnboundColumnDataCommand}"
                                       PassEventArgsToCommand="True"/>

                </dxmvvm:Interaction.Behaviors>
                <dxg:TreeListControl.View>

                    <dxg:TreeListView x:Name="PendingWorkOrderTableView"
                                           KeyFieldName="ChildId" 
                                           ParentFieldName="ParentId"
                                           NavigationStyle="Cell"
                                           RowDetailsVisibilityMode="Visible"
                                           ShowHorizontalLines="True"
                                           ShowSearchPanelMode="Always"
                                           ShowColumnHeaders="True"
                                           IsColumnChooserVisible="{Binding IsWorkOrderColumnChooserVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                           VerticalScrollbarVisibility="Visible"
                                           AllowFixedColumnMenu="False"
                                           ShowFixedTotalSummary="True" 
                                           SearchPanelHorizontalAlignment="Stretch"
                                           ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                           FocusedRow="{Binding SelectedObject, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                           ShowIndicator="False"
                                           AutoWidth="False"
                                           FilterEditorShowOperandTypeIcon="True"
                                           AllowColumnFiltering="True"
                                           UseLegacyFilterEditor="True"
                                           AllowEditing="True"
                                                   PrintColumnHeaderStyle="{StaticResource PrintColumnHeaderStyle}" 
                                           UIHelper:MultipleCellEditHelperSAMWorkOrder.IsEnabled="True"
                                      FilteringMode="EntireBranch"
                                      >

                        <dxg:TreeListView.Resources>
                            <DataTemplate x:Key="PendingWorkOrderListReportPrintHeaderTemplate">
                                <Grid Width="{Binding UsablePageWidth}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="130" />
                                    </Grid.ColumnDefinitions>
                                    <dxe:TextEdit Text=" " Width="{Binding UsablePageWidth}" Grid.ColumnSpan="3" IsPrintingMode="True" Background="#333E5E" HorizontalAlignment="Stretch" 
                                                  VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold" Height="50" />
                                    <dxe:TextEdit Text="Pending Work Orders Report" IsPrintingMode="True" HorizontalAlignment="Stretch" 
                                                  VerticalAlignment="Stretch" Padding="12" Foreground="#FFFFFFFF" Style="{DynamicResource TextEdit20Style}" FontWeight="Bold" />
                                    <Image Source="/Emdep.Geos.Modules.SAM;component/Assets/Images/GeosReportLogo.png" Height="50" Width="80"  dxp:ExportSettings.TargetType="Image" Grid.Column="2" />
                                </Grid>
                            </DataTemplate>

                            <DataTemplate x:Key="PendingWorkOrderListReportPrintFooterTemplate">
                                <dxe:TextEdit HorizontalContentAlignment="Center" 
                                              Width="{Binding Path=UsablePageWidth, Mode=OneWay}" 
                                              dxp:ExportSettings.TargetType="PageNumber" 
                                              dxp:PageNumberExportSettings.Kind="NumberOfTotal" 
                                              dxp:PageNumberExportSettings.Format="Page {0} of {1}"/>
                            </DataTemplate>
                        </dxg:TreeListView.Resources>


                        <dxmvvm:Interaction.Behaviors>
                            <dxmvvm:EventToCommand Command="{Binding TableViewLoadedCommand}"
                                                   EventName="Loaded"
                                                   PassEventArgsToCommand="True" />

                            <dxmvvm:EventToCommand Command="{Binding FilterEditorCreatedCommand}"
                                                   EventName="FilterEditorCreated"
                                                   PassEventArgsToCommand="True" />

                            <!--<dxmvvm:EventToCommand Command="{Binding CommandGridDoubleClick}"
                                                   EventName="MouseDoubleClick"
                                                   CommandParameter="{Binding ElementName=PendingWorkOrderTableView}" >
                                <dxmvvm:EventToCommand.EventArgsConverter>
                                    <dx:EventArgsToDataRowConverter/>
                                </dxmvvm:EventToCommand.EventArgsConverter>
                            </dxmvvm:EventToCommand>-->
                          

                            <dxmvvm:EventToCommand EventName="CellValueChanging"
                                       Command="{Binding CustomUnboundColumnDataCommand1}"
                                       PassEventArgsToCommand="True"/>

                            <dxmvvm:EventToCommand Command="{Binding ShowingEditorCommand}"
                                                   EventName="ShowingEditor"
                                                   PassEventArgsToCommand="True" />

                            <dxmvvm:EventToCommand EventName="CustomSummary"
                                       Command="{Binding CustomSummaryCommand}"
                                                PassEventArgsToCommand="True"   >

                            </dxmvvm:EventToCommand>

                        </dxmvvm:Interaction.Behaviors>

                    </dxg:TreeListView>

                </dxg:TreeListControl.View>

            </dxg:TreeListControl>
        </DockPanel>
    </Grid>
</UserControl>
