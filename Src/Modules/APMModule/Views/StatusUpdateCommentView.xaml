<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.APM.Views.StatusUpdateCommentView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Emdep.Geos.Modules.APM.Views"
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"   
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" 
             xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
             xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"    
              xmlns:APMCommon ="clr-namespace:Emdep.Geos.Modules.APM"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300"
             Title="{DynamicResource APMViewStatusUpdateComment}"
             TitleStyle="{DynamicResource WinUIDialogWindowTitleStyle}">
    <!--[Shweta.Thube][GEOS2-5979]-->
    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding CancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="120"></RowDefinition>
            <RowDefinition Height="5"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
			<RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="30"></RowDefinition>
            <RowDefinition Height="5"></RowDefinition>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"></ColumnDefinition>
            <ColumnDefinition Width="100"></ColumnDefinition>
            <ColumnDefinition Width="5"></ColumnDefinition>
            <ColumnDefinition Width="350"></ColumnDefinition>
            <ColumnDefinition Width="5"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <Label Content="{DynamicResource APMViewStatusUpdateCommentLable}" VerticalContentAlignment="Top" VerticalAlignment="Top" FontSize="16" Margin="5" Width="180" Height="30" Grid.Row="0" Grid.Column="1" />

        <dxe:TextEdit 
    Grid.Row="0" 
    Grid.Column="3" 
            Margin="5"
    VerticalContentAlignment="Top" 
    TextWrapping="Wrap"  
    VerticalAlignment="Stretch" 
    ScrollViewer.VerticalScrollBarVisibility="Auto" 
    ScrollViewer.HorizontalScrollBarVisibility="Disabled" 
    AcceptsReturn="True">

            <!-- Bind TextEdit.Text to the Comment property with validation rules -->
            <dxe:TextEdit.Text>
                <Binding Path="Comment" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged" 
                 ValidatesOnNotifyDataErrors="True" ValidatesOnDataErrors="True">
                    <Binding.ValidationRules>
                        <Validation:AddStatusUpdateCommentValidation FieldName="Comment" 
                                                             ValidationStep="UpdatedValue" 
                                                             ValidatesOnTargetUpdated="True" />
                    </Binding.ValidationRules>
                </Binding>
            </dxe:TextEdit.Text>

        </dxe:TextEdit>
		
		                <!--File-->
                <Label Grid.Column="1" Grid.Row="2" Content="{DynamicResource APMAddEditTaskFileLabel}"
    Height="30" FontSize="16" Margin="5,0,0,0" ></Label>

                <dxe:ComboBoxEdit Grid.Row="2" Grid.Column="3" IsEnabled="True"
 VerticalContentAlignment="Center" Height="30" Margin="5,5,5,5" 
 ItemsSource="{Binding AttachmentObjectList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
 ScrollViewer.VerticalScrollBarVisibility="Hidden"
 DisplayMember="SavedFileName"
 HorizontalAlignment="Stretch" 
 VerticalAlignment="Stretch"
 AllowDefaultButton="False" 
 AutoComplete="False"
		  EditValue="{Binding AttachmentObjectList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
 ImmediatePopup="False"
	 

 IsTextEditable="False"
 IsReadOnly="False"
                           
 Style="{DynamicResource ComboBoxEditStyle}">
                    <dxe:ComboBoxEdit.StyleSettings>
                        <dxe:TokenComboBoxStyleSettings  NewTokenPosition="Far" EnableTokenWrapping="True"  />
                    </dxe:ComboBoxEdit.StyleSettings>
                    <!--<dxe:ComboBoxEdit.SelectedItem>
	<Binding Path="ActionPlanAttachmentFile"  ValidatesOnDataErrors="True"  UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
		<Binding.ValidationRules>
			<Validation:AddActionPlanAttachmentValidations FieldName="ActionPlanAttachmentFile" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True"/>
		</Binding.ValidationRules>
	</Binding>
</dxe:ComboBoxEdit.SelectedItem>-->
                </dxe:ComboBoxEdit>

                <Button Grid.Row="3" Margin="0,0,5,5" Grid.Column="3" Content="{DynamicResource ChooseFile}" 
	 HorizontalAlignment="Right" Command="{Binding ChooseFileActionCommand}" />

                <!--Attachment Description-->
                <Label Grid.Column="1" Grid.Row="4" Content="{DynamicResource APMAddEditTaskDescriptionLabel}" 
   Margin="5" Height="30" FontSize="16" ></Label>
                <dxe:TextEdit Grid.Row="4" Grid.Column="3" 
           NullText="{DynamicResource AddEditActionPlanAttachmentsDescriptionHeader}"
 VerticalContentAlignment="Top" Margin="5,0,5,10"
           TextWrapping="Wrap" Height="60" IsEnabled="{Binding IsDescriptionEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
           ScrollViewer.VerticalScrollBarVisibility="Auto"
           ScrollViewer.HorizontalScrollBarVisibility="Disabled" 
                       Text="{Binding TaskDescription,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
           AcceptsReturn="True">

                </dxe:TextEdit>



        <StackPanel Grid.Row="5" 
                    HorizontalAlignment="Center"
                    VerticalAlignment="top"
                    Orientation="Horizontal" 
                    Width="290" Grid.Column="3">

            <Button Content="{DynamicResource Accept}"
                            Command="{Binding AcceptButtonCommand}"
                            Height="30"
                            Width="90"
                            Margin="0,0,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Bottom" />

            <Button Content="{DynamicResource Cancel}"
                            Command="{Binding CancelButtonCommand}" 
                            Height="30"
                            Width="90"
                            Margin="110,0,0,0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom"/>
        </StackPanel>


    </Grid>
</dxwui:WinUIDialogWindow>
