<dxwui:WinUIDialogWindow x:Class="Emdep.Geos.Modules.OTM.Views.EditPORequestsView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Emdep.Geos.Modules.OTM.Views"
        xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
        xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
        xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
        xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
        xmlns:UIHelper="clr-namespace:Emdep.Geos.UI.Helper;assembly=Emdep.Geos.UI.Helper"
        xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
        xmlns:Validation ="clr-namespace:Emdep.Geos.UI.Validations;assembly=Emdep.Geos.UI.Validations"
        xmlns:Coverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
        xmlns:UIConverter="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
        xmlns:Converters="clr-namespace:Emdep.Geos.UI.Converters;assembly=Emdep.Geos.UI.Converters"
        xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
        xmlns:dxre="http://schemas.devexpress.com/winfx/2008/xaml/richedit"
        xmlns:sysglb="clr-namespace:System.Globalization;assembly=mscorlib"
        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
        xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Title="EditPORequestsView">

    <dxwui:WinUIDialogWindow.Resources>

        <Converters:EmployeeCodeInitialToImageConverter x:Key="EmployeeCodeInitialToImageConverter" />
        <Coverter:ForegroundColorConverter x:Key="ForegroundColorConverter" />
        <UIConverter:ImageUrlToByteArrayConverter x:Key="ImageUrlToByteArrayConverter" />

        <Style x:Key="myGroupBoxStyle" TargetType="{x:Type dxlc:GroupBox}">
            <Setter Property="MaximizeElementVisibility" Value="Visible" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Width" Value="300" />
        </Style>

        <!--[pramod.misal][09-05-2025][GEOS2-7912]-->
        <SolidColorBrush x:Key="OTMGridBackgroundBrush" Color="#666666"/>
        <SolidColorBrush x:Key="OTMEmailTabBrush" Color="#083493"/>

        
        
        <!--[pramod.misal][09-05-2025][GEOS2-7912]-->
        <Style x:Key="EmailCaptionStackPanelStyle" TargetType="TextBlock">
            <Style.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue" />
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Foreground" Value="#ffffff"/>
                </MultiDataTrigger>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue" />
                    </MultiDataTrigger.Conditions>
                    <!--<Setter Property="Foreground" Value="#ffffff"/>-->
                    <Setter Property="Foreground" Value="#666666"/>
                </MultiDataTrigger>
            </Style.Triggers>
        </Style>

        <DataTemplate x:Key="CustomEmailCaptionTemplate">
            <StackPanel  Orientation="Horizontal" VerticalAlignment="Center">
                <!-- Icon -->
                <Image Style="{DynamicResource OTMPinEmailIconImageStyle}" Height="20" Width="20" Margin="0,0,5,0"/>

                <!-- Title -->
                <TextBlock Text="{DynamicResource TitleEmail}" Style="{StaticResource EmailCaptionStackPanelStyle}" FontWeight="Bold" Margin="-3,2,0,0"/>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="EmailContentTemplate">
            <Grid x:Name="EmailView"  ShowGridLines="False" Background="{StaticResource OTMGridBackgroundBrush}" >
                <Grid.RowDefinitions>
                    <RowDefinition Height="2"/>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="5"/>
                    <RowDefinition Height="25"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="25"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="30"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="75"/>
                    <ColumnDefinition Width="25"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="100*"/>
                </Grid.ColumnDefinitions>


                
                <TextBlock Grid.Row="1" ToolTip="{Binding DataContext.Subject, Mode=OneWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" VerticalAlignment="Center" Grid.Column="0" 
                           Text="{Binding DataContext.Subject, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"  Grid.ColumnSpan="4" Margin="20,0,0,0"  FontSize="18" Style="{DynamicResource OTMemailTextBlock16Style}" />
                <TextBlock Grid.Row="3"  Grid.Column="1"  Text="{Binding DataContext.SenderName, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"  
                           Grid.ColumnSpan="4"   FontSize="16" Style="{DynamicResource OTMemailTextBlock16Style}" />
                
                <!--Lable TO-->
                <TextBlock Grid.Row="4" Grid.Column="1" Text="{DynamicResource LableTO}" FontSize="14" Style="{DynamicResource OTMemailTextBlock16Style}" />
                <!--To RecipientName-->
                <!--<TextBlock Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="2"  Text="{Binding DataContext.ToRecipientName, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                           Margin="5,0,0,0" TextWrapping="Wrap"   FontSize="14" Style="{DynamicResource OTMemailTextBlock16Style}" />-->

                <!-- New RecipientName-->
                <ItemsControl Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="3" ItemsSource="{Binding DataContext.ToRecipientNameList,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <!--<StackPanel Orientation="Horizontal">
                                <Image Style="{DynamicResource OTMIsEmdepContactImageStyle}" Visibility="{Binding IsEmdepContact}"   Width="14" Height="14"/>

                                <TextBlock TextWrapping="Wrap" 
                                     FontSize="14"   >
                                  <Hyperlink x:Name="hyperlink"  
                                         Command="{Binding DataContext.POCcClickCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                      CommandParameter="{Binding}">       
             
                                    <InlineUIContainer>
                                        <TextBlock Text="{Binding RecipientName}" Style="{DynamicResource OTMEmailHyperlinkTextBlock}" TextDecorations="Underline"/>
                                    </InlineUIContainer>
                                  </Hyperlink>
    

                                 </TextBlock>

                            </StackPanel>-->

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="2"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <!-- Row 0: Image -->
                                <Image Grid.Column="0"
                                   Style="{DynamicResource OTMIsEmdepContactImageStyle}"
                                   Visibility="{Binding IsEmdepContact}"  
                                   Width="14" Height="14"/>

                                 <Image Grid.Column="0"
                                    Style="{DynamicResource OTMIsNotEmdepContactImageStyle}"
                                    Visibility="{Binding IsNotEmdepContact}"  
                                    Width="14" Height="14"/>

                                <!--<TextBlock Grid.Column="1" Text=" "></TextBlock>-->
                                <!-- Row 1: Hyperlink Text -->
                                <TextBlock Grid.Column="2" TextWrapping="Wrap" FontSize="14">
                                    <Hyperlink x:Name="hyperlink"  
                                               Command="{Binding DataContext.POToClickCommand,
                                               Mode=TwoWay,
                                               UpdateSourceTrigger=PropertyChanged,
                                               RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                CommandParameter="{Binding}">       
                                    <InlineUIContainer>
                                        <TextBlock Text="{Binding RecipientName}"
                                                   Style="{DynamicResource OTMEmailHyperlinkTextBlock}"
                                                   TextDecorations="Underline"/>
                                    </InlineUIContainer>
                                    </Hyperlink>
                                </TextBlock>
                            </Grid>


                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <!--Lable CC-->
                <TextBlock Grid.Row="5" Grid.Column="1" Text="{DynamicResource LableCC}" FontSize="14" Style="{DynamicResource OTMemailTextBlock16Style}" />
                <!--CCName-->
                <!--<TextBlock Grid.Row="5" Grid.Column="2"  Text="{Binding DataContext.CCName, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                           TextWrapping="Wrap" Margin="5,0,0,0" Grid.ColumnSpan="3"  FontSize="14" Style="{DynamicResource OTMemailTextBlock16Style}" />-->

                <!-- New CCName-->
                <ItemsControl Grid.Row="5" Grid.Column="2" Grid.ColumnSpan="3" ItemsSource="{Binding DataContext.CCNameList,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <!--<StackPanel Orientation="Horizontal">
                                <Image Style="{DynamicResource OTMIsEmdepContactImageStyle}" Visibility="{Binding IsEmdepContact}"  Width="14" Height="14"/>
                                <TextBlock TextWrapping="Wrap" 
                                      FontSize="14"   >
                                 <Hyperlink x:Name="hyperlink"  
                                        Command="{Binding DataContext.POCcClickCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                     CommandParameter="{Binding}">       
             
                                   <InlineUIContainer>
                                       <TextBlock Text="{Binding CCName}" Style="{DynamicResource OTMEmailHyperlinkTextBlock}" TextDecorations="Underline"/>
                                   </InlineUIContainer>
                                 </Hyperlink>
    

                             </TextBlock>

                            </StackPanel>-->

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="2"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <!-- Row 0: Image -->
                                <Image Grid.Column="0"
                                       Style="{DynamicResource OTMIsEmdepContactImageStyle}"
                                       Visibility="{Binding IsEmdepContact}"  
                                       Width="14" Height="14"/>

                                <Image Grid.Column="0"
                                        Style="{DynamicResource OTMIsNotEmdepContactImageStyle}"
                                        Visibility="{Binding IsNotEmdepContact}"  
                                        Width="14" Height="14"/>

                                <!-- Row 1: Hyperlink Text -->
                                <TextBlock Grid.Column="2" TextWrapping="Wrap" FontSize="14">
                                    <Hyperlink x:Name="hyperlink"  
                                               Command="{Binding DataContext.POCcClickCommand,
                                               Mode=TwoWay,
                                               UpdateSourceTrigger=PropertyChanged,
                                               RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                CommandParameter="{Binding}">       
                                    <InlineUIContainer>
                                        <TextBlock Text="{Binding CCName, StringFormat='{}{0}; '}"
                                                   Style="{DynamicResource OTMEmailHyperlinkTextBlock}"
                                                   TextDecorations="Underline"/>
                                                                                                                    
                                    </InlineUIContainer>
                                    </Hyperlink>
                                </TextBlock>
                            </Grid>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>



                <TextBlock Grid.Row="3" Grid.Column="3" Text ="{Binding DataContext.DateTime,StringFormat={}{0:dd/MM/yyyy},ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                           Style="{DynamicResource OTMemailTextBlock16Style}" FontSize="12"  HorizontalAlignment="Right" Margin="5,3,3,0" >
                    <!--<TextBlock.ToolTip>
                        <ToolTip>
                            <StackPanel>
                                <TextBlock Text ="{Binding DateTime,StringFormat={}{0:dd/MM/yyyy},ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" />
                            </StackPanel>
                        </ToolTip>
                    </TextBlock.ToolTip>-->                           
                </TextBlock>

                <Grid Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2" Grid.RowSpan="4" Margin="-20,0,0,30" Height="60" Width="60" >
                    <Ellipse Stroke="Black" StrokeThickness="2" Fill="Transparent"/>
                    <Image x:Name="senderImage" Height="56" Width="56" HorizontalAlignment="Center" VerticalAlignment="Center"
                           Stretch="UniformToFill" Loaded="senderImage_Loaded"                                 
                           Source="{Binding DataContext.SenderNameEmployeeCodesWithInitialLetters, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}, Converter={StaticResource EmployeeCodeInitialToImageConverter}, UpdateSourceTrigger=PropertyChanged ,ConverterParameter='image/png'}">
                        <Image.Clip>
                            <EllipseGeometry Center="28,28" RadiusX="28" RadiusY="28"/>
                        </Image.Clip>
                    </Image>
                </Grid>
                
                
                <dxre:RichEditControl x:Name="richEdit"  Width="Auto"
                                    CommandBarStyle="Empty" Grid.ColumnSpan="4" Grid.RowSpan="2"
                                    Grid.Column="0" Grid.Row="6" ShowBorder="True"  
                                    VerticalContentAlignment="Stretch"
                                    Padding="0" VerticalAlignment="Stretch"                                    
                                    Loaded="richEdit_Loaded" 
                                    ZoomChanged="richEdit_ZoomChanged"
                                    ReadOnly="True"  ActiveViewType="Simple" 
                                    DocumentSource="{Binding Emailbody}"
                                    Margin="0,0,0,0">
                    <dxre:RichEditControl.MailMergeOptions>
                        <dxre:DXRichEditMailMergeOptions ViewMergedData="True" />
                    </dxre:RichEditControl.MailMergeOptions>
                    <dxre:RichEditControl.DocumentCapabilitiesOptions>
                        <dxre:DXRichEditDocumentCapabilitiesOptions Sections="Enabled" HeadersFooters="Disabled"/>
                    </dxre:RichEditControl.DocumentCapabilitiesOptions>
                </dxre:RichEditControl>

                <Grid  Grid.Row="9" Grid.Column="0" Grid.ColumnSpan="4" Background="White">
                    <StackPanel Grid.Row="9" Grid.Column="3" Orientation="Horizontal" HorizontalAlignment="Right"  Margin="-50,5,-10,2">
                        <TextBlock Style="{DynamicResource OTMemailZoomTitleStyle}" Text="Zoom:" VerticalAlignment="Bottom" Margin="5,0,5,5"/>
                        <dxe:TrackBarEdit  x:Name="ZoomBar" Minimum="10" Maximum="500" VerticalAlignment="Bottom"
                        Value="{Binding DataContext.NewZoomfactor, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"  Margin="0,0,5,8" 
                        TickFrequency="10" 
                        TickPlacement="None" 
                        Width="150"
                        EditValueChanged="ZoomBar_EditValueChanged"/>

                        <TextBlock Style="{DynamicResource OTMemailZoomTitleStyle}"  Text="{Binding DataContext.Zoomfactor, Mode=TwoWay, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" VerticalAlignment="Center" Margin="0,0,20,3"/>

                    </StackPanel>

                </Grid>
                
            </Grid>
        </DataTemplate>

        <DataTemplate x:Key="CustomAttachementCaptionTemplate">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <!-- Icon -->
                <Image Style="{DynamicResource OTMPinAttachmentIconImageStyle}"  Width="16" Height="16" Margin="0,0,5,0"/>

                <!-- Title FontWeight="Bold" -->
                <TextBlock Text="{DynamicResource TitleAttachements}" Style="{DynamicResource AttachementSectionTitle}" FontWeight="Bold" Margin="0,0,5,0"/>

                <!-- Count -->
                <TextBlock Style="{DynamicResource AttachementSectionTitle}"
                Text="{Binding DataContext.AttachmentCnt, Mode=OneWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},StringFormat='({0})'}"
                FontWeight="Bold"/>
            </StackPanel>
        </DataTemplate>

        <Style x:Key="FolderImageStyle" TargetType="Image">
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue">
                    <Setter Property="Source" Value="/Emdep.Geos.Modules.SCM;component/Assets/Images/wfolder.png" />
                </DataTrigger>
                <DataTrigger Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue">
                    <Setter Property="Source" Value="/Emdep.Geos.Modules.SCM;component/Assets/Images/bfolder.png" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="basePanelStyle" TargetType="dxdo:LayoutPanel">
            <Setter Property="Content" Value="{x:Null}" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding DataContext.IsEmailLoad, Mode=TwoWay,
                               RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" Value="True">
                    <Setter Property="Content" Value="Dummy" />
                    <Setter Property="ContentTemplate" Value="{StaticResource EmailContentTemplate}" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </dxwui:WinUIDialogWindow.Resources>

    <dxwui:WinUIDialogWindow.InputBindings>
        <KeyBinding Key="Escape" Command="{Binding AddPORequestsCancelButtonCommand}"/>
    </dxwui:WinUIDialogWindow.InputBindings>


    <dxwui:WinUIDialogWindow.TitleStyle>
        <Style TargetType="ContentControl">
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Grid Grid.Row="0" ShowGridLines="False" HorizontalAlignment="Stretch" VerticalAlignment="Bottom">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock  Text="{Binding DataContext.WindowHeader,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"  Style="{DynamicResource CustomTitleStyle}" Grid.Row="0" Grid.RowSpan="2"/>
                        </Grid>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </dxwui:WinUIDialogWindow.TitleStyle>


    <Grid ShowGridLines="False"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="5"/>
            <RowDefinition Height="45"/>
        </Grid.RowDefinitions>

        <dxdo:DockLayoutManager Name="dockManager1" Grid.Row="0" Margin="8 0 0 0">
            <dxdo:LayoutGroup x:Name="rootMainGroup" Orientation="Horizontal">

                <dxdo:LayoutPanel x:Name="documentGroup1" ShowCaption="False" ShowCloseButton="False">
                    <dxlc:FlowLayoutControl x:Name="flowLayoutControl"
                             Orientation="Horizontal"
                             ItemSpace="5" 
                             LayerSpace="5" 
                             Background="Transparent" 
                             AllowMaximizedElementMoving="False" 
                             BreakFlowToFit="False"
                             MaximizedElementPosition="Bottom"
                             Padding="5"
                             >

                        <dxmvvm:Interaction.Behaviors>
                            <UIHelper:FlowLayoutControlForMinimiseMaximise/>
                        </dxmvvm:Interaction.Behaviors>

                        <!--Information-->
                        <dxlc:GroupBox x:Name="POInformation1" MaximizeElementVisibility="Visible" Style="{StaticResource myGroupBoxStyle}">

                            <dxlc:GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <DockPanel Margin="-5,0,0,0">
                                        <TextBlock VerticalAlignment="Center"
                                                FontWeight="Bold"
                                                Text="{DynamicResource POInformationTitle}" />

                                        <!--<dxe:TextEdit  Text="{DynamicResource GeneralInfo1}" FontWeight="Bold" HorizontalAlignment="Right" VerticalAlignment="Center"  ShowBorder="False" IsReadOnly="True"                                                 >
                                            <Binding Path="DataContext.InformationError" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay" ValidatesOnDataErrors="True">
                                                <Binding.ValidationRules>
                                                    <Validation:AddEditModuleValidation FieldName="InformationError" ValidationStep="UpdatedValue" ValidatesOnTargetUpdated="True" />
                                                </Binding.ValidationRules>
                                            </Binding>
                                        </dxe:TextEdit>-->
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.HeaderTemplate>

                            <dxlc:GroupBox.ContentTemplate>
                                <DataTemplate>
                                    <Grid   Height="0" Width="0" Margin="0">
                                    </Grid>
                                </DataTemplate>
                            </dxlc:GroupBox.ContentTemplate>

                            <dxlc:GroupBox.MaximizedContentTemplate >
                                <DataTemplate>
                                    <ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Auto" >
                                        <Grid ShowGridLines="False"  Height="Auto" Margin="0,25,0,0" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="08"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="5"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="5"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="5"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="5"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="35"/>
                                                <RowDefinition Height="5"/>
                                                <RowDefinition Height="380"/>
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="200"/>
                                                <ColumnDefinition Width="268"/>


                                            </Grid.ColumnDefinitions>
                                            
                                            <!--Group Combobox [rahul.gadhave][GEOS2-9041][Date:21-08-2025 -->
                                            <TextBlock Grid.Row="0" Grid.Column="0"  HorizontalAlignment="Left"
                                                VerticalAlignment="Center" Margin="15,0,0,6"
                                                Text="{DynamicResource OTMGroupForC}" 
                                                Style="{StaticResource TextBlock14Style}" />

                                            <dxe:ComboBoxEdit  Grid.Row="0" Grid.Column="1"  
                                                       HorizontalAlignment="Stretch"
                                                       VerticalAlignment="Top" Height="30"
                                                               Margin="-120,0,-10,0"
                                                       ItemsSource="{Binding DataContext.Customers, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }" 
                                                       DisplayMember="CustomerName" AutoComplete="True" ImmediatePopup="True"
                                                       IncrementalFiltering="True" 
                                                       IsTextEditable="False" 
                                                         ValidateOnTextInput="False">
                                                <dxe:ComboBoxEdit.SelectedIndex>
                                                    <Binding Path="DataContext.SelectedIndexCustomerGroup" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                        <Binding.ValidationRules>
                                                            <Validation:CustomerRequiredFieldValidation FieldName="SelectedIndexOfferType" ValidationStep="UpdatedValue" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:ComboBoxEdit.SelectedIndex>
                                            </dxe:ComboBoxEdit>

                                            <!--Plant [rahul.gadhave][GEOS2-9041][Date:21-08-2025 -->
                                            <TextBlock Grid.Row="0" Grid.Column="2"  HorizontalAlignment="Left"
                                             VerticalAlignment="Center" Margin="30,0,0,6"
                                             Text="{DynamicResource OTMPlantForc}" 
                                             Style="{StaticResource TextBlock14Style}" />

                                            <dxe:ComboBoxEdit  Grid.Row="0" Grid.Column="3"  
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Top" Height="30"
                                                            Margin="-120,0,-10,0"
                                                    ItemsSource="{Binding DataContext.CustomerPlants, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }" 
                                                    DisplayMember="City" AutoComplete="True" ImmediatePopup="True"
                                                    IncrementalFiltering="True" 
                                                    IsTextEditable="False" 
                                                      ValidateOnTextInput="False">
                                                <dxe:ComboBoxEdit.SelectedIndex>
                                                    <Binding Path="DataContext.SelectedIndexCompanyPlant" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                        <Binding.ValidationRules>
                                                            <Validation:CustomerRequiredFieldValidation FieldName="SelectedIndexOfferType" ValidationStep="UpdatedValue" />
                                                        </Binding.ValidationRules>
                                                    </Binding>
                                                </dxe:ComboBoxEdit.SelectedIndex>
                                            </dxe:ComboBoxEdit>

                                            <!--Status-->
                                            <TextBlock Grid.Row="0" Grid.Column="7"  HorizontalAlignment="Left"
                                               VerticalAlignment="Center" Margin="15,0,0,10"
                                               Text="{DynamicResource POInfoStatus}" 
                                               Style="{StaticResource TextBlock14Style}" />

                                            <UIHelper:MyComboBoxEdit Grid.Column="7"
                                                         Grid.Row="0"
                                                         Margin="90,0,50,0"
                                                         Grid.ColumnSpan="2"
                                                         Height="30"
                                                         HorizontalAlignment="Stretch"
                                                         VerticalAlignment="Top"
                                                         ApplyItemTemplateToSelectedItem="True"
                                                         DisplayMember="Value"
                                                         EditValue="{Binding DataContext.SelectedIndexStatus,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}"
                                                         IsSynchronizedWithCurrentItem="True"
                                                         IsTextEditable="False"
                                                         ItemsSource="{Binding DataContext.StatusList, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}"
                                                         SelectedItem="{Binding DataContext.SelectedIndexStatus,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged}">
                                                <dxe:ComboBoxEdit.ItemContainerStyle>
                                                    <Style TargetType="dxe:ComboBoxEditItem">
                                                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                                        <Setter Property="IsEnabled" Value="{Binding IsEnabled}" />
                                                    </Style>
                                                </dxe:ComboBoxEdit.ItemContainerStyle>
                                                <dxe:ComboBoxEdit.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border Margin="2,0,0,0"
                                                         Background="{Binding HtmlColor}"
                                                         BorderBrush="{Binding ColorName}"
                                                         Padding="2">
                                                            <TextBlock Margin="2,0,0,0"
                                                            
                                                             Foreground="Black"
                                                                        VerticalAlignment="Center"
                                                                       HorizontalAlignment="Center" 
                                                             Padding="2"
                                                             Text="{Binding Value}" />
                                                        </Border>
                                                    </DataTemplate>
                                                </dxe:ComboBoxEdit.ItemTemplate>
                                                <dxe:ComboBoxEdit.EditNonEditableTemplate>
                                                    <ControlTemplate>
                                                        <Border Margin="2,2,2,2"
                                                         Background="{Binding EditValue.HtmlColor}"
                                                         BorderBrush="{Binding EditValue.ColorName}">
                                                            <TextBlock HorizontalAlignment="Center"
                                                     Foreground="Black"
                                                     VerticalAlignment="Center"
                                                     Text="{Binding EditValue.Value}" />
                                                        </Border>
                                                    </ControlTemplate>
                                                </dxe:ComboBoxEdit.EditNonEditableTemplate>
                                            </UIHelper:MyComboBoxEdit>



                                            <!--Linked Offers-->
                                            <dxlc:LayoutGroup  Grid.Column="0" Grid.Row="2" Width="Auto" Grid.ColumnSpan="9"  Grid.RowSpan="8" Margin="12,0,12,0"   HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  View="GroupBox">
                                                <dxlc:LayoutGroup.HeaderTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <TextBlock Text="{DynamicResource POInformationLinkedOffer}" 
                                                                           Style="{StaticResource TextBlock14Style}" FontWeight="Bold" />


                                                            <TextBlock Width="50"
                                                              Margin="105,0,0,4"  Style="{StaticResource TextBlock14Style}"
                                                              HorizontalAlignment="Left"
                                                              VerticalAlignment="Center"
                                                              FontWeight="Bold"
                                                              Name="ProductTypesChangeLogListCount"
                                                              Text="{Binding DataContext.LinkedOfferListCount,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" />

                                                            <Button Content=" " Background="Gray" HorizontalAlignment="Right" IsHitTestVisible="True"                      
                                                                      Command="{Binding DataContext.AddLinkedOffersButtonCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                 >
                                                                <Button.ToolTip>
                                                                    <TextBlock Text="{DynamicResource ButtonAddLinkeOffer}"/>
                                                                </Button.ToolTip>
                                                                <Button.ContentTemplate>
                                                                    <DataTemplate>
                                                                        <Image Source="{DynamicResource AddButtonImage}" Height="16" Width="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                    </DataTemplate>
                                                                </Button.ContentTemplate>
                                                            </Button>
                                                        </Grid>
                                                    </DataTemplate>
                                                </dxlc:LayoutGroup.HeaderTemplate>
                                                <Grid ShowGridLines="True">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <dxg:GridControl  DockPanel.Dock="Right" Name="gridControl" SelectionMode="Row" Grid.Row="1" ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                        SelectedItem="{Binding DataContext.SelectedIndexLinkedOffer,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"  
                                                        ShowBorder="True"
                                                        ItemsSource="{Binding DataContext.Linkedofferlist,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                                        ImplyNullLikeEmptyStringWhenFiltering="True">
                                                        <!--Shipping Address-->
                                                        <!--<dxg:GridColumn FieldName="IdShippingAddress" Header="{DynamicResource OTMRFQ}" Width="*"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList" Visible="False">
                                                            <dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="IdShippingAddress" />
                                                            </dxg:GridColumn.CellToolTipBinding>
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.IdShippingAddress,UpdateSourceTrigger=PropertyChanged}"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>-->

                                                        <!--IdContact-->
                                                        <!--<dxg:GridColumn FieldName="IdPerson" Header="{DynamicResource OTMRFQ}" Width="*"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList" Visible="False">
                                                            <dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="IdPerson" />
                                                            </dxg:GridColumn.CellToolTipBinding>
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.IdPerson,UpdateSourceTrigger=PropertyChanged}"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>-->
                                                        <!--IdCustomer-->
                                                        <!--<dxg:GridColumn FieldName="IdCustomer" Header="{DynamicResource OTMRFQ}" Width="*"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList" Visible="False">
                                                            <dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="IdCustomer" />
                                                            </dxg:GridColumn.CellToolTipBinding>
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.IdCustomer,UpdateSourceTrigger=PropertyChanged}"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>-->

                                                        <!--Offertype-->
                                                        <!--<dxg:GridColumn FieldName="IdOfferType" Header="{DynamicResource OTMRFQ}" Width="*"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList" Visible="False">
                                                            <dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="IdOfferType" />
                                                            </dxg:GridColumn.CellToolTipBinding>
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.IdOfferType,UpdateSourceTrigger=PropertyChanged}"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>-->


                                                        <!--Code-->
                                                        <dxg:GridColumn FieldName="Code" Header="{DynamicResource OTMCode}" Width="*" MinWidth="150" AllowMoving="false"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList">
                                                            <!--<dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="Code" />
                                                            </dxg:GridColumn.CellToolTipBinding>-->
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.Code}"  HorizontalAlignment="Center" VerticalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>

                                                        <!--Group-->
                                                        <dxg:GridColumn FieldName="CustomerGroup" Header="{DynamicResource POInformationLinkedOfferGroup}" Width="*" MinWidth="100" AllowMoving="false"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList">
                                                            <!--<dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="CustomerGroup" />
                                                            </dxg:GridColumn.CellToolTipBinding>-->
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.CustomerGroup,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>

                                                        <!--Plant-->
                                                        <dxg:GridColumn FieldName="Plant" Header="{DynamicResource POInformationLinkedOfferPlant}" Width="*" AllowMoving="false" MinWidth="150"   ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList">
                                                            <!--<dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="Plant" />
                                                            </dxg:GridColumn.CellToolTipBinding>-->
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.Plant,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>

                                                        <!--Country with flag-->
                                                        <dxg:GridColumn Header="{DynamicResource OTMCountry}" AllowBestFit="true" FieldName="Country" FilterPopupMode="CheckedList" Width="*" ReadOnly="True">

                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel  Orientation="Horizontal" Margin="2,0,0,0" Height="24">
                                                                        <Image Source="{Binding RowData.Row.CountryIconUrl,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Height="24" Width="24"  Margin="2,0,0,0" />
                                                                        <TextBlock Text ="{Binding RowData.Row.Country,UpdateSourceTrigger=PropertyChanged}"  VerticalAlignment="Center" Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>


                                                        <!--Description-->
                                                        <!--<dxg:GridColumn FieldName="Description" Header="{DynamicResource OTMDescription}" Width="*" MinWidth="410" AllowMoving="false"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList">
                                                            <dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="Description" />
                                                            </dxg:GridColumn.CellToolTipBinding>
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.Description,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>-->


                                                        <dxg:GridColumn Header="{DynamicResource OTMDescription}" FieldName="Description" Width="*" MinWidth="410" FilterPopupMode="CheckedList" ReadOnly="True"/>

                                                        <!--RFQ-->
                                                        <dxg:GridColumn FieldName="RFQ" Header="{DynamicResource OTMRFQ}" Width="*" MinWidth="120"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList">
                                                            <!--<dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="RFQ" />
                                                            </dxg:GridColumn.CellToolTipBinding>-->
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.RFQ,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>

                                                        <!--Status-->

                                                        <!--<dxg:GridColumn Header="{DynamicResource POStatus}" FieldName="Status" FilterPopupMode="CheckedList"  Width="*" MinWidth="150"  ReadOnly="True">
                                                            <dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="Status" />
                                                            </dxg:GridColumn.CellToolTipBinding>
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock VerticalAlignment="Stretch"  Margin="0,0,0,0" Text ="{Binding RowData.Row.Status,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}">
                                                                        <TextBlock.Style>
                                                                            <Style TargetType="TextBlock" >
                                                                                <Setter Property="Background" Value="{Binding RowData.Row.HtmlColor,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"/>
                                                                                <Setter Property="HorizontalAlignment"  Value="Stretch"/>
                                                                                <Setter Property="VerticalAlignment" Value="Stretch"/>
                                                                                <Setter Property="Foreground" Value="{Binding Path=Background,Converter={StaticResource ForegroundColorConverter}}"/>
                                                                            </Style>
                                                                        </TextBlock.Style>
                                                                    </TextBlock>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>-->

                                                        <dxg:GridColumn Header="{DynamicResource POStatus}" FieldName="Status" FilterPopupMode="CheckedList" Width="*" MinWidth="150" ReadOnly="True">
                                                            <!--<dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="Status" />
                                                            </dxg:GridColumn.CellToolTipBinding>-->
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <Border Background="{Binding RowData.Row.HtmlColor, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                                                VerticalAlignment="Stretch" 
                                                                HorizontalAlignment="Stretch">
                                                                        <TextBlock Text="{Binding RowData.Row.Status, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                                       HorizontalAlignment="Center" 
                                                                       VerticalAlignment="Center"
                                                                       TextAlignment="Center"
                                                                       Foreground="Black" 
                                                                       Padding="4"/>
                                                                    </Border>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>



                                                        <!--Discount-->

                                                        <!--<dxg:GridColumn Header="{DynamicResource OTMDiscount}" FieldName="Discount" FilterPopupMode="CheckedList"  Width="*"  ReadOnly="True">
                                                            --><!--<dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="Discount" />
                                                            </dxg:GridColumn.CellToolTipBinding>--><!--
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                                        <TextBlock Grid.Column="1" VerticalAlignment="Center">
                                                                            <TextBlock.Style>
                                                                                <Style TargetType="TextBlock">
                                                                                    <Setter Property="Text" Value="{Binding RowData.Row.Discount, StringFormat={}{0:N2}, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"/>
                                                                                    <Style.Triggers>

                                                                                        <DataTrigger Binding="{Binding RowData.Row.Discount}" Value="0.00 %">
                                                                                            <Setter Property="Text" Value="{x:Null}" />
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </TextBlock.Style>
                                                                        </TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>

                                                        </dxg:GridColumn>-->

                                                        <dxg:GridColumn Header="{DynamicResource OTMDiscount}" FieldName="Discount" Width="*" ReadOnly="True">
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <TextBlock Margin="0,0,5,0" VerticalAlignment="Center" HorizontalAlignment="Right">
                                                                        <TextBlock.Style>
                                                                            <Style TargetType="TextBlock">
                                                                                <Setter Property="Text" Value="{Binding RowData.Row.Discount, StringFormat={}{0:0.0}%,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"/>
                                                                                <Style.Triggers>
                                                                                    <!-- Hide if discount is zero -->
                                                                                    <DataTrigger Binding="{Binding RowData.Row.Discount}" Value="0">
                                                                                        <Setter Property="Text" Value="0.0%" />
                                                                                    </DataTrigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </TextBlock.Style>
                                                                    </TextBlock>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>



                                                        <!--Amount-->

                                                        <dxg:GridColumn Header="{DynamicResource POAmount}" FieldName="Amount" FilterPopupMode="CheckedList"  Width="*"  ReadOnly="True">
                                                            <!--<dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="Amount" />
                                                            </dxg:GridColumn.CellToolTipBinding>-->
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >
                                                                        <TextBlock  Margin="0,0,5,0" Grid.Column="1" VerticalAlignment="Center">
                                                                            <TextBlock.Style>
                                                                                <Style TargetType="TextBlock">
                                                                                    <Setter Property="Text" Value="{Binding RowData.Row.Amount, StringFormat={}{0:N2}, ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}"/>
                                                                                    <Style.Triggers>

                                                                                        <DataTrigger Binding="{Binding RowData.Row.Amount}" Value="0.00">
                                                                                            <Setter Property="Text" Value="{x:Null}" />
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </TextBlock.Style>
                                                                        </TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>

                                                        </dxg:GridColumn>


                                                        <!--Currency-->

                                                        <dxg:GridColumn Header="{DynamicResource OTMCurrency}" AllowBestFit="true" FieldName="OfferCurrency" FilterPopupMode="CheckedList" Width="*" ReadOnly="True">
                                                            <!--<dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="OfferCurrency" />
                                                            </dxg:GridColumn.CellToolTipBinding>-->
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel  Orientation="Horizontal" Margin="5,0,0,0" Height="24">
                                                                        <Image Source="{Binding RowData.Row.CurrencyIconBytes,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Height="24" Width="24"  Margin="2,0,0,0" />
                                                                        <TextBlock Text ="{Binding RowData.Row.OfferCurrency,UpdateSourceTrigger=PropertyChanged}"  VerticalAlignment="Center" Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>

                                                        <!--Contact-->
                                                        <dxg:GridColumn FieldName="Contact" Header="{DynamicResource POContact}" Width="*" MinWidth="100" ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList">
                                                            <dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="Contact" />
                                                            </dxg:GridColumn.CellToolTipBinding>
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.Contact,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>

                                                        <!--Linked PO-->

                                                        <!--<dxg:GridColumn FieldName="LinkedPO" Header="{DynamicResource OTMLinkedPO}" Width="*"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList">
                                                            -->
                                                        <!--<dxg:GridColumn.CellToolTipBinding>
                                                                <Binding Path="LinkedPO" />
                                                            </dxg:GridColumn.CellToolTipBinding>-->
                                                        <!--
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" Height="24">
                                                                        <TextBlock Text ="{Binding RowData.Row.LinkedPO,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center"  HorizontalAlignment="Center"  Margin="5,0,0,0" ></TextBlock>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>
                                                        </dxg:GridColumn>-->

                                                        <dxg:GridColumn Header="{DynamicResource OTMLinkedPO}" FieldName="LinkedPO" Width="*" FilterPopupMode="CheckedList" ReadOnly="True"/>


                                                        <!--Folder-->

                                                        <dxg:GridColumn Header=" " MinWidth="50"  Width="50"  ReadOnly="True" AllowColumnFiltering="false" AllowPrinting="False" ShowInColumnChooser="False" >
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <Button x:Name="btnViewFile" ToolTip="{DynamicResource LinkedOfferDocuments}" Command="{Binding DataContext.LinkedOfferOpenCommand,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" CommandParameter="{Binding RowData.Row}">
                                                                        <Button.ContentTemplate>
                                                                            <DataTemplate>
                                                                                <Image Height="22" Width="22" Source="/Emdep.Geos.Modules.OTM;component/Assets/Images/FileExpo.png" />
                                                                            </DataTemplate>
                                                                        </Button.ContentTemplate>
                                                                        <Button.Style>
                                                                            <Style TargetType="{x:Type Button}">
                                                                                <Style.Triggers>
                                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                                        <Setter Property="Cursor" Value="Hand"/>
                                                                                    </Trigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Button.Style>
                                                                    </Button>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>

                                                        </dxg:GridColumn>

                                                        <!--OTMDelete-->
                                                        <dxg:GridColumn Header=" " MinWidth="50"  Width="50"  ReadOnly="True" AllowColumnFiltering="false" AllowPrinting="False" ShowInColumnChooser="False" >
                                                            <dxg:GridColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <Button x:Name="deleteRowItem" ToolTip="{DynamicResource OTMDelete}" Command="{Binding DataContext.DeleteOfferForPO,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" CommandParameter="{Binding RowData.Row}">
                                                                        <Button.ContentTemplate>
                                                                            <DataTemplate>
                                                                                <Image Height="16" Width="16" Style="{ DynamicResource DeleteStyle}" />
                                                                            </DataTemplate>
                                                                        </Button.ContentTemplate>
                                                                        <Button.Style>
                                                                            <Style TargetType="{x:Type Button}">
                                                                                <Style.Triggers>
                                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                                        <Setter Property="Cursor" Value="Hand"/>
                                                                                    </Trigger>
                                                                                </Style.Triggers>
                                                                            </Style>
                                                                        </Button.Style>
                                                                    </Button>
                                                                </DataTemplate>
                                                            </dxg:GridColumn.CellTemplate>

                                                        </dxg:GridColumn>

                                                        <dxg:GridControl.View>
                                                            <dxg:TableView x:Name="LinkedOfferTableView"
                                                                                NavigationStyle="Row"
                                                                                RowDetailsVisibilityMode="Visible"
                                                                                ShowHorizontalLines="True"
                                                                                ShowSearchPanelMode="Never"
                                                                                ShowColumnHeaders="True"
                                                                                VerticalScrollbarVisibility="Auto" 
                                                                                HorizontalScrollbarVisibility="Auto"
                                                                                AllowFixedColumnMenu="False"
                                                                                ShowTotalSummary="False"
                                                                                IsColumnChooserVisible="False"
                                                                                ShowFixedTotalSummary="False"
                                                                                SearchPanelHorizontalAlignment="Stretch"
                                                                                EnableImmediatePosting="True"
                                                                                ImmediateUpdateRowPosition="True"
                                                                                AllowEditing="True"
                                                                               
                                                                                ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                                                AllowGrouping="False"
                                                                                AllowBestFit="True"
                                                                                ShowGroupPanel="False"
                                                                                ShowIndicator="False" 
                                                                                ShowFilterPopup="{DXEvent Handler='@args.PopupBaseEdit.PopupWidth=200'}" 
                                                                                FocusedRow="{Binding Path=SelectedGridRow,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                                                RowDetailsTemplate="{Binding SelectedItem.DetailTemplate,ElementName=rowTemplateComboBox}"
                                                                                RowStyle="{Binding SelectedItem.RowStyle,ElementName=rowTemplateComboBox}"
                                                                       UseLegacyFilterEditor="True">

                                                                <dxmvvm:Interaction.Behaviors>
                                                                    <!--<dxmvvm:EventToCommand 
                                                                    CommandParameter="{Binding DataContext.SelectedIndexLinkedOffer,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}"
                                                                          Command="{Binding DataContext.TableViewLoadedCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" EventName="Loaded" PassEventArgsToCommand="True" />-->
                                                                    <dxmvvm:EventToCommand 
                                                                        Command="{Binding DataContext.CommandLinkedOfferClick,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" EventName="MouseDoubleClick" PassEventArgsToCommand="True" 
                                                                        CommandParameter="{Binding DataContext.SelectedIndexLinkedOffer,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType={x:Type dxwui:WinUIDialogWindow}}}"/>

                                                                    <dxmvvm:EventToCommand EventName="ShowFilterPopup"
                                                                    Command="{Binding DataContext.CustomShowFilterPopupCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                                    PassEventArgsToCommand="True"/>
                                                                </dxmvvm:Interaction.Behaviors>
                                                            </dxg:TableView>
                                                        </dxg:GridControl.View>



                                                    </dxg:GridControl>


                                                </Grid>

                                            </dxlc:LayoutGroup>


                                            <GroupBox Visibility="{Binding DataContext.IsLinkedOffersExist,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}"  Margin="12,0,12,5" Padding="10" Grid.Row="11"  Grid.ColumnSpan="11" Grid.RowSpan="8" BorderBrush="Gray" BorderThickness="1">
                                                <GroupBox.Header>
                                                    <Border>
                                                        <TextBlock Text="{DynamicResource EditPoOFFERINFORMATIOTitle}" Style="{StaticResource TextBlock14Style}" FontWeight="Bold"/>
                                                    </Border>
                                                </GroupBox.Header>
                                                <Border  BorderThickness="2" Padding="10">
                                                    <Grid Margin="5" ShowGridLines="False" HorizontalAlignment="Stretch">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="30"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="5"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="35"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <!--<ColumnDefinition Width="5"/>
                                                            <ColumnDefinition Width="Auto"/>-->

                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="30"/>
                                                            <RowDefinition Height="5"/>
                                                            <RowDefinition Height="30"/>
                                                            <RowDefinition Height="5"/>
                                                            <RowDefinition Height="30"/>
                                                            <RowDefinition Height="5"/>
                                                            <RowDefinition Height="30"/>
                                                            <RowDefinition Height="5"/>
                                                            <RowDefinition Height="30"/>
                                                            <RowDefinition Height="5"/>
                                                            <RowDefinition Height="30"/>
                                                            <RowDefinition Height="5"/>
                                                            <RowDefinition Height="30"/>
                                                            <RowDefinition Height="5"/>
                                                            <RowDefinition Height="75"/>
                                                            <RowDefinition Height="5"/>
                                                            <RowDefinition Height="30"/>
                                                            <RowDefinition Height="5"/>
                                                        </Grid.RowDefinitions>

                                                        <!--OfferType-->
                                                        <dxe:ComboBoxEdit  Grid.Row="0" Grid.Column="2"  
                                                          HorizontalAlignment="Stretch"  
                                                          VerticalAlignment="Top" Height="30"
                                                          Width="100"
                                                          IsEnabled="False"
                                                          ItemsSource="{Binding DataContext.OfferTypeList, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }" 
                                                          DisplayMember="OfferTypeName" AutoComplete="True" ImmediatePopup="True"
                                                          IncrementalFiltering="True" 
                                                          IsTextEditable="False" 
                                                            ValidateOnTextInput="False">
                                                            <dxe:ComboBoxEdit.SelectedIndex>
                                                                <Binding Path="DataContext.SelectedIndexOfferType" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:CustomerRequiredFieldValidation FieldName="SelectedIndexOfferType" ValidationStep="UpdatedValue" />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:ComboBoxEdit.SelectedIndex>
                                                        </dxe:ComboBoxEdit>

                                                        <!--Code-->
                                                        <TextBlock Text="{DynamicResource EditPOsCode}" Style="{StaticResource TextBlock14Style}" Grid.Row="0" Grid.Column="0" />

                                                        <!--<dxe:TextEdit EditValue="{Binding DataContext.Code, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"
                                                           Grid.Row="0" Grid.Column="3"  HorizontalContentAlignment="Left"  HorizontalAlignment="Stretch"  Height="30" Margin="2,0,0,0" IsReadOnly="True"     
                                                              AllowNullInput="True"/>-->


                                                        <dxe:TextEdit EditValue="{Binding DataContext.Code, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"
                                                         Grid.Row="0" AcceptsReturn="True" Width="290"  Grid.Column="4" HorizontalAlignment="Stretch"  IsReadOnly="True"      
                                                        AllowNullInput="True"  TextWrapping="Wrap" VerticalContentAlignment="Center" />

                                                        <!--Group-->
                                                        <TextBlock Text="{DynamicResource EditPOsCompanyGroup}" Style="{StaticResource TextBlock14Style}" Grid.Row="2" Grid.Column="0" />
                                                        <dxe:TextEdit EditValue="{Binding DataContext.CustomerGroup, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"
                                                          Grid.Row="2" Grid.Column="2"   Grid.ColumnSpan="3"  HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="30" IsReadOnly="True" 
                                                          IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                          AllowNullInput="True" TextWrapping="Wrap"  />


                                                        <!--<dxe:TextEdit EditValue="{Binding DataContext.Remarks, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"
                                                        Grid.Row="2" Grid.Column="2"   Grid.ColumnSpan="3" AcceptsReturn="True" Width="Auto"  HorizontalAlignment="Stretch"        
                                                      AllowNullInput="True"  TextWrapping="Wrap" VerticalContentAlignment="Top" />-->


                                                        <!--Plant-->
                                                        <TextBlock Text="{DynamicResource EditPOsCompanyPlant}" Style="{StaticResource TextBlock14Style}" Grid.Row="4" Grid.Column="0" />

                                                        <dxe:TextEdit EditValue="{Binding DataContext.Plant, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"
                                                                       IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                      Grid.Row="4" Grid.Column="2"   Grid.ColumnSpan="3" Width="195"  HorizontalAlignment="Left" VerticalAlignment="Top" Height="30" IsReadOnly="True"     
                                                                           AllowNullInput="True" TextWrapping="Wrap"  />

                                                        <!--rahul.gadhave-->
                                                        <Grid
                                                                Grid.Row="4"
                                                                Grid.Column="2"
                                                                Grid.ColumnSpan="3"
                                                                Width="195"
                                                                Margin="198 0 0 0"
                                                                Height="30"
                                                                HorizontalAlignment="Stretch"
                                                                VerticalAlignment="Top">

                                                            <!-- TextEdit for country name -->
                                                            <dxe:TextEdit EditValue="{Binding DataContext.Country, 
                                                                Mode=TwoWay, 
                                                                UpdateSourceTrigger=PropertyChanged,
                                                                RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                              IsReadOnly="True"
                                                              IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                              AllowNullInput="True"
                                                              TextWrapping="Wrap"
                                                              VerticalAlignment="Center"
                                                              Padding="28,0,5,0" 
                                                               Height="30"
                                                              Background="Transparent"
                                                              BorderThickness="1" />
                                                            <Image Source="{Binding DataContext.CountryIconUrl, 
                                                                    Converter={StaticResource ImageUrlToByteArrayConverter}, 
                                                                    ConverterParameter='image/png', 
                                                                    RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                           Height="28"
                                                           Width="29"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Left"
                                                           Margin="4,0,0,0"
                                                           IsHitTestVisible="False" />
                                                        </Grid>

                                                        <Button Visibility="Visible" Grid.Row="4" Grid.Column="5" Height="20" Width="20" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                                            Command="{Binding DataContext.EditCustomerGroupButtonCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                            CommandParameter="{Binding ElementName=TripsTableView}" BorderThickness="0" Margin="0,0,8,0" 
                                                                IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
>
                                                            <Button.ToolTip>
                                                                <TextBlock Text="{DynamicResource CustomerAddViewAddSource}"/>
                                                            </Button.ToolTip>
                                                            <Button.ContentTemplate>
                                                                <DataTemplate>
                                                                    <Image Style="{DynamicResource OTMInformationIcon}"  Height="20" Width="20" Margin="-10"/>
                                                                </DataTemplate>
                                                            </Button.ContentTemplate>
                                                        </Button>

                                                        <!--RFQ-->
                                                        <TextBlock Text="{DynamicResource EditPOsRFQ}" Style="{StaticResource TextBlock14Style}" Grid.Row="6" Grid.Column="0" />

                                                        <dxe:TextEdit EditValue="{Binding DataContext.RFQ, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"
                                                          Grid.Row="6" AcceptsReturn="True" Grid.ColumnSpan="3"   Grid.Column="2" HorizontalAlignment="Stretch"  
                                                                       IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                           AllowNullInput="True" TextWrapping="Wrap"  />

                                                        <!--Offered To-->
                                                        <TextBlock Text="{DynamicResource EditPOsOfferedTo}" Style="{StaticResource TextBlock14Style}" Grid.Row="8" Grid.Column="0" />

                                                        <dxe:ComboBoxEdit x:Name="editor1" Grid.Column="2"  Grid.ColumnSpan="3" Grid.Row="8" 
                                                            MaxWidth="400" HorizontalAlignment="Stretch"
                                                             EditValue="{Binding DataContext.SelectedOffer,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged, Mode=TwoWay,ValidatesOnDataErrors=True}"
                                                            ItemsSource="{Binding DataContext.OfferToContactList,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                            ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                            DisplayMember="Name"
                                                            IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                               AllowDefaultButton="True" 
                                                               AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True"
                                                              Style="{DynamicResource ComboBoxEditStyle}">
                                                            <dxe:ComboBoxEdit.StyleSettings>
                                                                <dxe:TokenComboBoxStyleSettings NewTokenPosition="Far"   EnableTokenWrapping="True" />
                                                            </dxe:ComboBoxEdit.StyleSettings>
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <dxmvvm:EventToCommand EventName="EditValueChanged" Command="{Binding DataContext.EditValueChangedCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                                            </dxmvvm:Interaction.Behaviors>

                                                        </dxe:ComboBoxEdit>

                                                        <!--Amount-->
                                                        <TextBlock Text="{DynamicResource EditPOsAmount}" Style="{StaticResource TextBlock14Style}" Grid.Row="10" Grid.Column="0" />

                                                        <Grid Grid.Column="2" Grid.Row="10" Grid.ColumnSpan="3" ShowGridLines="False"  HorizontalAlignment="Stretch"  Margin="0,-3,0,0">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="250"/>
                                                                <ColumnDefinition Width="50*" />
                                                            </Grid.ColumnDefinitions>

                                                            <!--IsEnabled="{Binding DataContext.IsOTMFullUpdatePO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"-->
                                                            <dxe:TextEdit HorizontalAlignment="Stretch" Height="30"  Grid.Column="0"  Mask="n2" MaskType="Numeric" MaskUseAsDisplayFormat="True" Name="TxtOfferAmount"  NullText="0.00" AllowNullInput="True"
                                                             IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"
                                                            Text="{Binding DataContext.Amount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" VerticalAlignment="Top" HorizontalContentAlignment="Right">

                                                            </dxe:TextEdit>

                                                            <!--Currencies-->
                                                            <dxe:ComboBoxEdit  Height="30" HorizontalAlignment="Stretch" Margin="1,0,0,0" 
                                                                  Grid.Column="1" ApplyItemTemplateToSelectedItem="True"
                                                                  SelectedIndex="{Binding DataContext.SelectedIndexCurrency,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" 
                                                                  VerticalAlignment="Top"
                                                                  IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }" 
                                                                  ItemsSource="{Binding DataContext.Currencies, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" DisplayMember="Name" ValueMember="IdCurrency"
                                                                  SelectedItem="{Binding Path=EditValue, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" 
                                                                  AutoComplete="True" ImmediatePopup="True" IncrementalFiltering="True" IsTextEditable="False" ValidateOnTextInput="False">



                                                                <dxe:ComboBoxEdit.ItemTemplate>
                                                                    <DataTemplate>
                                                                        <DockPanel>
                                                                            <Image Source="{Binding CurrencyIconImage}" VerticalAlignment="Center" Height="24" Width="24" Margin="2,0,5,0" />
                                                                            <TextBlock Text="{Binding Name}" VerticalAlignment="Center" />
                                                                        </DockPanel>
                                                                    </DataTemplate>
                                                                </dxe:ComboBoxEdit.ItemTemplate>
                                                                <dxmvvm:Interaction.Behaviors>
                                                                    <dxmvvm:EventToCommand EventName="SelectedIndexChanged" Command="{Binding DataContext.CurrencySelectedIndexChangedCommand,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" PassEventArgsToCommand="True"/>
                                                                </dxmvvm:Interaction.Behaviors>
                                                            </dxe:ComboBoxEdit>

                                                        </Grid>

                                                        <!--Discount-->
                                                        <TextBlock Text="{DynamicResource EditPOsDiscount}" Style="{StaticResource TextBlock14Style}" Grid.Row="12" Grid.Column="0" />

                                                        <!-- Old code commented for [GEOS2-8194][pramod.misal][28.05.2025]-->
                                                        <!--<dxe:SpinEdit x:Name="PART_Editor" Grid.Row="12"  Spin="PART_Editor_Spin" Grid.Column="2"  Grid.ColumnSpan="3" AllowRoundOutOfRangeValue="True" HorizontalAlignment="Stretch"
                                                                   MinValue="0"  Mask="P1" MaskType="Numeric" Value="{Binding DataContext.Discount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                                                   MaxValue="100" IsFloatValue="True" MaskUseAsDisplayFormat="True">
                                                  


                                                            <dxe:SpinEdit.Style>
                                                                <Style TargetType="dxe:SpinEdit">
                                                                    <Style.Triggers>
                                                                        <DataTrigger Value="True" Binding="{Binding DataContext.GridRowHeightForDiscount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                            <Setter Property="dxe:SpinEdit.Visibility" Value="Visible" />
                                                                        </DataTrigger>
                                                                        <DataTrigger Value="False" Binding="{Binding DataContext.GridRowHeightForDiscount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}">
                                                                            <Setter Property="dxe:SpinEdit.Visibility" Value="Collapsed" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>


                                                            </dxe:SpinEdit.Style>

                                                        </dxe:SpinEdit>-->

                                                        <!--[GEOS2-8194][pramod.misal][28.05.2025]-->
                                                        <dxe:SpinEdit x:Name="PART_Editor" Grid.Row="12"  IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                      Grid.Column="2"  Grid.ColumnSpan="3" AllowRoundOutOfRangeValue="True" HorizontalAlignment="Stretch"
                                                           MinValue="0"  Mask="P1" MaskType="Numeric" Value="{Binding DataContext.Discount,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                                           MaxValue="100" IsFloatValue="True" MaskUseAsDisplayFormat="True">
                                                            <dxmvvm:Interaction.Behaviors>
                                                                <UIHelper:SpiEditBehavior />
                                                            </dxmvvm:Interaction.Behaviors>
                                                        </dxe:SpinEdit>


                                                        <!--Ship to-->
                                                        <TextBlock Text="{DynamicResource EditPOsShipTo}" Style="{StaticResource TextBlock14Style}" Grid.Row="14" Grid.Column="0" />

                                                        <dxe:ComboBoxEdit  Grid.Row="14" Grid.Column="2" Grid.ColumnSpan="3" ApplyItemTemplateToSelectedItem="True"
                                                                      HorizontalAlignment="Stretch" 
                                                                      VerticalAlignment="Top"  Height="75"
                                                                      IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"
                                                                      ItemsSource="{Binding DataContext.ShippingAddressList, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow} }"  
                                                                      AutoComplete="True" ImmediatePopup="True"
                                                                      IncrementalFiltering="True" 
                                                                      IsTextEditable="False"
                                                                      ValidateOnTextInput="False"
            >


                                                            <dxe:ComboBoxEdit.ItemTemplate>
                                                                <DataTemplate>
                                                                    <Grid ShowGridLines="False" VerticalAlignment="Center">

                                                                        <Grid.RowDefinitions>
                                                                            <RowDefinition Height="Auto"/>
                                                                            <RowDefinition Height="Auto"/>
                                                                            <RowDefinition Height="Auto"/>
                                                                            <RowDefinition Height="Auto"/>
                                                                        </Grid.RowDefinitions>

                                                                        <!-- Address -->
                                                                        <TextBlock Text="{Binding Address}" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,0,0" Grid.Row="0" />

                                                                        <!-- ZipCode and City combined -->
                                                                        <TextBlock Grid.Row="1" VerticalAlignment="Center" Margin="0,0,0,0">
                                                                            <TextBlock.Text>
                                                                                <MultiBinding StringFormat="{}{0} - {1}">
                                                                                    <Binding Path="ZipCode" />
                                                                                    <Binding Path="City" />
                                                                                </MultiBinding>
                                                                            </TextBlock.Text>
                                                                        </TextBlock>


                                                                        <!-- Country Icon -->

                                                                        <Image Source="{Binding CountryIconUrl, 
                                                                            Converter={StaticResource ImageUrlToByteArrayConverter}, 
                                                                            ConverterParameter='image/png'}"  
                                                                            VerticalAlignment="Center" HorizontalAlignment="Left" 
                                                                            Height="22" 
                                                                            Width="22" 
                                                                            Margin="0,0,0,0" 
                                                                            Grid.Row="2" />


                                                                        <!-- Country Name -->

                                                                        <TextBlock Text="{Binding CountriesName}" VerticalAlignment="Center" Margin="24,0,0,0" Grid.Row="2" />

                                                                        <!--<TextBlock Text="{Binding Region}" VerticalAlignment="Center" Margin="0,0,0,0" Grid.Row="3" />-->

                                                                    </Grid>
                                                                </DataTemplate>
                                                            </dxe:ComboBoxEdit.ItemTemplate>

                                                            <dxe:ComboBoxEdit.SelectedIndex>
                                                                <Binding Path="DataContext.SelectedIndexShipTo" RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:RegisterPoEditValidation FieldName="SelectedIndexShipTo" ValidationStep="UpdatedValue" />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:ComboBoxEdit.SelectedIndex>
                                                        </dxe:ComboBoxEdit>



                                                        <!--Carriage Method-->
                                                        <TextBlock Text="{DynamicResource EditPOsCarriageMethod}" Style="{StaticResource TextBlock14Style}" Grid.Row="16" Grid.Column="0" />

                                                        <dxe:ComboBoxEdit Grid.Row="16" Grid.Column="2" Grid.ColumnSpan="3"
                                                            HorizontalAlignment="Stretch"
                                                            VerticalAlignment="Top"
                                                            Height="30"
                                                            IsEnabled="{Binding DataContext.IsEditCustomerGroupButtonEnabled,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                            ItemsSource="{Binding DataContext.CarriageMethodList, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                            DisplayMember="Value"
                                                                            ApplyItemTemplateToSelectedItem="True"
                                                            AutoComplete="True"
                                                            ImmediatePopup="True"
                                                            IsTextEditable="False"
                                                            ValidateOnTextInput="False">

                                                            <!-- ✅ Add this -->
                                                            <dxe:ComboBoxEdit.ItemTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="2">
                                                                        <Image Width="30" Height="16" Margin="0,0,5,0"
                                                                           Source="{Binding ImageInBytes, Converter={Converters:ByteArrayToImage}}" />
                                                                        <TextBlock Text="{Binding Value}" VerticalAlignment="Center" />
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </dxe:ComboBoxEdit.ItemTemplate>

                                                            <dxe:ComboBoxEdit.ItemContainerStyle>
                                                                <Style TargetType="dxe:ComboBoxEditItem">
                                                                    <Setter Property="IsEnabled" Value="{Binding IsEnabled}" />
                                                                </Style>
                                                            </dxe:ComboBoxEdit.ItemContainerStyle>

                                                            <dxe:ComboBoxEdit.SelectedIndex>
                                                                <Binding Path="DataContext.SelectedIndexCarriageMethods"
                                                                           RelativeSource="{RelativeSource AncestorType=dxlc:GroupBox}"
                                                                           ValidatesOnDataErrors="True"
                                                                           UpdateSourceTrigger="PropertyChanged"
                                                                           Mode="TwoWay">
                                                                    <Binding.ValidationRules>
                                                                        <Validation:CustomerRequiredFieldValidation FieldName="SelectedIndexCarriageMethods" ValidationStep="UpdatedValue" />
                                                                    </Binding.ValidationRules>
                                                                </Binding>
                                                            </dxe:ComboBoxEdit.SelectedIndex>
                                                        </dxe:ComboBoxEdit>

                                                        <!--Linked PO-->
                                                        <dxlc:GroupBox x:Name="LinkedOffers" Grid.Row="0" Grid.Column="6" Grid.RowSpan="18" Grid.ColumnSpan="3" VerticalAlignment="Stretch"
                                                                HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" Margin="5 5 5 0" 
                                                                >

                                                            <!--HeaderTemplate-->
                                                            <dxlc:GroupBox.HeaderTemplate>
                                                                <DataTemplate>
                                                                    <Grid >
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <!-- For TextBlock -->
                                                                            <ColumnDefinition Width="*"/>
                                                                            <!-- Fills remaining space -->
                                                                            <ColumnDefinition Width="Auto"/>
                                                                            <!-- For Button -->
                                                                        </Grid.ColumnDefinitions>


                                                                        <!--<TextBlock Text="{DynamicResource EditRegisteredPOsLINKEDPO}"  Margin="5,0,0,0" FontWeight="Bold" VerticalAlignment="Center" Grid.Column="0"></TextBlock>-->
                                                                        <TextBlock Text="{DynamicResource EditRegisteredPOsLINKEDPO}"  Style="{StaticResource TextBlock14Style}" FontWeight="Bold" />


                                                                        <TextBlock Width="50"
                                                                            Margin="85,0,0,08"  Style="{StaticResource TextBlock14Style}"
                                                                            HorizontalAlignment="Left"
                                                                            VerticalAlignment="Center"
                                                                            FontWeight="Bold"
                                                                            Name="ProductTypesChangeLogListCount"
                                                                            Text="{Binding DataContext.LinkedPolistCount,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" />

                                                                        <dxe:TextEdit Margin="5 5 0 0" Foreground="Transparent" ShowBorder="False" IsReadOnly="True" Grid.Column="1">
                                                                            <dxe:TextEdit.EditValue>
                                                                                <Binding Path="DataContext.SelectedAccountActivityLinkedItemsCount" RelativeSource="{RelativeSource AncestorType=dxwui:WinUIDialogWindow}" ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                                                    <Binding.ValidationRules>
                                                                                        <Validation:RequiredValidationRule FieldName="SelectedAccountActivityLinkedItemsCount" />
                                                                                    </Binding.ValidationRules>
                                                                                </Binding>
                                                                            </dxe:TextEdit.EditValue>
                                                                        </dxe:TextEdit>

                                                                        <!-- Button Add LINKED PO  -->

                                                                        <!--Command="{Binding DataContext.EditSourceButtonCommand ,  RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"-->
                                                                        <Button Background="Gray" IsHitTestVisible="True"  
                                                                                  Height="22" 
                                                                                  IsEnabled="{Binding DataContext.IsLinkedOfferSelected,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                                  Command="{Binding DataContext.AddLinkedPOButtonCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                                  
                                                                                  Grid.Column="2">
                                                                            <Button.ToolTip>
                                                                                <TextBlock Text="{DynamicResource ButtonAddLINKEDPO}"/>
                                                                            </Button.ToolTip>
                                                                            <Button.ContentTemplate>
                                                                                <DataTemplate>
                                                                                    <Image Source="{DynamicResource AddButtonImage}" Height="16" Width="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                                </DataTemplate>
                                                                            </Button.ContentTemplate>
                                                                        </Button>




                                                                    </Grid>
                                                                </DataTemplate>
                                                            </dxlc:GroupBox.HeaderTemplate>

                                                            <dxg:GridControl DockPanel.Dock="Right" Name="GridLinkedPO" SelectionMode="Row" Grid.Row="1" ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                                             SelectedItem="{Binding SelectedIndexLinkedPo,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"  
                                                                             FilterString="{Binding MyFilterString,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                                                             ShowBorder="True"
                                                                             ItemsSource="{Binding DataContext.LinkedPolist,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" 
                                                                             ImplyNullLikeEmptyStringWhenFiltering="True">


                                                                <!--Confirmation-->
                                                                <!--<dxg:GridColumn FieldName="" AllowBestFit="true"  Header=" " Width="50"  ReadOnly="True" MinWidth="40" MaxWidth="40" FilterPopupMode="CheckedList">

                                                                    <dxg:GridColumn.CellToolTipBinding>
                                                                        <Binding Path="Confirmation" />
                                                                    </dxg:GridColumn.CellToolTipBinding>
                                                                    <dxg:GridColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <StackPanel Orientation="Horizontal" Height="24">
                                                                                <Image VerticalAlignment="Center" Height="24" Width="24" Margin="10,0,0,0">
                                                                                    <Image.Style>
                                                                                        <Style>
                                                                                            <Style.Triggers>
                                                                                                --><!-- When Confirmation mail send to all linked offer is equals 2, show this image --><!--
                                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.Confirmation}" Value="Email Send to All Offer">
                                                                                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.OTM;component/Assets/Images/EmailWIthGreenArrow.png" />
                                                                                                </DataTrigger>
                                                                                                --><!-- When Confirmation mail send to some linked offer is equals 1, show this image --><!--
                                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.Confirmation}" Value="Email Send Some Offer">
                                                                                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.OTM;component/Assets/Images/EmailWIthGrayArrow.png" />
                                                                                                </DataTrigger>
                                                                                                --><!-- When Confirmation mail not send to all linked offer is equals 0, show this image --><!--
                                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.Confirmation}" Value="Email Not Send">
                                                                                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.OTM;component/Assets/Images/MailIcon.png" />
                                                                                                </DataTrigger>
                                                                                            </Style.Triggers>
                                                                                        </Style>
                                                                                    </Image.Style>
                                                                                </Image>
                                                                            </StackPanel>
                                                                        </DataTemplate>
                                                                    </dxg:GridColumn.CellTemplate>
                                                                </dxg:GridColumn>-->
                                                                <dxg:GridColumn FieldName=""  AllowBestFit="true"  Header=" " Width="50" ReadOnly="True"  MinWidth="40" MaxWidth="40" FilterPopupMode="CheckedList">
                                                                    <dxg:GridColumn.CellToolTipBinding>
                                                                        <Binding Path="Confirmation" />
                                                                    </dxg:GridColumn.CellToolTipBinding>
                                                                    <dxg:GridColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <Button VerticalAlignment="Center" HorizontalAlignment="Center"
                                                                                        Height="24"
                                                                                        Width="50"
                                                                                        BorderBrush="White"
                                                                                        Command="{Binding DataContext.SendMailOnEmailIconCommand, 
                                                                                                          RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                                                                  CommandParameter="{Binding}">
                                                                                <Image Stretch="Uniform"  VerticalAlignment="Center"  HorizontalAlignment="Center" Height="24" Width="50">
                                                                                    <Image.Style>
                                                                                        <Style TargetType="Image">
                                                                                            <Style.Triggers>
                                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.Confirmation}"  Value="Email Send to All Offer">
                                                                                                    <Setter Property="Source" 
                                                                                                                Value="/Emdep.Geos.Modules.OTM;component/Assets/Images/EmailWIthGreenArrow.png" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.Confirmation}" Value="Email Send Some Offer">
                                                                                                    <Setter Property="Source" 
                                                                                                           Value="/Emdep.Geos.Modules.OTM;component/Assets/Images/EmailWIthGrayArrow.png" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.Confirmation}" Value="Email Not Send">
                                                                                                    <Setter Property="Source" 
                                                                                                         Value="/Emdep.Geos.Modules.OTM;component/Assets/Images/MailIcon.png" />
                                                                                                </DataTrigger>
                                                                                            </Style.Triggers>
                                                                                        </Style>
                                                                                    </Image.Style>
                                                                                </Image>
                                                                            </Button>
                                                                        </DataTemplate>
                                                                    </dxg:GridColumn.CellTemplate>
                                                                </dxg:GridColumn>
                                                                <!--Code-->
                                                                <dxg:GridColumn Header="{DynamicResource OTMCode}" FieldName="Code" FilterPopupMode="CheckedList"   Width="*"  ReadOnly="True" FixedWidth="True" >
                                                                    <dxg:GridColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <TextBlock VerticalAlignment="Center" Margin="10 0 0 0">
                                                                                  <Hyperlink x:Name="hyperlink"  
                                                                                   Command="{Binding DataContext.EditLinkedPOClickCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                                   CommandParameter="{Binding}">       
                                                                                      
                                                                             <InlineUIContainer>
                                                                                 <TextBlock Text="{Binding RowData.Row.Code}" Style="{DynamicResource HyperlinkTextBlock}" TextDecorations="Underline"/>
                                                                             </InlineUIContainer>
                                                                         </Hyperlink>
                                                                             </TextBlock>
                                                                            <DataTemplate.Triggers>
                                                                                <Trigger Property="dxg:DataViewBase.IsFocusedCell" Value="True">
                                                                                    <Setter TargetName="hyperlink" Property="Foreground" Value="OrangeRed"/>
                                                                                </Trigger>
                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                    <Setter TargetName="hyperlink" Property="Foreground" Value="OrangeRed" />
                                                                                </Trigger>
                                                                            </DataTemplate.Triggers>

                                                                        </DataTemplate>
                                                                    </dxg:GridColumn.CellTemplate>
                                                                </dxg:GridColumn>

                                                                <!--received in-->

                                                                <dxg:GridColumn FieldName="ReceivedIn"  
                                                                        CellToolTipBinding="{DXBinding Expr='ReceivedIn.ToString(`dd/MM/yyyy`)'}"      
                                                                        Header="{DynamicResource OTMReceptionDate}" AllowBestFit="true"   MinWidth="370"  Width="*" Visible="True"  ReadOnly="True"  FilterPopupMode="CheckedList">
                                                                    <dxg:GridColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <StackPanel Orientation="Horizontal" Height="24">
                                                                                <TextBlock Padding="2" Text ="{Binding RowData.Row.ReceivedIn,UpdateSourceTrigger=PropertyChanged,StringFormat={}{0:dd/MM/yyyy},ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" 
                                                                                           HorizontalAlignment="Center" Margin="5,0,0,0" />
                                                                            </StackPanel>
                                                                        </DataTemplate>
                                                                    </dxg:GridColumn.CellTemplate>
                                                                </dxg:GridColumn>


                                                                <!--Type-->
                                                                <dxg:GridColumn FieldName="Type" Header="{DynamicResource OTMType}"  MinWidth="350" Width="*"  ReadOnly="True" AllowBestFit="true"  FilterPopupMode="CheckedList">
                                                                    <dxg:GridColumn.CellToolTipBinding>
                                                                        <Binding Path="Type" />
                                                                    </dxg:GridColumn.CellToolTipBinding>
                                                                    <dxg:GridColumn.CellTemplate>
                                                                        <DataTemplate>
                                                                            <StackPanel Orientation="Horizontal" Height="24">
                                                                                <Image VerticalAlignment="Center" Height="24" Width="24" Margin="2,0,0,0">
                                                                                    <Image.Style>
                                                                                        <Style>
                                                                                            <Style.Triggers>
                                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.IdPOType}" Value="1">
                                                                                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.OTM;component/Assets/Images/Star.png" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.IdPOType}" Value="2">
                                                                                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.OTM;component/Assets/Images/Green Flag.png" />
                                                                                                </DataTrigger>
                                                                                                <DataTrigger Binding="{Binding Path=RowData.Row.IdPOType}" Value="3">
                                                                                                    <Setter Property="Image.Source" Value="/Emdep.Geos.Modules.OTM;component/Assets/Images/BlueFlag.png" />
                                                                                                </DataTrigger>
                                                                                            </Style.Triggers>
                                                                                        </Style>
                                                                                    </Image.Style>
                                                                                </Image>
                                                                                <TextBlock Text ="{Binding RowData.Row.PoType,UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center"  HorizontalAlignment="Center" Margin="5,0,0,0" ></TextBlock>
                                                                            </StackPanel>
                                                                        </DataTemplate>
                                                                    </dxg:GridColumn.CellTemplate>
                                                                </dxg:GridColumn>

                                                                <dxg:GridControl.View>
                                                                    <dxg:TableView x:Name="LinkedOfferTableView1"
                                                                                     NavigationStyle="Row"
                                                                                     RowDetailsVisibilityMode="Visible"
                                                                                     ShowHorizontalLines="True"
                                                                                     ShowSearchPanelMode="Never"
                                                                                     ShowColumnHeaders="True"
                                                                                     VerticalScrollbarVisibility="Auto" 
                                                                                     HorizontalScrollbarVisibility="Auto"
                                                                                     AllowFixedColumnMenu="False"
                                                                                     ShowTotalSummary="False"
                                                                                     IsColumnChooserVisible="{Binding DataContext.IsLinkedOffersViewColumnChooserVisible,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                                                     ShowFixedTotalSummary="False"
                                                                                     SearchPanelHorizontalAlignment="Stretch"
                                                                                     EnableImmediatePosting="True"
                                                                                     ImmediateUpdateRowPosition="True"
                                                                                     AllowEditing="True"
                                                                                     ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly"
                                                                                     AllowGrouping="True"                                                                                    
                                                                                     ShowGroupPanel="False"
                                                                                     ShowIndicator="False" 
                                                                                     ShowFilterPopup="{DXEvent Handler='@args.PopupBaseEdit.PopupWidth=200'}" 
                                                                                     FocusedRow="{Binding Path=SelectedGridRow,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                                                     RowDetailsTemplate="{Binding SelectedItem.DetailTemplate,ElementName=rowTemplateComboBox}"
                                                                                     RowStyle="{Binding SelectedItem.RowStyle,ElementName=rowTemplateComboBox}"
                                                                            UseLegacyFilterEditor="True">
                                                                    </dxg:TableView>
                                                                </dxg:GridControl.View>
                                                            </dxg:GridControl>
                                                        </dxlc:GroupBox>
                                                    </Grid>
                                                </Border>
                                            </GroupBox>
                                        </Grid>
                                    </ScrollViewer>
                                </DataTemplate>
                            </dxlc:GroupBox.MaximizedContentTemplate>

                        </dxlc:GroupBox>

                        <!--Change Logs-->
                        <dxlc:GroupBox x:Name="OTM_ChangLog" MaximizeElementVisibility="Visible" Style="{StaticResource myGroupBoxStyle}">

                            <dxlc:GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <DockPanel Margin="-5,0,0,0">
                                        <TextBlock VerticalAlignment="Center"
                                            FontWeight="Bold"
                                            Text="{DynamicResource InformationChangeLog}" />
                                        <TextBlock Width="50"
                                            Margin="5,1,0,0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            FontWeight="Bold"
                                            Name="PORequestChangeLogListCount"
                                            Text="{Binding DataContext.ListPORequestChangeLog.Count, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.HeaderTemplate>


                            <dxlc:GroupBox.ContentTemplate>
                                <DataTemplate>
                                    <Grid Height="0" Width="0" Margin="0">
                                    </Grid>
                                </DataTemplate>
                            </dxlc:GroupBox.ContentTemplate>

                            <dxlc:GroupBox.MaximizedContentTemplate>
                                <DataTemplate>
                                    <DockPanel  VerticalAlignment="Stretch" LastChildFill="True">
                                        <dxg:GridControl HorizontalAlignment="Stretch"  VerticalAlignment="Stretch" Padding="0" SelectionMode="Row" 
                                              ItemsSource="{Binding DataContext.ListPORequestChangeLog,RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}, Mode=TwoWay}"
                                              DockPanel.Dock="Top" ScrollViewer.VerticalScrollBarVisibility="Visible" ImplyNullLikeEmptyStringWhenFiltering="True">
                                            <dxg:GridControl.Columns>
                                                <dxg:GridColumn FieldName="People.FullName" Header="{DynamicResource User}" FixedWidth="True" Width="150" FilterPopupMode="CheckedList" />
                                                <dxg:GridColumn Binding="{Binding DateTime,StringFormat=d,ConverterCulture={x:Static sysglb:CultureInfo.CurrentCulture}}" Header="{DynamicResource DateUser}" FixedWidth="True" Width="150" FilterPopupMode="CheckedList">
                                                    <dxg:GridColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <dxe:TextEdit Name="PART_Editor" DisplayFormatString="d" />
                                                        </DataTemplate>
                                                    </dxg:GridColumn.CellTemplate>
                                                </dxg:GridColumn>
                                                <dxg:GridColumn FieldName="Comments" Header="{DynamicResource Action}" FixedWidth="False" Width="*" FilterPopupMode="CheckedList" ToolTip="{Binding Comments, RelativeSource={RelativeSource AncestorType=dxlc:GroupBox}}" />
                                            </dxg:GridControl.Columns>
                                            <dxmvvm:Interaction.Behaviors>
                                                <UIHelper:GridSelectingBehavior />
                                            </dxmvvm:Interaction.Behaviors>
                                            <dxg:GridControl.View>
                                                <dxg:TableView Name="ChnageLogTableView" 
                                                                    NavigationStyle="Row"
                                                                    RowDetailsVisibilityMode="Visible"
                                                                    ShowHorizontalLines="True" 
                                                                    VerticalScrollbarVisibility="Auto"
                                                                    AllowFixedColumnMenu="False"
                                                                    AllowSorting="True"
                                                                    AllowGrouping="False"
                                                                    ShowGroupPanel="False"
                                                                    ShowIndicator="False"
                                                                    SearchPanelHorizontalAlignment="Stretch"
                                                                    ColumnChooserColumnDisplayMode="ShowHiddenColumnsOnly" />
                                            </dxg:GridControl.View>
                                        </dxg:GridControl>
                                    </DockPanel>
                                </DataTemplate>
                            </dxlc:GroupBox.MaximizedContentTemplate>
                        </dxlc:GroupBox>
                    </dxlc:FlowLayoutControl>
                </dxdo:LayoutPanel>
            </dxdo:LayoutGroup>
            <dxdo:DockLayoutManager.AutoHideGroups>

                <!--Email-->
                <!--[pramod.misal][09-05-2025][GEOS2-7912]-->
                <dxdo:AutoHideGroup DockType="Left" AutoHideSize="300,200">
                    <dxdo:LayoutPanel  Style="{StaticResource basePanelStyle}" 
                          CaptionTemplate="{StaticResource CustomEmailCaptionTemplate}" 
                        ShowCloseButton="False" ItemWidth="580">
                      <dxdo:LayoutPanel.ControlBoxContentTemplate>
                            <DataTemplate>
                                <Grid ShowGridLines="False">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <!--[pramod.misal][09-05-2025][GEOS2-8643]-->
                                    <Button Grid.Row="1" Grid.Column="2"
                                            ToolTip="{DynamicResource OTMEmailExpandBtnTooltipe}"
                                            Command="{Binding DataContext.OpenEmailInNewWindowCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                            CommandParameter="{Binding DataContext, RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            Padding="0"
                                            Focusable="False">

                                        <!--<Button.Template>
                                            <ControlTemplate TargetType="Button">
                                                <Grid>
                                                    <Image x:Name="icon"
                                                       Height="14" Width="14"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource ExpandButtonImage}" />
                                                </Grid>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="icon" Property="Source" Value="{DynamicResource ExpandButtonImageWhite}" />
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>-->

                                        <Button.Template>
                                            <ControlTemplate TargetType="Button">
                                                <Grid>
                                                    <Image x:Name="icon"
                                                       Height="14" Width="14"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource ExpandButtonImage}" />
                                                </Grid>
                                                <ControlTemplate.Triggers>
                                                    <!-- Mouse hover trigger -->
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="icon" Property="Source"
                                                         Value="{DynamicResource ExpandButtonImageWhite}" />
                                                    </Trigger>

                                                    <!-- Panel active trigger -->
                                                    <DataTrigger Binding="{Binding IsActive,
                                                        RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}"
                                                             Value="True">
                                                        <Setter TargetName="icon" Property="Source"
                                                            Value="{DynamicResource ExpandButtonExpandB}" />
                                                    </DataTrigger>

                                                    <!-- Active + Hover → great colour -->
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding IsActive,
                                                                RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}"
                                                                       Value="True"/>
                                                            <Condition Binding="{Binding IsMouseOver,
                                                                    RelativeSource={RelativeSource Self}}"
                                                                           Value="True"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter TargetName="icon"
                                                            Property="Source"
                                                            Value="{DynamicResource ExpandButtonImageWhite}" />
                                                    </MultiDataTrigger>

                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>

                                    </Button>
                                </Grid>
                            </DataTemplate>
                        </dxdo:LayoutPanel.ControlBoxContentTemplate>
                        <dxdo:LayoutPanel.Appearance>
                            <dxdo:Appearance>
                                <dxdo:Appearance.Normal>
                                    <dxdo:AppearanceObject Background="{StaticResource OTMEmailTabBrush}" />
                                </dxdo:Appearance.Normal>
                                <dxdo:Appearance.Active>
                                    <dxdo:AppearanceObject Background="{StaticResource OTMEmailTabBrush}" />
                                </dxdo:Appearance.Active>
                            </dxdo:Appearance>
                        </dxdo:LayoutPanel.Appearance>
                    </dxdo:LayoutPanel>
                    <dxmvvm:Interaction.Behaviors>
                        <dxmvvm:EventToCommand Command="{Binding DataContext.PreviewMouseMoveCommand,UpdateSourceTrigger=PropertyChanged,          
                            Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" EventName="PreviewMouseMove" />
                    </dxmvvm:Interaction.Behaviors>
                </dxdo:AutoHideGroup>
                <!--Attachements-->
 
                <!--{Binding DataContext.AttachementWidth, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}-->
                <!--[pramod.misal][09-05-2025][GEOS2-7248]-->
                <dxdo:AutoHideGroup DockType="Left" AllowMaximize="True" >
                    <dxdo:LayoutPanel CaptionTemplate="{StaticResource CustomAttachementCaptionTemplate}" ShowCloseButton="False" ShowExpandButton="True" 
                                      ItemWidth="580">

                        <dxdo:LayoutPanel.ControlBoxContentTemplate>
                            <DataTemplate>
                                <Grid ShowGridLines="False">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <!--[pramod.misal][09-05-2025][GEOS2-9225]-->
                                    <Button  Grid.Column="0"
                                                ToolTip="{DynamicResource OTMContractAttachementTooltipe}" Visibility="{Binding DataContext.IsContractBtnVisible,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" 
                                                Command="{Binding DataContext.ContractAttachementCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                                CommandParameter="{Binding  RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}"
                                                Background="Transparent"
                                                BorderThickness="0"
                                                Padding="0"
                                                Focusable="False">
                                        <Button.Template>
                                            <ControlTemplate TargetType="Button">
                                                <Grid>
                                                    <Image x:Name="icon" Height="14" Width="14" HorizontalAlignment="Center" VerticalAlignment="Center" Source="{DynamicResource AContractButtonImage}" />
                                                </Grid>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="icon" Property="Source" Value="{DynamicResource AContractButtonExpandB}" />
                                                    </Trigger>
                                                    <DataTrigger Binding="{Binding IsActive,RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}" Value="True">
                                                        <Setter TargetName="icon" Property="Source" Value="{DynamicResource AContractButtonImageWhite}" />
                                                    </DataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding IsActive, RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}" Value="True"/>
                                                            <Condition Binding="{Binding IsMouseOver,RelativeSource={RelativeSource Self}}" Value="True"/>
                                                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter TargetName="icon" Property="Source" Value="{DynamicResource AContractButtonImage}" />
                                                    </MultiDataTrigger>

                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding IsActive, RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}" Value="True"/>
                                                            <Condition Binding="{Binding IsMouseOver,RelativeSource={RelativeSource Self}}" Value="True"/>
                                                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter TargetName="icon" Property="Source" Value="{DynamicResource AContractButtonExpandB}" />
                                                    </MultiDataTrigger>

                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>

                                    </Button>
                                    <!--[pramod.misal][09-05-2025][GEOS2-9225]-->
                                    <Button  Grid.Column="0"
                                              ToolTip="{DynamicResource OTMExpandAttachementTooltipe}" Visibility="{Binding DataContext.IsExpandBtnVisible,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                              Command="{Binding DataContext.ExpandAttachementCommand, RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                              CommandParameter="{Binding  RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}"
                                              Background="Transparent"
                                              BorderThickness="0"
                                              Padding="0"
                                              Focusable="False">
                                        <Button.Template>
                                            <ControlTemplate TargetType="Button">
                                                <Grid>
                                                    <Image x:Name="icon" Height="14" Width="14" HorizontalAlignment="Center" VerticalAlignment="Center" Source="{DynamicResource AExpandButtonImage}" />
                                                </Grid>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="icon" Property="Source" Value="{DynamicResource AExpandButtonExpandB}" />
                                                    </Trigger>
                                                    <DataTrigger Binding="{Binding IsActive,RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}" Value="True">
                                                        <Setter TargetName="icon" Property="Source" Value="{DynamicResource AExpandButtonImageWhite}" />
                                                    </DataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding IsActive, RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}" Value="True"/>
                                                            <Condition Binding="{Binding IsMouseOver,RelativeSource={RelativeSource Self}}" Value="True"/>
                                                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="WhiteAndBlue" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter TargetName="icon" Property="Source" Value="{DynamicResource AExpandButtonImage}" />
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding IsActive, RelativeSource={RelativeSource AncestorType=dxdo:LayoutPanel}}" Value="True"/>
                                                            <Condition Binding="{Binding IsMouseOver,RelativeSource={RelativeSource Self}}" Value="True"/>
                                                            <Condition Binding="{Binding Path=(dx:ThemeManager.TreeWalker).ThemeName, RelativeSource={RelativeSource Self}}" Value="BlackAndBlue" />
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter TargetName="icon" Property="Source" Value="{DynamicResource AExpandButtonExpandB}" />
                                                    </MultiDataTrigger>

                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>

                                    </Button>
                                    
                                    
                                </Grid>
                            </DataTemplate>
                        </dxdo:LayoutPanel.ControlBoxContentTemplate>
                        
                        

                        <Grid ShowGridLines="False" >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="5"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <dxg:GridControl x:Name="gridFiles" ShowBorder="True"  Grid.Row="0"   VerticalAlignment="Stretch"   Grid.RowSpan="3"                                    
                                     ItemsSource="{Binding DataContext.POAttachementsList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
                                     SelectedItem="{Binding DataContext.SelectedPOAttachement, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}">

                                <dxg:GridControl.Columns>
                                    <!--Name-->
                                    <dxg:GridColumn Header="{DynamicResource NamePicture}"
                                            FieldName="AttachmentName" Width="*" ReadOnly="True" FixedWidth="True">
                                        <dxg:GridColumn.CellToolTipBinding>
                                            <Binding Path="AttachmentName" />
                                        </dxg:GridColumn.CellToolTipBinding>
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Margin="2">
                                                    <Image Source="{Binding  RowData.Row.AttachmentImage}" Height="20" Width="20">
                                                        <Image.Style>
                                                            <Style TargetType="Image">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding  RowData.Row.AttachmentName}" Value="">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding  RowData.Row.AttachmentName}" Value="{x:Null}">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Image.Style>
                                                    </Image>
                                                    <TextBlock Text ="{Binding RowData.Row.AttachmentName,UpdateSourceTrigger=PropertyChanged}"  HorizontalAlignment="Center" Margin="5,0,0,0" ></TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                    <!--Type-->
                                    <dxg:GridColumn Header="{DynamicResource EditPOOTMType}"  FieldName="Value"  MaxWidth="100" Width="*">
                                        <dxg:GridColumn.CellTemplate>
                                            <DataTemplate>
                                                <dxe:ComboBoxEdit ItemsSource="{Binding RowData.Row.AttachmentTypeList,UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" AllowUpdateTwoWayBoundPropertiesOnSynchronization="False"                                                
                                                                  ShowTooltipForTrimmedText="True" AutoComplete="True" ImmediatePopup="True" ValueMember="IdLookupValue" DisplayMember="Value" IncrementalFiltering="True"                                                       
                                                                  ApplyItemTemplateToSelectedItem="True"                                                                                                                                                          
                                                                  HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" IsTextEditable="False" AllowDefaultButton="False" >
                                                    <dxe:ComboBoxEdit.Buttons>
                                                        <dxe:ButtonInfo IsDefaultButton="True" GlyphKind="DropDown" />
                                                    </dxe:ComboBoxEdit.Buttons>
                                                    <dxe:ComboBoxEdit.SelectedIndex>
                                                        <Binding Path="RowData.Row.SelectedIndexAttachementType"  ValidatesOnDataErrors="True" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                                            <Binding.ValidationRules>
                                                                <Validation:CustomerRequiredFieldValidation FieldName="SelectedIndexAttachementType" ValidationStep="UpdatedValue" />
                                                            </Binding.ValidationRules>
                                                        </Binding>
                                                    </dxe:ComboBoxEdit.SelectedIndex>
                                                </dxe:ComboBoxEdit>
                                            </DataTemplate>
                                        </dxg:GridColumn.CellTemplate>
                                    </dxg:GridColumn>
                                </dxg:GridControl.Columns>

                                <dxg:GridControl.View>
                                    <dxg:TableView x:Name="FilesTableView"
                                            ShowGroupedColumns="True"
                                            ShowSearchPanelMode="Always" 
                                            SearchPanelHorizontalAlignment="Stretch" 
                                            HorizontalScrollbarVisibility="Auto"
                                            VerticalScrollbarVisibility="Auto"
                                            ShowIndicator="False"
                                            ShowColumnHeaders="True"
                                            ShowGroupPanel="False" 
                                            AllowEditing="True"
                                            NavigationStyle="Row"
                                            ShowHorizontalLines="True" 
                                            ShowVerticalLines="True"                                                 
                                            AllowColumnMoving="False">

                                        <!--[pramod.misal][GEOS2-8307][23-06-2025]-->
                                        <dxmvvm:Interaction.Behaviors>
                                            <dxmvvm:EventToCommand Command="{Binding DoubleClickOnAttachmentCommand}" EventName="MouseDoubleClick" CommandParameter="{Binding ElementName=AttendanceTableView}">
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <dx:EventArgsToDataRowConverter />
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>

                                        </dxmvvm:Interaction.Behaviors>

                                    </dxg:TableView>
                                </dxg:GridControl.View>
                            </dxg:GridControl>


                        </Grid>

                        
                    </dxdo:LayoutPanel>
                    
           
                    
                </dxdo:AutoHideGroup>
            </dxdo:DockLayoutManager.AutoHideGroups>
            <!--[rdixit][GEOS2-8305][08.08.2025]-->
            <dxmvvm:Interaction.Behaviors>
                <dxmvvm:EventToCommand Command="{Binding DataContext.LoadedCommand,UpdateSourceTrigger=PropertyChanged, 
                    Mode=TwoWay,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}" EventName="Loaded" />
            </dxmvvm:Interaction.Behaviors>
        </dxdo:DockLayoutManager>
        <!--Accept and Cancel Button-->
        <Grid Grid.Row="2" ShowGridLines="False" VerticalAlignment="Center" HorizontalAlignment="Center" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Row="3" Grid.Column="0"
             Style="{DynamicResource Button16Style}"
             HorizontalAlignment="Right"
             Content="{DynamicResource AddPORequestsAcceptButton}"
             Command="{Binding DataContext.AddPORequestsAcceptButtonCommand,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,RelativeSource={RelativeSource AncestorType=dxwui:WinUIDialogWindow}}"
             Height="30"
             Width="100" 
             CommandParameter="{Binding ElementName=Compatibility}"
             />

            <Button Grid.Row="3" Grid.Column="2"
             Style="{DynamicResource Button16Style}"
             HorizontalAlignment="Left"
             Content="{DynamicResource AddPORequestsCancelButton}"
             Command="{Binding AddPORequestsCancelButtonCommand}"
             Height="30"
             Width="100" />
        </Grid>

    </Grid>
</dxwui:WinUIDialogWindow>
