<UserControl xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid" 
             xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:ViewModels="clr-namespace:Emdep.Geos.Modules.Crm.ViewModels"
             x:Class="Emdep.Geos.Modules.Crm.Views.EmployesView" 
             mc:Ignorable="d"
             Style="{DynamicResource UserControlStyle}">

    <UserControl.Resources>
        <ControlTemplate x:Key="detailContainerTemplate" TargetType="{x:Type ContentControl}">
            <Border BorderThickness="0,1,0,0" BorderBrush="{TemplateBinding BorderBrush}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Padding="12,12,12,12" Background="{TemplateBinding Background}">
                <ContentControl/>
            </Border>
        </ControlTemplate>
        <DataTemplate x:Key="DetailCoreTemplate">
            <dx:MeasurePixelSnapper/>
        </DataTemplate>
        <DataTemplate x:Key="expandableRowDetailTemplate">
            <StackPanel Orientation="Vertical">
                <dx:MeasurePixelSnapper>
                    <ContentPresenter x:Name="defaultRowPresenter" Content="{Binding}" ContentTemplate="{Binding View.DefaultDataRowTemplate}" />
                </dx:MeasurePixelSnapper>
                <dx:DXExpander IsExpanded="{Binding IsSelected}" HorizontalExpand="None" VerticalExpand="FromTopToBottom">
                    <dxg:RowDetailContainerControl Template="{StaticResource detailContainerTemplate}" Content="{Binding}" ContentTemplate="{DynamicResource DetailCoreTemplate}" />
                </dx:DXExpander>
            </StackPanel>
        </DataTemplate>
    </UserControl.Resources>

    <UserControl.DataContext>
        <ViewModels:EmployesViewModel/>
    </UserControl.DataContext>

    <Grid>
        <DockPanel LastChildFill="True">
            <Grid DockPanel.Dock="Top"   Margin="0,10,0,10" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="10*" />
                </Grid.ColumnDefinitions>
                <Label Content="Employees" VerticalAlignment="Bottom" Margin="10,0,0,0" Style="{DynamicResource LabelTitleStyle}" Grid.Column="0"/>
                <Button Content=" " Height="40" Width="40"  HorizontalAlignment="Right" Grid.Column="4">
                    <Button.ContentTemplate>
                        <DataTemplate>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Image Style="{ DynamicResource PrinterButtonImageStyle}" Grid.Column="0" Height="24" Width="24" Margin="-10"/>
                            </Grid>
                        </DataTemplate>
                    </Button.ContentTemplate>
                </Button>
            </Grid>
            <dxg:GridControl x:Name="grid" 	ItemsSource="{Binding EmployesList}">
                <dxg:GridControl.Columns>
                    <dxg:GridColumn FieldName="FirstName" Header="Name" MinWidth="60"/>
                    <dxg:GridColumn FieldName="LastName" Header="Surname" MinWidth="60"/>
                    <dxg:GridColumn FieldName="Emailid" Header ="Email" MinWidth="60" Width="150"/>
                    <dxg:GridColumn FieldName="Position" Header="Job Position"  MinWidth="60" Width="150" />
                    <dxg:GridColumn FieldName="Site" Header="Site"  MinWidth="60" Width="150" />
                </dxg:GridControl.Columns>
                <dxg:GridControl.View>
                    <dxg:TableView NavigationStyle="Row" RowDetailsVisibilityMode="Visible" ShowHorizontalLines="False" 
                                   ShowColumnHeaders="True" VerticalScrollbarVisibility="Visible"
                                   AllowGrouping="False" ShowGroupPanel="False" ShowIndicator="False">
                        <dxg:TableView.RowDetailsTemplate>
                            <DataTemplate>
                                <dx:DXExpander IsExpanded="{Binding (dxg:DataViewBase.IsFocusedRow), RelativeSource={RelativeSource TemplatedParent}}" HorizontalExpand="None" VerticalExpand="FromTopToBottom">
                                    <Border BorderThickness="0,0,0,1" TextElement.Foreground="White" BorderBrush="{DynamicResource {dxgt:GridRowThemeKey ResourceKey=GridDataRowDelimiterBrush}}" Background="#333333">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="10" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="10"  />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="30"  />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition/>
                                                <RowDefinition Height="10"></RowDefinition>
                                                <RowDefinition/>
                                                <RowDefinition Height="10"></RowDefinition>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                                <RowDefinition Height="10"></RowDefinition>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                                <RowDefinition Height="10"></RowDefinition>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                                <RowDefinition/>
                                                <RowDefinition Height="10"></RowDefinition>
                                                <RowDefinition Height="10"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <dxe:ImageEdit MaxWidth="150" HorizontalAlignment="Center" VerticalAlignment="Top" Source="{Binding Path=Row.Photo}" Grid.Column="0" Width="{Binding Path=CellData[0].Column.ActualDataWidth}" ShowMenu="False" IsReadOnly="True" Margin="0,6,0,0"/>
                                            <Grid Grid.Column="2">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="10" />
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="10" />
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="10" />
                                                    <ColumnDefinition Width="Auto"  />
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition />
                                                    <RowDefinition />
                                                    <RowDefinition />
                                                </Grid.RowDefinitions>
                                                <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Row.FirstName}" Style="{DynamicResource TextBlock20Style}" FontWeight="Bold" />
                                                <TextBlock Grid.Column="0" Grid.Row="1" Text="{Binding Row.Position}" Style="{DynamicResource TextBlock20Style}" />
                                                <TextBlock Grid.Column="0" Grid.Row="2" Text="EMDEP-Pune(India)" Style="{DynamicResource TextBlock20Style}" />
                                            </Grid>

                                            <TextBlock Grid.Column="0" Grid.Row="2" Text="Contact Information" Style="{DynamicResource TextBlock20Style}" />
                                            <TextBlock Grid.Column="0" Grid.Row="4" Text="Address" HorizontalAlignment="Left" FontWeight="Bold" Margin="50,0,0,0" />
                                            <TextBlock Grid.Column="0" Grid.Row="5" Text="Pune" Margin="50,0,0,0" />
                                            <TextBlock Grid.Column="0" Grid.Row="6" Text="Postal Code:" HorizontalAlignment="Left" FontWeight="Bold" Margin="50,0,0,0" />
                                            <TextBlock Grid.Column="0" Grid.Row="7" Text="1231455" Margin="50,0,0,0" />
                                            <TextBlock Grid.Column="2" Grid.Row="4" Text="Email Id:" HorizontalAlignment="Left" FontWeight="Bold" />
                                            <TextBlock Grid.Column="2" Grid.Row="5" Text="skulkarni@emdep.com" />
                                            <TextBlock Grid.Column="2" Grid.Row="6" Text="Home Town " HorizontalAlignment="Left" FontWeight="Bold" />
                                            <TextBlock Grid.Column="2" Grid.Row="7" Text="Pune" />
                                            <TextBlock Grid.Column="4" Grid.Row="4" Text="Country " HorizontalAlignment="Left" FontWeight="Bold" />
                                            <TextBlock Grid.Column="4" Grid.Row="5" Text="India" />
                                            <TextBlock Grid.Column="4" Grid.Row="6" Text="Work Phone " HorizontalAlignment="Left" FontWeight="Bold" />
                                            <TextBlock Grid.Column="4" Grid.Row="7" Text="1233333" />
                                            <TextBlock Grid.Column="6" Grid.Row="4" Text="Private Email " HorizontalAlignment="Left" FontWeight="Bold" />
                                            <TextBlock Grid.Column="6" Grid.Row="5" Text="skulkarni@emdep.com" />
                                            <TextBlock Grid.Column="0" Grid.Row="9" Text="Job Details" FontWeight="Bold" FontSize="18" />
                                            <TextBlock Grid.Column="0" Grid.Row="10" Text="Job Title" HorizontalAlignment="Left" FontWeight="Bold" Margin="50,0,0,0" />
                                            <TextBlock Grid.Column="0" Grid.Row="11" Text="Pune" Margin="50,0,0,0" />
                                            <TextBlock Grid.Column="0" Grid.Row="13" Text="Assigned Account" FontWeight="Bold" FontSize="18" />
                                            <TextBlock Grid.Column="0" Grid.Row="14" Text="YAZAKI ROMANIA SRL" Margin="50,0,0,0"/>
                                            <TextBlock Grid.Column="0" Grid.Row="15" Text="FUJIKURA PISTSTL SRL" Margin="50,0,0,0"/>
                                            <TextBlock Grid.Column="2" Grid.Row="14" Text="Permissions" HorizontalAlignment="Left" FontWeight="Bold" />

                                            <dxe:ComboBoxEdit Grid.Column="2" Grid.Row="15">
                                                <dxe:ComboBoxEditItem Content="My Companies" />
                                                <dxe:ComboBoxEditItem Content="My Regions" />
                                                <dxe:ComboBoxEditItem Content="WordWide" />
                                            </dxe:ComboBoxEdit>
                                        </Grid>
                                    </Border>
                                </dx:DXExpander>
                            </DataTemplate>
                        </dxg:TableView.RowDetailsTemplate>
                    </dxg:TableView>

                </dxg:GridControl.View>
            </dxg:GridControl>
        </DockPanel>
    </Grid>
</UserControl>
