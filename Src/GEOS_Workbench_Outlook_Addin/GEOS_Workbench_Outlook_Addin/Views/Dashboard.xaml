<UserControl x:Class="Emdep.Geos.Modules.Crm.Views.Dashboard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:ViewModels="clr-namespace:Emdep.Geos.Modules.Crm.ViewModels"
             xmlns:dxc="http://schemas.devexpress.com/winfx/2008/xaml/charts" 
             d:DesignHeight="300" d:DesignWidth="300"
             Style="{DynamicResource UserControlStyle}">

    <UserControl.DataContext>
        <ViewModels:CrmMainViewModel/>
    </UserControl.DataContext>

    <UserControl.Resources>
        <dxc:CustomPalette x:Key="chartsPalette">
            <dxc:CustomPalette.Colors>
                <Color>#FF00859C</Color>
                <Color>#FFCE7100</Color>
                <Color>#FF0072C6</Color>
                <Color>#FF3D7138</Color>
                <Color>#FF555555</Color>
            </dxc:CustomPalette.Colors>
        </dxc:CustomPalette>
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition  Width="100"/>
            <ColumnDefinition  Width="100"/>

        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="100*"/>
            <RowDefinition Height="100"/>
        </Grid.RowDefinitions>
        <dxc:ChartControl Grid.Column="0" Grid.Row="0" Grid.RowSpan="2" HorizontalAlignment="Stretch" VerticalAlignment="Top">
            <dxc:ChartControl.Diagram>
                <dxc:SimpleDiagram2D >
                    <dxc:FunnelSeries2D LegendTextPattern="{}{A}: {VP: ##.##%}"
                                        HeightToWidthRatioAuto="True" HeightToWidthRatio="0.9" 
                                        PointDistance="2">
                        <dxc:SeriesPoint Argument="Visited a Web Site" Value="9152" />
                        <dxc:SeriesPoint Argument="Downloaded a Trial" Value="6870" />
                        <dxc:SeriesPoint Argument="Contacted to Support" Value="5121" />
                        <dxc:SeriesPoint Argument="Subscribed" Value="2224" />
                        <dxc:SeriesPoint Argument="Renewed" Value="1670" />
                        <dxc:FunnelSeries2D.Label>
                            <dxc:SeriesLabel Visible="True" TextPattern="{}{A}: {VP: ##.##%}"
                                             dxc:FunnelSeries2D.LabelPosition="Center"/>
                        </dxc:FunnelSeries2D.Label>
                        <dxc:FunnelSeries2D.Titles>
                            <dxc:Title Dock="Top" HorizontalAlignment="Center"
                                       FontSize="24">Web Site Visitor Trend</dxc:Title>
                        </dxc:FunnelSeries2D.Titles>
                    </dxc:FunnelSeries2D>
                </dxc:SimpleDiagram2D>
            </dxc:ChartControl.Diagram>
            <dxc:ChartControl.Legend>
                <dxc:Legend/>
            </dxc:ChartControl.Legend>
        </dxc:ChartControl>
        <dxc:ChartControl Grid.Column="1" Name="chart3" ToolTipEnabled="True" BorderThickness="0"
                          Palette="{StaticResource chartsPalette}" Padding="5"  AutoLayout="False">
            <dxc:ChartControl.Diagram>
                <dxc:XYDiagram2D Rotated="True">
                    <dxc:XYDiagram2D.AxisX>
                        <dxc:AxisX2D TickmarksVisible="False" TickmarksMinorVisible="False">
                            <dxc:AxisX2D.Label>
                                <dxc:AxisLabel Visible="False"/>
                            </dxc:AxisX2D.Label>
                        </dxc:AxisX2D>
                    </dxc:XYDiagram2D.AxisX>
                    <dxc:XYDiagram2D.AxisY>
                        <dxc:AxisY2D>
                            <dxc:AxisY2D.Label>
                                <dxc:AxisLabel TextPattern="{} {V:c0}"/>
                            </dxc:AxisY2D.Label>
                        </dxc:AxisY2D>
                    </dxc:XYDiagram2D.AxisY>
                    <dxc:XYDiagram2D.Series>
                        <dxc:BarSideBySideSeries2D DataSource="{Binding CostSelectedItem, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                                   ColorEach="True" BarWidth="0.8" ArgumentDataMember="Category"
                                                   ValueDataMember="Cost" LegendTextPattern="{}{A}"
                                                   ToolTipEnabled="False" CrosshairLabelPattern="{}{A}: {V:c0}">
                            <dxc:BarSideBySideSeries2D.Model>
                                <dxc:BorderlessSimpleBar2DModel/>
                            </dxc:BarSideBySideSeries2D.Model>
                        </dxc:BarSideBySideSeries2D>
                    </dxc:XYDiagram2D.Series>
                </dxc:XYDiagram2D>
            </dxc:ChartControl.Diagram>
            <dxc:ChartControl.Legend>
                <dxc:Legend VerticalAlignment="Top" VerticalContentAlignment="Top" Padding="0" Orientation="Horizontal"
                            HorizontalPosition="Center" VerticalPosition="BottomOutside" BorderThickness="0"/>
            </dxc:ChartControl.Legend>
        </dxc:ChartControl>
        <dxc:ChartControl Grid.Column="2" Name="chart4" ToolTipEnabled="True" BorderThickness="0"
                          Palette="{StaticResource chartsPalette}" Padding="5"  AutoLayout="False">
            <dxc:ChartControl.Diagram>
                <dxc:XYDiagram2D Rotated="True">
                    <dxc:XYDiagram2D.AxisX>
                        <dxc:AxisX2D TickmarksVisible="False" TickmarksMinorVisible="False">
                            <dxc:AxisX2D.Label>
                                <dxc:AxisLabel Visible="False"/>
                            </dxc:AxisX2D.Label>
                        </dxc:AxisX2D>
                    </dxc:XYDiagram2D.AxisX>
                    <dxc:XYDiagram2D.AxisY>
                        <dxc:AxisY2D>
                            <dxc:AxisY2D.Label>
                                <dxc:AxisLabel TextPattern="{} {V:c0}"/>
                            </dxc:AxisY2D.Label>
                        </dxc:AxisY2D>
                    </dxc:XYDiagram2D.AxisY>
                    <dxc:XYDiagram2D.Series>
                        <dxc:BarSideBySideSeries2D DataSource="{Binding CostSelectedItem, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                                   ColorEach="True" BarWidth="0.8" ArgumentDataMember="Category"
                                                   ValueDataMember="Cost" LegendTextPattern="{}{A}"
                                                   ToolTipEnabled="False" CrosshairLabelPattern="{}{A}: {V:c0}">
                            <dxc:BarSideBySideSeries2D.Model>
                                <dxc:BorderlessSimpleBar2DModel/>
                            </dxc:BarSideBySideSeries2D.Model>
                        </dxc:BarSideBySideSeries2D>
                    </dxc:XYDiagram2D.Series>
                </dxc:XYDiagram2D>
            </dxc:ChartControl.Diagram>
            <dxc:ChartControl.Legend>
                <dxc:Legend VerticalAlignment="Top" VerticalContentAlignment="Top" Padding="0" Orientation="Horizontal"
                            HorizontalPosition="Center" VerticalPosition="BottomOutside" BorderThickness="0"/>
            </dxc:ChartControl.Legend>
        </dxc:ChartControl>
        <dxc:ChartControl Grid.Row="1" Grid.ColumnSpan="2" Grid.Column="1" Name="chart2" BorderThickness="0" Padding="5"
                          Palette="{StaticResource chartsPalette}" AutoLayout="False" >
            <dxc:ChartControl.Diagram>
                <dxc:SimpleDiagram2D>
                    <dxc:PieSeries2D DataSource="{Binding SalesSummarySelectedItem, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     ArgumentDataMember="Category" ValueDataMember="Sales"
                                     LegendTextPattern="{}{A} {V:c2}"  HoleRadiusPercent="57">
                        <dxc:PieSeries2D.Model>
                            <dxc:BorderlessFlatPie2DModel/>
                        </dxc:PieSeries2D.Model>
                    </dxc:PieSeries2D>
                </dxc:SimpleDiagram2D>
            </dxc:ChartControl.Diagram>
            <dxc:ChartControl.Legend >
                <dxc:Legend Orientation="Vertical" HorizontalPosition="RightOutside" VerticalPosition="Center" BorderThickness="0" Padding="0" Margin="0,0,10,0"/>
            </dxc:ChartControl.Legend>
        </dxc:ChartControl>
    </Grid>
</UserControl>
