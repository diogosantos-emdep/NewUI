<UserControl xmlns:Views="clr-namespace:Workbench.Views"  
             x:Class="Workbench.Views.CrmWindow"
             xmlns:ViewModels="clr-namespace:Workbench.ViewModels"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d"
             xmlns:dxwui="http://schemas.devexpress.com/winfx/2008/xaml/windowsui"
             xmlns:Helpers="clr-namespace:Emdep.Geos.Modules.Crm.Views;assembly=Emdep.Geos.Modules.Crm"
             xmlns:GeosApplication="clr-namespace:Emdep.Geos.UI.Common;assembly=Emdep.Geos.UI.Common"
            xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking"
             xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
             xmlns:dxn="http://schemas.devexpress.com/winfx/2008/xaml/navbar"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
             xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
             xmlns:dxa="http://schemas.devexpress.com/winfx/2008/xaml/accordion"
             xmlns:dxat="http://schemas.devexpress.com/winfx/2008/xaml/accordion/themekeys"
             xmlns:CRMCommon="clr-namespace:Emdep.Geos.Modules.Crm;assembly=Emdep.Geos.Modules.Crm"
             xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
             xmlns:behaviors="clr-namespace:Emdep.Geos.UI.Behaviors;assembly=Emdep.Geos.UI.Common"
             d:DesignHeight="300" d:DesignWidth="300">

    <!--<Grid>
        <Views:CRMMainView />
    </Grid>-->

    <UserControl.DataContext>
        <ViewModels:CrmWindowViewModel/>
    </UserControl.DataContext>
     <Grid >
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <dxdo:DockLayoutManager Name="dockManager1">

            <dxdo:LayoutGroup x:Name="rootMainGroup" Orientation="Horizontal" Grid.Column="0" BorderThickness="0" >
                <dxdo:LayoutPanel x:Name="documentGroup1" ShowCaption="False" ShowCloseButton="False">
                    <Grid Grid.Column="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock FontSize="24" VerticalAlignment="Center" Margin="50,0,0,0">
                                <Run Text="{Binding ModuleShortName}" Foreground="#061C3D" FontWeight="SemiBold"/>
                                <Run Text="{Binding ModuleName}" Foreground="#42526B"/>
                        </TextBlock>

                        <dxwui:PageAdornerControl  Height="50"
                           Grid.Row="0" Grid.RowSpan="2" Grid.Column="0"
                           Visibility="{Binding Source={x:Static GeosApplication:GeosApplication.Instance}, Path=TileBarVisibility}"
                           VerticalAlignment="Top" HorizontalAlignment="Left" Padding="-15,-18,0,0" >
                            <dxwui:PageAdornerControl.HeaderTemplate>
                                <DataTemplate>
                                </DataTemplate>
                            </dxwui:PageAdornerControl.HeaderTemplate>
                        </dxwui:PageAdornerControl>
                        
                        
                        
                        
                        
                        <Helpers:CrmMainView Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" />



                        
                    </Grid>

                </dxdo:LayoutPanel>

            </dxdo:LayoutGroup>
            
            

            
        </dxdo:DockLayoutManager>

    </Grid>

    <i:Interaction.Triggers>
        <i:EventTrigger EventName="KeyDown">
            <behaviors:InvokeDelegateCommandAction Command="{Binding CommandTextInput}" CommandParameter="{Binding Path=InvokeParameter, RelativeSource={RelativeSource Self}}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>

</UserControl>
